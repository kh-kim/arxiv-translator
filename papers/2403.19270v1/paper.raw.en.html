<html lang="en" data-theme="light"><head>
<meta content="text/html; charset=utf-8" http-equiv="content-type">
<title>sDPO: Don’t Use Your Data All at Once</title>
<!--Generated on Thu Mar 28 09:53:51 2024 by LaTeXML (version 0.8.7) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/static/browse/0.3.4/css/ar5iv_0.7.4.min.css" rel="stylesheet" type="text/css">
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2403.19270v1/"><link rel="stylesheet" href="https://use.typekit.net/rwr5zpx.css"><link rel="icon" type="image/png" href="https://static.arxiv.org/static/browse/0.3.4/images/icons/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="https://static.arxiv.org/static/browse/0.3.4/images/icons/favicon-32x32.png" sizes="32x32"></head>
<body><header class="mob_header">
    <div class="html-header-logo">
      <a href="https://arxiv.org/">
        <img alt="logo" class="logomark" role="presentation" width="100" src="https://services.dev.arxiv.org/html/static/arxiv-logomark-small-white.svg">
        <span class="sr-only">Back to arXiv</span>
      </a>
    </div>

    <!--TOC, dark mode, links-->
    <div class="html-header-nav">
      <!--back to abstract-->
      
        <a class="nav-link ar5iv-footer-button hover-effect" aria-label="Back to abstract page" href="https://arxiv.org/abs/2403.19270v1">
        <svg xmlns="http://www.w3.org/2000/svg" height="1.25em" viewBox="0 0 512 512" fill="#ffffff" aria-hidden="true">
            <path d="M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 192 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"></path>
        </svg>
        </a>
      <!--dark mode-->
      <a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle dark/light mode">
        <span class="color-scheme-icon" aria-label="Light mode"></span>
      </a>
      <!--nav-->
      <button class="navbar-toggler ar5iv-footer-button" type="button" data-bs-theme="dark" data-bs-toggle="collapse" aria-expanded="false" data-bs-target=".ltx_page_main >.ltx_TOC.mobile" aria-controls="navbarSupportedContent" aria-label="Toggle navigation" style="border:none; margin-right: 0em;">
        <svg xmlns="http://www.w3.org/2000/svg" height="1.25em" viewBox="0 0 448 512" aria-hidden="true" role="img" fill="#ffffff"><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"></path></svg>
      </button>
    </div>
    </header><header class="desktop_header">
    <div class="html-header-logo">
      <a href="https://arxiv.org/">
          <img alt="logo" class="logo" role="presentation" width="100" src="https://services.dev.arxiv.org/html/static/arxiv-logo-one-color-white.svg">
          <span class="sr-only">Back to arXiv</span>
      </a>
    </div>
    <div class="html-header-message" role="banner">
        <p>This is <strong>experimental HTML</strong> to improve accessibility. We invite you to report rendering errors. <span class="sr-only">Use Alt+Y to toggle on accessible reporting links and Alt+Shift+Y to toggle off.</span> Learn more <a href="https://info.arxiv.org/about/accessible_HTML.html" target="_blank">about this project</a> and <a href="https://info.arxiv.org/help/submit_latex_best_practices.html" target="_blank">help improve conversions</a>.
        </p>
    </div>
    <nav class="html-header-nav">
      <a class="ar5iv-footer-button hover-effect" href="https://info.arxiv.org/about/accessible_HTML.html" target="_blank">Why HTML?</a>
      <a class="ar5iv-footer-button hover-effect" target="_blank" href="#myForm" onclick="event.preventDefault(); var modal = document.getElementById('myForm'); modal.style.display = 'block'; bugReportState.setInitiateWay('Header');">Report Issue</a>
      <a class="ar5iv-footer-button hover-effect" href="https://arxiv.org/abs/2403.19270v1">Back to Abstract</a>
      <a class="ar5iv-footer-button hover-effect" href="https://arxiv.org/pdf/2403.19270v1" target="_blank">Download PDF</a>
      <a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle dark/light mode">
          <span class="color-scheme-icon"></span>
      </a>
    </nav></header>

<div class="ltx_page_main" id="main">
<nav class="ltx_TOC active" aria-labelledby="toc_header"><h2 id="toc_header" class="sr-only">Table of Contents</h2>

      <div id="listIcon" type="button" class="hide">
          <svg width="17px" height="17px" viewBox="0 0 512 512" style="pointer-events: none;">
          <path d="M40 48C26.7 48 16 58.7 16 72v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V232c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V392c0-13.3-10.7-24-24-24H40z"></path>
          </svg>
      </div>
      <div id="arrowIcon" type="button">
          <svg width="17px" height="17px" viewBox="0 0 448 512" style="pointer-events: none;">
          <path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"></path>
          </svg>
      </div><ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S1" title="1 Introduction ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S2" title="2 Methodology ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Methodology</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S2.SS1" title="2.1 Preliminary Investigation on Reference Models ‣ 2 Methodology ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Preliminary Investigation on Reference Models</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S2.SS2" title="2.2 Stepwise DPO ‣ 2 Methodology ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Stepwise DPO</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S2.SS2.SSS0.Px1" title="Reference model. ‣ 2.2 Stepwise DPO ‣ 2 Methodology ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title">Reference model.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S2.SS2.SSS0.Px2" title="Target model. ‣ 2.2 Stepwise DPO ‣ 2 Methodology ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title">Target model.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S2.SS2.SSS0.Px3" title="Intuitive explanation. ‣ 2.2 Stepwise DPO ‣ 2 Methodology ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title">Intuitive explanation.</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S3" title="3 Experiments ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S3.SS1" title="3.1 Experimental Setup ‣ 3 Experiments ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Experimental Setup</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S3.SS1.SSS0.Px1" title="Training details. ‣ 3.1 Experimental Setup ‣ 3 Experiments ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title">Training details.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S3.SS1.SSS0.Px2" title="Evaluation. ‣ 3.1 Experimental Setup ‣ 3 Experiments ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title">Evaluation.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S3.SS2" title="3.2 Main Results ‣ 3 Experiments ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Main Results</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S3.SS3" title="3.3 Ablation Studies ‣ 3 Experiments ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Ablation Studies</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S3.SS4" title="3.4 Reference Models in sDPO ‣ 3 Experiments ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4 </span>Reference Models in sDPO</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S3.SS4.SSS0.Px1" title="Effectiveness of sDPO in terms of alignment tuning. ‣ 3.4 Reference Models in sDPO ‣ 3 Experiments ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title">Effectiveness of sDPO in terms of alignment tuning.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S3.SS4.SSS0.Px2" title="Adopting open source models as reference models could be dangerous. ‣ 3.4 Reference Models in sDPO ‣ 3 Experiments ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title">Adopting open source models as reference models could be dangerous.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S3.SS5" title="3.5 Target Model Initialization in sDPO ‣ 3 Experiments ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.5 </span>Target Model Initialization in sDPO</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S4" title="4 Conclusion ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#A1" title="Appendix A Related Work ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#A1.SS1" title="A.1 Large Language Models ‣ Appendix A Related Work ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.1 </span>Large Language Models</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#A1.SS2" title="A.2 Alignment Tuning ‣ Appendix A Related Work ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.2 </span>Alignment Tuning</span></a></li>
</ol>
</li>
</ol></nav>

<div class="ltx_page_content">
<div aria-label="Conversion errors have been found" class="package-alerts ltx_document" role="status">
<button aria-label="Dismiss alert" onclick="closePopup()">
<span aria-hidden="true"><svg aria-hidden="true" focusable="false" height="20" role="presentation" viewBox="0 0 44 44" width="20">
<path d="M0.549989 4.44999L4.44999 0.549988L43.45 39.55L39.55 43.45L0.549989 4.44999Z"></path>
<path d="M39.55 0.549988L43.45 4.44999L4.44999 43.45L0.549988 39.55L39.55 0.549988Z"></path>
</svg><button class="sr-only button" style="display: none;">Report issue for preceding element</button></span>
</button>
<p>HTML conversions <a href="https://info.dev.arxiv.org/about/accessibility_html_error_messages.html" target="_blank">sometimes display errors</a> due to content that did not convert correctly from the source. This paper uses the following packages that are not yet supported by the HTML conversion tool. Feedback on these issues are not necessary; they are known and are being worked on.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<ul arial-label="Unsupported packages used in this paper">
<li>failed: inconsolata</li>
<li>failed: pythonhighlight</li>
</ul>
<p>Authors: achieve the best HTML results from your LaTeX submissions by following these <a href="https://info.arxiv.org/help/submit_latex_best_practices.html" target="_blank">best practices</a>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div><div class="section" id="target-section"><div id="license-tr">License: CC BY 4.0</div><div id="watermark-tr">arXiv:2403.19270v1 [cs.CL] 28 Mar 2024</div></div>
<script>
            function closePopup() {
                document.querySelector('.package-alerts').style.display = 'none';
            }
        </script>
<article class="ltx_document">
<h1 class="ltx_title ltx_title_document">sDPO: Don’t Use Your Data All at Once</h1><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Dahyun Kim, Yungi Kim, Wonho Song, Hyeonwoo Kim, Yunsu Kim, Sanghoon Kim
<br class="ltx_break"><span class="ltx_text ltx_font_bold" id="id1.1.1">Chanjun Park<math alttext="{}^{\dagger}" class="ltx_Math" display="inline" id="id1.1.1.m1.1"><semantics id="id1.1.1.m1.1a"><msup id="id1.1.1.m1.1.1" xref="id1.1.1.m1.1.1.cmml"><mi id="id1.1.1.m1.1.1a" xref="id1.1.1.m1.1.1.cmml"></mi><mo id="id1.1.1.m1.1.1.1" mathvariant="normal" xref="id1.1.1.m1.1.1.1.cmml">†</mo></msup><annotation-xml encoding="MathML-Content" id="id1.1.1.m1.1b"><apply id="id1.1.1.m1.1.1.cmml" xref="id1.1.1.m1.1.1"><ci id="id1.1.1.m1.1.1.1.cmml" xref="id1.1.1.m1.1.1.1">normal-†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="id1.1.1.m1.1c">{}^{\dagger}</annotation><annotation encoding="application/x-llamapun" id="id1.1.1.m1.1d">start_FLOATSUPERSCRIPT † end_FLOATSUPERSCRIPT</annotation></semantics></math>
<br class="ltx_break">
<br class="ltx_break"></span>Upstage AI, South Korea 
<br class="ltx_break"><span class="ltx_text ltx_font_typewriter" id="id2.2.id1">{kdahyun, eddie, ynot, choco_9966, yoonsoo, limerobot, chanjun.park}@upstage.ai</span>
</span></span>
</div><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><math alttext="{}^{\dagger}" class="ltx_Math" display="inline" id="footnote1.m1.1"><semantics id="footnote1.m1.1b"><msup id="footnote1.m1.1.1" xref="footnote1.m1.1.1.cmml"><mi id="footnote1.m1.1.1b" xref="footnote1.m1.1.1.cmml"></mi><mo id="footnote1.m1.1.1.1" xref="footnote1.m1.1.1.1.cmml">†</mo></msup><annotation-xml encoding="MathML-Content" id="footnote1.m1.1c"><apply id="footnote1.m1.1.1.cmml" xref="footnote1.m1.1.1"><ci id="footnote1.m1.1.1.1.cmml" xref="footnote1.m1.1.1.1">†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote1.m1.1d">{}^{\dagger}</annotation><annotation encoding="application/x-llamapun" id="footnote1.m1.1e">start_FLOATSUPERSCRIPT † end_FLOATSUPERSCRIPT</annotation></semantics></math> Corresponding Author</span></span></span>
<p class="ltx_p" id="id3.id1">As development of large language models (LLM) progresses, aligning them with human preferences has become increasingly important. We propose stepwise DPO (sDPO), an extension of the recently popularized direct preference optimization (DPO) for alignment tuning. This approach involves dividing the available preference datasets and utilizing them in a stepwise manner, rather than employing it all at once. We demonstrate that this method facilitates the use of more precisely aligned reference models within the DPO training framework. Furthermore, sDPO trains the final model to be more performant, even outperforming other popular LLMs with more parameters.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="p1">
<p class="ltx_p ltx_align_center ltx_align_bottom" id="p1.1"><span class="ltx_text ltx_font_bold" id="p1.1.1">sDPO: Don’t Use Your Data All at Once</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="p2">
<br class="ltx_break">
<p class="ltx_p" id="p2.1"><span class="ltx_text" id="p2.1.1" style="width:433.6pt;"><span class="ltx_text" id="p2.1.1.1" style="width:0.0pt;">
<span class="ltx_tabular ltx_align_top" id="p2.1.1.1.1">
<span class="ltx_tbody">
<span class="ltx_tr" id="p2.1.1.1.1.2.1">
<span class="ltx_td ltx_align_center" id="p2.1.1.1.1.2.1.1"><span class="ltx_text ltx_font_bold" id="p2.1.1.1.1.2.1.1.1">Dahyun Kim, Yungi Kim, Wonho Song, Hyeonwoo Kim, Yunsu Kim, Sanghoon Kim</span></span></span>
<span class="ltx_tr" id="p2.1.1.1.1.1">
<span class="ltx_td ltx_align_center" id="p2.1.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="p2.1.1.1.1.1.1.1">Chanjun Park<math alttext="{}^{\dagger}" class="ltx_Math" display="inline" id="p2.1.1.1.1.1.1.1.m1.1"><semantics id="p2.1.1.1.1.1.1.1.m1.1a"><msup id="p2.1.1.1.1.1.1.1.m1.1.1" xref="p2.1.1.1.1.1.1.1.m1.1.1.cmml"><mi id="p2.1.1.1.1.1.1.1.m1.1.1a" xref="p2.1.1.1.1.1.1.1.m1.1.1.cmml"></mi><mo id="p2.1.1.1.1.1.1.1.m1.1.1.1" mathvariant="normal" xref="p2.1.1.1.1.1.1.1.m1.1.1.1.cmml">†</mo></msup><annotation-xml encoding="MathML-Content" id="p2.1.1.1.1.1.1.1.m1.1b"><apply id="p2.1.1.1.1.1.1.1.m1.1.1.cmml" xref="p2.1.1.1.1.1.1.1.m1.1.1"><ci id="p2.1.1.1.1.1.1.1.m1.1.1.1.cmml" xref="p2.1.1.1.1.1.1.1.m1.1.1.1">normal-†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="p2.1.1.1.1.1.1.1.m1.1c">{}^{\dagger}</annotation><annotation encoding="application/x-llamapun" id="p2.1.1.1.1.1.1.1.m1.1d">start_FLOATSUPERSCRIPT † end_FLOATSUPERSCRIPT</annotation></semantics></math></span></span></span>
<span class="ltx_tr" id="p2.1.1.1.1.3.2">
<span class="ltx_td ltx_align_center" id="p2.1.1.1.1.3.2.1">Upstage AI, South Korea</span></span>
<span class="ltx_tr" id="p2.1.1.1.1.4.3">
<span class="ltx_td ltx_align_center" id="p2.1.1.1.1.4.3.1"><span class="ltx_text ltx_font_typewriter" id="p2.1.1.1.1.4.3.1.1">{kdahyun, eddie, ynot, choco_9966, yoonsoo, limerobot, chanjun.park}@upstage.ai</span></span></span>
</span>
</span></span> </span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Large language models (LLMs) have revolutionized the field of natural language processing (NLP) through a training process that includes pre-training, supervised fine-tuning, and alignment tuning, with the latter ensuring the safety and usefulness of the model.
Thus, reinforcement learning techniques&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Christiano et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib5" title="">2017</a>); Bai et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib2" title="">2022</a>)</cite>, such as proximal policy optimization (PPO)&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Schulman et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib24" title="">2017</a>)</cite>, are key in this alignment phase, despite their complexity.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">To address the complicated nature of reinforcement learning in LLM training, direct preference optimization (DPO)&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Rafailov et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib22" title="">2023</a>)</cite>, among other methods&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Yuan et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib30" title="">2023</a>); Dong et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib9" title="">2023</a>)</cite>, have been popularized for its simplicity and effectiveness. DPO involves curating preference datasets using human or strong AI (<span class="ltx_text ltx_font_italic" id="S1.p2.1.1">e.g.,</span> GPT-4&nbsp;<cite class="ltx_cite ltx_citemacro_cite">OpenAI (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib20" title="">2023</a>)</cite>) judgement to select chosen and rejected responses to questions. These datasets are used to train LLMs by comparing log probabilities of chosen versus rejected answers. However, obtaining these probabilities can be challenging with proprietary models like GPT-4, since they do not offer log probabilities for inputs.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_table" id="S1.T1">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S1.T1.1" style="width:390.3pt;height:241.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(64.5pt,-40.0pt) scale(1.49348012733,1.49348012733) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S1.T1.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S1.T1.1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S1.T1.1.1.1.1.1">Model</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S1.T1.1.1.1.1.2">Reference Model</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S1.T1.1.1.1.1.3">H4</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S1.T1.1.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S1.T1.1.1.2.1.1">Mistral-7B-OpenOrca</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S1.T1.1.1.2.1.2">N/A</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S1.T1.1.1.2.1.3">65.84</td>
</tr>
<tr class="ltx_tr" id="S1.T1.1.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S1.T1.1.1.3.2.1">Mistral-7B-OpenOrca + DPO</th>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.3.2.2">SFT Base</td>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.3.2.3">68.87</td>
</tr>
<tr class="ltx_tr" id="S1.T1.1.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S1.T1.1.1.4.3.1">Mistral-7B-OpenOrca + DPO</th>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.4.3.2">SOLAR-0-70B</td>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.4.3.3">67.86</td>
</tr>
<tr class="ltx_tr" id="S1.T1.1.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S1.T1.1.1.5.4.1">Mistral-7B-OpenOrca + DPO</th>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.5.4.2">Intel-7B-DPO</td>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.5.4.3"><span class="ltx_text ltx_font_bold" id="S1.T1.1.1.5.4.3.1">70.13</span></td>
</tr>
<tr class="ltx_tr" id="S1.T1.1.1.6.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S1.T1.1.1.6.5.1">OpenHermes-2.5-Mistral-7B</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S1.T1.1.1.6.5.2">N/A</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S1.T1.1.1.6.5.3">66.10</td>
</tr>
<tr class="ltx_tr" id="S1.T1.1.1.7.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S1.T1.1.1.7.6.1">OpenHermes-2.5-Mistral-7B + DPO</th>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.7.6.2">SFT Base</td>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.7.6.3">68.41</td>
</tr>
<tr class="ltx_tr" id="S1.T1.1.1.8.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S1.T1.1.1.8.7.1">OpenHermes-2.5-Mistral-7B + DPO</th>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.8.7.2">SOLAR-0-70B</td>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.8.7.3">68.90</td>
</tr>
<tr class="ltx_tr" id="S1.T1.1.1.9.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S1.T1.1.1.9.8.1">OpenHermes-2.5-Mistral-7B + DPO</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S1.T1.1.1.9.8.2">Intel-7B-DPO</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S1.T1.1.1.9.8.3"><span class="ltx_text ltx_font_bold" id="S1.T1.1.1.9.8.3.1">69.72</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>DPO results in terms of H4 scores for Mistral-7B-OpenOrca and OpenHermes-2.5-Mistral-7B with different reference models. The best results for each SFT base model are shown in bold.</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Thus, in most practical scenarios, the reference model is simply set as the base SFT model&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Tunstall et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib26" title="">2023</a>); Intel (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib13" title="">2023b</a>); Ivison et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib14" title="">2023</a>)</cite>, which is a much weaker alternative with potentially misaligned preferences.
This reference model acts as <span class="ltx_text ltx_font_italic" id="S1.p3.1.1">a lower bound</span> in DPO, <span class="ltx_text ltx_font_italic" id="S1.p3.1.2">i.e.,</span> the target model is optimized to be at least as aligned as the reference model.
Thus, we argue that a reference model that is already more aligned will serve as a better lower bound for DPO training, which would be beneficial for the alignment tuning.
One option would be to utilize the plethora of open source models&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Tunstall et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib26" title="">2023</a>); Ivison et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib14" title="">2023</a>)</cite> that have already undergone alignment tuning.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_figure" id="S1.F1">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S1.F1.1" style="width:390.3pt;height:95.5pt;vertical-align:-0.4pt;"><span class="ltx_transformed_inner" style="transform:translate(-245.2pt,59.8pt) scale(0.443123958646896,0.443123958646896) ;"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="413" id="S1.F1.1.g1" src="x1.png" width="1686">
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Overview of sDPO where preference datasets are divided to be used in multiple steps. The aligned model from the previous step is used as the reference and target models for the current step. The reference model is used to calculate the log probabilities and the target model is trained using the preference loss of DPO at each step.</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Note that the above may not be feasible due to the absence of such aligned models, or the fact that it renounces control over the reference model, leading to safety concerns.
Instead, we propose ‘stepwise DPO’, named sDPO, where we use the preference datasets (or subsets of a preference dataset) in <span class="ltx_text ltx_font_italic" id="S1.p4.1.1">a step-by-step manner</span> when undergoing DPO training.
The aligned model in the previous step is used as the reference model for the current step, which results in utilizing a more aligned reference model (<span class="ltx_text ltx_font_italic" id="S1.p4.1.2">i.e.</span>, a better lower bound).
Empirically, we show that using sDPO results in a more performant final aligned model as well.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">While concurrent works&nbsp;<cite class="ltx_cite ltx_citemacro_citep">(Yuan et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib29" title="">2024</a>)</cite> that focus on an iterative pipeline of generating <span class="ltx_text ltx_font_italic" id="S1.p5.1.1">new</span> preference data have been proposed,
our method focuses on utilizing the <span class="ltx_text ltx_font_italic" id="S1.p5.1.2">currently available</span> preference datasets.
Thus, our approach is complementary as sDPO can be easily applied to any preference data and further combination with concurrent works would be an exciting future direction.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Methodology</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Preliminary Investigation on Reference Models</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">To gauge the importance of using a well-aligned reference model in DPO, we perform preliminary experiments of DPO training with the Ultrafeedback dataset&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Cui et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib8" title="">2023</a>)</cite> on Mistral-7B-OpenOrca&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Lian et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib17" title="">2023</a>)</cite> and OpenHermes-2.5-Mistral-7B&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Teknium (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib25" title="">2023</a>)</cite> as the SFT base model, owing to their excellent performance and small size. We compare the following reference models: i) the SFT base model itself, same as the conventional DPO setup; ii) SOLAR-0-70B&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Upstage (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib27" title="">2023</a>)</cite>, a larger and much more performant model; and iii) Intel-7B-DPO&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Intel (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib12" title="">2023a</a>)</cite>, an already aligned reference model. The results are summarized in Tab.&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S1.T1" title="Table 1 ‣ 1 Introduction ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_tag">1</span></a>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S2.SS1.p2">
<p class="ltx_p" id="S2.SS1.p2.1">As the table shows, using Intel-7B-DPO as the reference model results in the best performance, even better than using SOLAR-0-70B, which is a much larger model that was trained with more data.
Thus, whether the reference model is pre-aligned or not plays an important role in the resulting aligned model’s performance.
Unfortunately, it is not always possible to simply use a open sourced pre-aligned model as the reference model due to technical and safety concerns, <span class="ltx_text ltx_font_italic" id="S2.SS1.p2.1.1">i.e.,</span> such a model may not exist yet or can be susceptible to various domain-specific harmfulness and fairness criteria.
To remedy the above, we propose sDPO, which uses more aligned reference models as a part of the training framework.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Stepwise DPO</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">In sDPO, we propose to use the available preference datasets in a stepwise manner instead of using them all at once.
The comparison of the overall flow of DPO and sDPO is presented in Fig.&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_tag">1</span></a>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<section class="ltx_paragraph" id="S2.SS2.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Reference model.</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S2.SS2.SSS0.Px1.p1">
<p class="ltx_p" id="S2.SS2.SSS0.Px1.p1.2">The reference model is used to calculate the log probabilities of the preference dataset.
For each step, only a subset of the total data is used and the reference model is initialized as <math alttext="M_{t-1}" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.1.m1.1"><semantics id="S2.SS2.SSS0.Px1.p1.1.m1.1a"><msub id="S2.SS2.SSS0.Px1.p1.1.m1.1.1" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.cmml"><mi id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.2" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.2.cmml">M</mi><mrow id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.2" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.2.cmml">t</mi><mo id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.1" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.1.cmml">−</mo><mn id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.3" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.1.m1.1b"><apply id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.2">𝑀</ci><apply id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3"><minus id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.1"></minus><ci id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.2">𝑡</ci><cn id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.3.cmml" type="integer" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.1.m1.1c">M_{t-1}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px1.p1.1.m1.1d">italic_M start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math>, <span class="ltx_text ltx_font_italic" id="S2.SS2.SSS0.Px1.p1.2.1">i.e,</span> the aligned model from the previous step.
The initial reference model is set as <math alttext="S" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.2.m2.1"><semantics id="S2.SS2.SSS0.Px1.p1.2.m2.1a"><mi id="S2.SS2.SSS0.Px1.p1.2.m2.1.1" xref="S2.SS2.SSS0.Px1.p1.2.m2.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.2.m2.1b"><ci id="S2.SS2.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.2.m2.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.2.m2.1c">S</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px1.p1.2.m2.1d">italic_S</annotation></semantics></math>, the SFT base model.
This results in using a more aligned reference model than conventional DPO.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_paragraph" id="S2.SS2.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Target model.</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S2.SS2.SSS0.Px2.p1">
<p class="ltx_p" id="S2.SS2.SSS0.Px2.p1.3">For <math alttext="t>1" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px2.p1.1.m1.1"><semantics id="S2.SS2.SSS0.Px2.p1.1.m1.1a"><mrow id="S2.SS2.SSS0.Px2.p1.1.m1.1.1" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.2" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.2.cmml">t</mi><mo id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.1" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.1.cmml">&gt;</mo><mn id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.3" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px2.p1.1.m1.1b"><apply id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1"><gt id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.1"></gt><ci id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.2">𝑡</ci><cn id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.3.cmml" type="integer" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px2.p1.1.m1.1c">t&gt;1</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px2.p1.1.m1.1d">italic_t &gt; 1</annotation></semantics></math>, the target model which is trained using the preference loss of DPO in each step of sDPO is also initialized as <math alttext="M_{t-1}" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px2.p1.2.m2.1"><semantics id="S2.SS2.SSS0.Px2.p1.2.m2.1a"><msub id="S2.SS2.SSS0.Px2.p1.2.m2.1.1" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.cmml"><mi id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.2" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml">M</mi><mrow id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.2" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.2.cmml">t</mi><mo id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.1" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.1.cmml">−</mo><mn id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.3" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px2.p1.2.m2.1b"><apply id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.2">𝑀</ci><apply id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3"><minus id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.1"></minus><ci id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.2">𝑡</ci><cn id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.3.cmml" type="integer" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px2.p1.2.m2.1c">M_{t-1}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px2.p1.2.m2.1d">italic_M start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math> instead of <math alttext="S" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px2.p1.3.m3.1"><semantics id="S2.SS2.SSS0.Px2.p1.3.m3.1a"><mi id="S2.SS2.SSS0.Px2.p1.3.m3.1.1" xref="S2.SS2.SSS0.Px2.p1.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px2.p1.3.m3.1b"><ci id="S2.SS2.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S2.SS2.SSS0.Px2.p1.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px2.p1.3.m3.1c">S</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px2.p1.3.m3.1d">italic_S</annotation></semantics></math>.
This ensures that the final model trained with sDPO has been directly trained with the same amount data as a model trained with DPO.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_table" id="S2.T2">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S2.T2.16" style="width:325.2pt;height:210.5pt;vertical-align:-0.7pt;"><span class="ltx_transformed_inner" style="transform:translate(-74.6pt,48.1pt) scale(0.685583755865123,0.685583755865123) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S2.T2.16.16">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S2.T2.16.16.17.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="S2.T2.16.16.17.1.1">Model</th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T2.16.16.17.1.2">Size</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T2.16.16.17.1.3">Type</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T2.16.16.17.1.4">H4 (Avg.)</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T2.16.16.17.1.5">ARC</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T2.16.16.17.1.6">HellaSwag</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T2.16.16.17.1.7">MMLU</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T2.16.16.17.1.8">TruthfulQA</td>
</tr>
<tr class="ltx_tr" id="S2.T2.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S2.T2.1.1.1.2" style="background-color:#E0DBEE;"><span class="ltx_text" id="S2.T2.1.1.1.2.1" style="background-color:#E0DBEE;">SOLAR 10.7B + SFT + sDPO</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T2.1.1.1.1" style="background-color:#E0DBEE;">
<math alttext="\sim" class="ltx_Math" display="inline" id="S2.T2.1.1.1.1.m1.1" style="background-color:#E0DBEE;"><semantics id="S2.T2.1.1.1.1.m1.1a"><mo id="S2.T2.1.1.1.1.m1.1.1" mathbackground="#E0DBEE" xref="S2.T2.1.1.1.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.1.1.1.1.m1.1b"><csymbol cd="latexml" id="S2.T2.1.1.1.1.m1.1.1.cmml" xref="S2.T2.1.1.1.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.1.1.1.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S2.T2.1.1.1.1.m1.1d">∼</annotation></semantics></math><span class="ltx_text" id="S2.T2.1.1.1.1.1" style="background-color:#E0DBEE;"> 11B</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T2.1.1.1.3" style="background-color:#E0DBEE;"><span class="ltx_text" id="S2.T2.1.1.1.3.1" style="background-color:#E0DBEE;">Alignment-tuned</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T2.1.1.1.4" style="background-color:#E0DBEE;"><span class="ltx_text ltx_font_bold" id="S2.T2.1.1.1.4.1" style="background-color:#E0DBEE;">74.31</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T2.1.1.1.5" style="background-color:#E0DBEE;"><span class="ltx_text ltx_font_bold" id="S2.T2.1.1.1.5.1" style="background-color:#E0DBEE;">71.33</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T2.1.1.1.6" style="background-color:#E0DBEE;"><span class="ltx_text" id="S2.T2.1.1.1.6.1" style="background-color:#E0DBEE;">88.08</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T2.1.1.1.7" style="background-color:#E0DBEE;"><span class="ltx_text" id="S2.T2.1.1.1.7.1" style="background-color:#E0DBEE;">65.39</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T2.1.1.1.8" style="background-color:#E0DBEE;"><span class="ltx_text ltx_font_bold" id="S2.T2.1.1.1.8.1" style="background-color:#E0DBEE;">72.45</span></td>
</tr>
<tr class="ltx_tr" id="S2.T2.2.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.2.2.2.2">SOLAR 10.7B + SFT + DPO</th>
<td class="ltx_td ltx_align_center" id="S2.T2.2.2.2.1">
<math alttext="\sim" class="ltx_Math" display="inline" id="S2.T2.2.2.2.1.m1.1"><semantics id="S2.T2.2.2.2.1.m1.1a"><mo id="S2.T2.2.2.2.1.m1.1.1" xref="S2.T2.2.2.2.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.2.2.2.1.m1.1b"><csymbol cd="latexml" id="S2.T2.2.2.2.1.m1.1.1.cmml" xref="S2.T2.2.2.2.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.2.2.2.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S2.T2.2.2.2.1.m1.1d">∼</annotation></semantics></math> 11B</td>
<td class="ltx_td ltx_align_center" id="S2.T2.2.2.2.3">Alignment-tuned</td>
<td class="ltx_td ltx_align_center" id="S2.T2.2.2.2.4">72.67</td>
<td class="ltx_td ltx_align_center" id="S2.T2.2.2.2.5">69.62</td>
<td class="ltx_td ltx_align_center" id="S2.T2.2.2.2.6">87.16</td>
<td class="ltx_td ltx_align_center" id="S2.T2.2.2.2.7">66.00</td>
<td class="ltx_td ltx_align_center" id="S2.T2.2.2.2.8">67.90</td>
</tr>
<tr class="ltx_tr" id="S2.T2.3.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.3.3.3.2">SOLAR 10.7B + SFT + sDPO Strat.</th>
<td class="ltx_td ltx_align_center" id="S2.T2.3.3.3.1">
<math alttext="\sim" class="ltx_Math" display="inline" id="S2.T2.3.3.3.1.m1.1"><semantics id="S2.T2.3.3.3.1.m1.1a"><mo id="S2.T2.3.3.3.1.m1.1.1" xref="S2.T2.3.3.3.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.3.3.3.1.m1.1b"><csymbol cd="latexml" id="S2.T2.3.3.3.1.m1.1.1.cmml" xref="S2.T2.3.3.3.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.3.3.3.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S2.T2.3.3.3.1.m1.1d">∼</annotation></semantics></math> 11B</td>
<td class="ltx_td ltx_align_center" id="S2.T2.3.3.3.3">Alignment-tuned</td>
<td class="ltx_td ltx_align_center" id="S2.T2.3.3.3.4">72.56</td>
<td class="ltx_td ltx_align_center" id="S2.T2.3.3.3.5">69.20</td>
<td class="ltx_td ltx_align_center" id="S2.T2.3.3.3.6">87.27</td>
<td class="ltx_td ltx_align_center" id="S2.T2.3.3.3.7">65.96</td>
<td class="ltx_td ltx_align_center" id="S2.T2.3.3.3.8">67.81</td>
</tr>
<tr class="ltx_tr" id="S2.T2.4.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S2.T2.4.4.4.2">Mixtral 8x7B-Instruct-v0.1</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T2.4.4.4.1">
<math alttext="\sim" class="ltx_Math" display="inline" id="S2.T2.4.4.4.1.m1.1"><semantics id="S2.T2.4.4.4.1.m1.1a"><mo id="S2.T2.4.4.4.1.m1.1.1" xref="S2.T2.4.4.4.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.4.4.4.1.m1.1b"><csymbol cd="latexml" id="S2.T2.4.4.4.1.m1.1.1.cmml" xref="S2.T2.4.4.4.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.4.4.4.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S2.T2.4.4.4.1.m1.1d">∼</annotation></semantics></math> 47B</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T2.4.4.4.3">Alignment-tuned</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T2.4.4.4.4">73.40</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T2.4.4.4.5">70.22</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T2.4.4.4.6">87.63</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T2.4.4.4.7">71.16</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T2.4.4.4.8">64.58</td>
</tr>
<tr class="ltx_tr" id="S2.T2.5.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.5.5.5.2">SOLAR-0-70B-16bit</th>
<td class="ltx_td ltx_align_center" id="S2.T2.5.5.5.1">
<math alttext="\sim" class="ltx_Math" display="inline" id="S2.T2.5.5.5.1.m1.1"><semantics id="S2.T2.5.5.5.1.m1.1a"><mo id="S2.T2.5.5.5.1.m1.1.1" xref="S2.T2.5.5.5.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.5.5.5.1.m1.1b"><csymbol cd="latexml" id="S2.T2.5.5.5.1.m1.1.1.cmml" xref="S2.T2.5.5.5.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.5.5.5.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S2.T2.5.5.5.1.m1.1d">∼</annotation></semantics></math> 70B</td>
<td class="ltx_td ltx_align_center" id="S2.T2.5.5.5.3">Instruction-tuned</td>
<td class="ltx_td ltx_align_center" id="S2.T2.5.5.5.4">72.93</td>
<td class="ltx_td ltx_align_center" id="S2.T2.5.5.5.5">71.08</td>
<td class="ltx_td ltx_align_center" id="S2.T2.5.5.5.6">87.89</td>
<td class="ltx_td ltx_align_center" id="S2.T2.5.5.5.7">70.58</td>
<td class="ltx_td ltx_align_center" id="S2.T2.5.5.5.8">62.25</td>
</tr>
<tr class="ltx_tr" id="S2.T2.6.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.6.6.6.2">Qwen 72B</th>
<td class="ltx_td ltx_align_center" id="S2.T2.6.6.6.1">
<math alttext="\sim" class="ltx_Math" display="inline" id="S2.T2.6.6.6.1.m1.1"><semantics id="S2.T2.6.6.6.1.m1.1a"><mo id="S2.T2.6.6.6.1.m1.1.1" xref="S2.T2.6.6.6.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.6.6.6.1.m1.1b"><csymbol cd="latexml" id="S2.T2.6.6.6.1.m1.1.1.cmml" xref="S2.T2.6.6.6.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.6.6.6.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S2.T2.6.6.6.1.m1.1d">∼</annotation></semantics></math> 72B</td>
<td class="ltx_td ltx_align_center" id="S2.T2.6.6.6.3">Pretrained</td>
<td class="ltx_td ltx_align_center" id="S2.T2.6.6.6.4">72.17</td>
<td class="ltx_td ltx_align_center" id="S2.T2.6.6.6.5">65.19</td>
<td class="ltx_td ltx_align_center" id="S2.T2.6.6.6.6">85.94</td>
<td class="ltx_td ltx_align_center" id="S2.T2.6.6.6.7"><span class="ltx_text ltx_font_bold" id="S2.T2.6.6.6.7.1">77.37</span></td>
<td class="ltx_td ltx_align_center" id="S2.T2.6.6.6.8">60.19</td>
</tr>
<tr class="ltx_tr" id="S2.T2.7.7.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.7.7.7.2">Yi 34B</th>
<td class="ltx_td ltx_align_center" id="S2.T2.7.7.7.1">
<math alttext="\sim" class="ltx_Math" display="inline" id="S2.T2.7.7.7.1.m1.1"><semantics id="S2.T2.7.7.7.1.m1.1a"><mo id="S2.T2.7.7.7.1.m1.1.1" xref="S2.T2.7.7.7.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.7.7.7.1.m1.1b"><csymbol cd="latexml" id="S2.T2.7.7.7.1.m1.1.1.cmml" xref="S2.T2.7.7.7.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.7.7.7.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S2.T2.7.7.7.1.m1.1d">∼</annotation></semantics></math> 34B</td>
<td class="ltx_td ltx_align_center" id="S2.T2.7.7.7.3">Pretrained</td>
<td class="ltx_td ltx_align_center" id="S2.T2.7.7.7.4">70.72</td>
<td class="ltx_td ltx_align_center" id="S2.T2.7.7.7.5">64.59</td>
<td class="ltx_td ltx_align_center" id="S2.T2.7.7.7.6">85.69</td>
<td class="ltx_td ltx_align_center" id="S2.T2.7.7.7.7">76.35</td>
<td class="ltx_td ltx_align_center" id="S2.T2.7.7.7.8">56.23</td>
</tr>
<tr class="ltx_tr" id="S2.T2.8.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.8.8.8.2" style="background-color:#E0DBEE;"><span class="ltx_text" id="S2.T2.8.8.8.2.1" style="background-color:#E0DBEE;">SOLAR 10.7B + SFT</span></th>
<td class="ltx_td ltx_align_center" id="S2.T2.8.8.8.1" style="background-color:#E0DBEE;">
<math alttext="\sim" class="ltx_Math" display="inline" id="S2.T2.8.8.8.1.m1.1" style="background-color:#E0DBEE;"><semantics id="S2.T2.8.8.8.1.m1.1a"><mo id="S2.T2.8.8.8.1.m1.1.1" mathbackground="#E0DBEE" xref="S2.T2.8.8.8.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.8.8.8.1.m1.1b"><csymbol cd="latexml" id="S2.T2.8.8.8.1.m1.1.1.cmml" xref="S2.T2.8.8.8.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.8.8.8.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S2.T2.8.8.8.1.m1.1d">∼</annotation></semantics></math><span class="ltx_text" id="S2.T2.8.8.8.1.1" style="background-color:#E0DBEE;"> 11B</span>
</td>
<td class="ltx_td ltx_align_center" id="S2.T2.8.8.8.3" style="background-color:#E0DBEE;"><span class="ltx_text" id="S2.T2.8.8.8.3.1" style="background-color:#E0DBEE;">Instruction-tuned</span></td>
<td class="ltx_td ltx_align_center" id="S2.T2.8.8.8.4" style="background-color:#E0DBEE;"><span class="ltx_text" id="S2.T2.8.8.8.4.1" style="background-color:#E0DBEE;">69.51</span></td>
<td class="ltx_td ltx_align_center" id="S2.T2.8.8.8.5" style="background-color:#E0DBEE;"><span class="ltx_text" id="S2.T2.8.8.8.5.1" style="background-color:#E0DBEE;">67.32</span></td>
<td class="ltx_td ltx_align_center" id="S2.T2.8.8.8.6" style="background-color:#E0DBEE;"><span class="ltx_text" id="S2.T2.8.8.8.6.1" style="background-color:#E0DBEE;">85.96</span></td>
<td class="ltx_td ltx_align_center" id="S2.T2.8.8.8.7" style="background-color:#E0DBEE;"><span class="ltx_text" id="S2.T2.8.8.8.7.1" style="background-color:#E0DBEE;">65.95</span></td>
<td class="ltx_td ltx_align_center" id="S2.T2.8.8.8.8" style="background-color:#E0DBEE;"><span class="ltx_text" id="S2.T2.8.8.8.8.1" style="background-color:#E0DBEE;">58.80</span></td>
</tr>
<tr class="ltx_tr" id="S2.T2.9.9.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.9.9.9.2">Mistral 7B-Instruct-v0.2</th>
<td class="ltx_td ltx_align_center" id="S2.T2.9.9.9.1">
<math alttext="\sim" class="ltx_Math" display="inline" id="S2.T2.9.9.9.1.m1.1"><semantics id="S2.T2.9.9.9.1.m1.1a"><mo id="S2.T2.9.9.9.1.m1.1.1" xref="S2.T2.9.9.9.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.9.9.9.1.m1.1b"><csymbol cd="latexml" id="S2.T2.9.9.9.1.m1.1.1.cmml" xref="S2.T2.9.9.9.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.9.9.9.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S2.T2.9.9.9.1.m1.1d">∼</annotation></semantics></math> 7B</td>
<td class="ltx_td ltx_align_center" id="S2.T2.9.9.9.3">Instruction-tuned</td>
<td class="ltx_td ltx_align_center" id="S2.T2.9.9.9.4">69.27</td>
<td class="ltx_td ltx_align_center" id="S2.T2.9.9.9.5">63.14</td>
<td class="ltx_td ltx_align_center" id="S2.T2.9.9.9.6">84.88</td>
<td class="ltx_td ltx_align_center" id="S2.T2.9.9.9.7">60.78</td>
<td class="ltx_td ltx_align_center" id="S2.T2.9.9.9.8">68.26</td>
</tr>
<tr class="ltx_tr" id="S2.T2.10.10.10">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.10.10.10.2">Falcon 180B</th>
<td class="ltx_td ltx_align_center" id="S2.T2.10.10.10.1">
<math alttext="\sim" class="ltx_Math" display="inline" id="S2.T2.10.10.10.1.m1.1"><semantics id="S2.T2.10.10.10.1.m1.1a"><mo id="S2.T2.10.10.10.1.m1.1.1" xref="S2.T2.10.10.10.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.10.10.10.1.m1.1b"><csymbol cd="latexml" id="S2.T2.10.10.10.1.m1.1.1.cmml" xref="S2.T2.10.10.10.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.10.10.10.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S2.T2.10.10.10.1.m1.1d">∼</annotation></semantics></math> 180B</td>
<td class="ltx_td ltx_align_center" id="S2.T2.10.10.10.3">Pretrained</td>
<td class="ltx_td ltx_align_center" id="S2.T2.10.10.10.4">68.57</td>
<td class="ltx_td ltx_align_center" id="S2.T2.10.10.10.5">69.45</td>
<td class="ltx_td ltx_align_center" id="S2.T2.10.10.10.6"><span class="ltx_text ltx_font_bold" id="S2.T2.10.10.10.6.1">88.86</span></td>
<td class="ltx_td ltx_align_center" id="S2.T2.10.10.10.7">70.50</td>
<td class="ltx_td ltx_align_center" id="S2.T2.10.10.10.8">45.47</td>
</tr>
<tr class="ltx_tr" id="S2.T2.11.11.11">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.11.11.11.2">Mixtral 8x7B-v0.1</th>
<td class="ltx_td ltx_align_center" id="S2.T2.11.11.11.1">
<math alttext="\sim" class="ltx_Math" display="inline" id="S2.T2.11.11.11.1.m1.1"><semantics id="S2.T2.11.11.11.1.m1.1a"><mo id="S2.T2.11.11.11.1.m1.1.1" xref="S2.T2.11.11.11.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.11.11.11.1.m1.1b"><csymbol cd="latexml" id="S2.T2.11.11.11.1.m1.1.1.cmml" xref="S2.T2.11.11.11.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.11.11.11.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S2.T2.11.11.11.1.m1.1d">∼</annotation></semantics></math> 47B</td>
<td class="ltx_td ltx_align_center" id="S2.T2.11.11.11.3">Pretrained</td>
<td class="ltx_td ltx_align_center" id="S2.T2.11.11.11.4">67.78</td>
<td class="ltx_td ltx_align_center" id="S2.T2.11.11.11.5">66.04</td>
<td class="ltx_td ltx_align_center" id="S2.T2.11.11.11.6">86.49</td>
<td class="ltx_td ltx_align_center" id="S2.T2.11.11.11.7">71.82</td>
<td class="ltx_td ltx_align_center" id="S2.T2.11.11.11.8">46.78</td>
</tr>
<tr class="ltx_tr" id="S2.T2.12.12.12">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.12.12.12.2">Llama 2 70B</th>
<td class="ltx_td ltx_align_center" id="S2.T2.12.12.12.1">
<math alttext="\sim" class="ltx_Math" display="inline" id="S2.T2.12.12.12.1.m1.1"><semantics id="S2.T2.12.12.12.1.m1.1a"><mo id="S2.T2.12.12.12.1.m1.1.1" xref="S2.T2.12.12.12.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.12.12.12.1.m1.1b"><csymbol cd="latexml" id="S2.T2.12.12.12.1.m1.1.1.cmml" xref="S2.T2.12.12.12.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.12.12.12.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S2.T2.12.12.12.1.m1.1d">∼</annotation></semantics></math> 70B</td>
<td class="ltx_td ltx_align_center" id="S2.T2.12.12.12.3">Pretrained</td>
<td class="ltx_td ltx_align_center" id="S2.T2.12.12.12.4">67.35</td>
<td class="ltx_td ltx_align_center" id="S2.T2.12.12.12.5">67.32</td>
<td class="ltx_td ltx_align_center" id="S2.T2.12.12.12.6">87.33</td>
<td class="ltx_td ltx_align_center" id="S2.T2.12.12.12.7">69.83</td>
<td class="ltx_td ltx_align_center" id="S2.T2.12.12.12.8">44.92</td>
</tr>
<tr class="ltx_tr" id="S2.T2.13.13.13">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.13.13.13.2">Zephyr</th>
<td class="ltx_td ltx_align_center" id="S2.T2.13.13.13.1">
<math alttext="\sim" class="ltx_Math" display="inline" id="S2.T2.13.13.13.1.m1.1"><semantics id="S2.T2.13.13.13.1.m1.1a"><mo id="S2.T2.13.13.13.1.m1.1.1" xref="S2.T2.13.13.13.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.13.13.13.1.m1.1b"><csymbol cd="latexml" id="S2.T2.13.13.13.1.m1.1.1.cmml" xref="S2.T2.13.13.13.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.13.13.13.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S2.T2.13.13.13.1.m1.1d">∼</annotation></semantics></math> 7B</td>
<td class="ltx_td ltx_align_center" id="S2.T2.13.13.13.3">Alignment-tuned</td>
<td class="ltx_td ltx_align_center" id="S2.T2.13.13.13.4">66.36</td>
<td class="ltx_td ltx_align_center" id="S2.T2.13.13.13.5">62.03</td>
<td class="ltx_td ltx_align_center" id="S2.T2.13.13.13.6">84.52</td>
<td class="ltx_td ltx_align_center" id="S2.T2.13.13.13.7">61.44</td>
<td class="ltx_td ltx_align_center" id="S2.T2.13.13.13.8">57.44</td>
</tr>
<tr class="ltx_tr" id="S2.T2.14.14.14">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.14.14.14.2">Qwen 14B</th>
<td class="ltx_td ltx_align_center" id="S2.T2.14.14.14.1">
<math alttext="\sim" class="ltx_Math" display="inline" id="S2.T2.14.14.14.1.m1.1"><semantics id="S2.T2.14.14.14.1.m1.1a"><mo id="S2.T2.14.14.14.1.m1.1.1" xref="S2.T2.14.14.14.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.14.14.14.1.m1.1b"><csymbol cd="latexml" id="S2.T2.14.14.14.1.m1.1.1.cmml" xref="S2.T2.14.14.14.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.14.14.14.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S2.T2.14.14.14.1.m1.1d">∼</annotation></semantics></math> 14B</td>
<td class="ltx_td ltx_align_center" id="S2.T2.14.14.14.3">Pretrained</td>
<td class="ltx_td ltx_align_center" id="S2.T2.14.14.14.4">64.85</td>
<td class="ltx_td ltx_align_center" id="S2.T2.14.14.14.5">58.28</td>
<td class="ltx_td ltx_align_center" id="S2.T2.14.14.14.6">83.99</td>
<td class="ltx_td ltx_align_center" id="S2.T2.14.14.14.7">67.70</td>
<td class="ltx_td ltx_align_center" id="S2.T2.14.14.14.8">49.43</td>
</tr>
<tr class="ltx_tr" id="S2.T2.15.15.15">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.15.15.15.2" style="background-color:#E0DBEE;"><span class="ltx_text" id="S2.T2.15.15.15.2.1" style="background-color:#E0DBEE;">SOLAR 10.7B</span></th>
<td class="ltx_td ltx_align_center" id="S2.T2.15.15.15.1" style="background-color:#E0DBEE;">
<math alttext="\sim" class="ltx_Math" display="inline" id="S2.T2.15.15.15.1.m1.1" style="background-color:#E0DBEE;"><semantics id="S2.T2.15.15.15.1.m1.1a"><mo id="S2.T2.15.15.15.1.m1.1.1" mathbackground="#E0DBEE" xref="S2.T2.15.15.15.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.15.15.15.1.m1.1b"><csymbol cd="latexml" id="S2.T2.15.15.15.1.m1.1.1.cmml" xref="S2.T2.15.15.15.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.15.15.15.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S2.T2.15.15.15.1.m1.1d">∼</annotation></semantics></math><span class="ltx_text" id="S2.T2.15.15.15.1.1" style="background-color:#E0DBEE;"> 11B</span>
</td>
<td class="ltx_td ltx_align_center" id="S2.T2.15.15.15.3" style="background-color:#E0DBEE;"><span class="ltx_text" id="S2.T2.15.15.15.3.1" style="background-color:#E0DBEE;">Pretrained</span></td>
<td class="ltx_td ltx_align_center" id="S2.T2.15.15.15.4" style="background-color:#E0DBEE;"><span class="ltx_text" id="S2.T2.15.15.15.4.1" style="background-color:#E0DBEE;">64.27</span></td>
<td class="ltx_td ltx_align_center" id="S2.T2.15.15.15.5" style="background-color:#E0DBEE;"><span class="ltx_text" id="S2.T2.15.15.15.5.1" style="background-color:#E0DBEE;">61.95</span></td>
<td class="ltx_td ltx_align_center" id="S2.T2.15.15.15.6" style="background-color:#E0DBEE;"><span class="ltx_text" id="S2.T2.15.15.15.6.1" style="background-color:#E0DBEE;">84.60</span></td>
<td class="ltx_td ltx_align_center" id="S2.T2.15.15.15.7" style="background-color:#E0DBEE;"><span class="ltx_text" id="S2.T2.15.15.15.7.1" style="background-color:#E0DBEE;">65.48</span></td>
<td class="ltx_td ltx_align_center" id="S2.T2.15.15.15.8" style="background-color:#E0DBEE;"><span class="ltx_text" id="S2.T2.15.15.15.8.1" style="background-color:#E0DBEE;">45.04</span></td>
</tr>
<tr class="ltx_tr" id="S2.T2.16.16.16">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S2.T2.16.16.16.2">Mistral 7B</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S2.T2.16.16.16.1">
<math alttext="\sim" class="ltx_Math" display="inline" id="S2.T2.16.16.16.1.m1.1"><semantics id="S2.T2.16.16.16.1.m1.1a"><mo id="S2.T2.16.16.16.1.m1.1.1" xref="S2.T2.16.16.16.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.16.16.16.1.m1.1b"><csymbol cd="latexml" id="S2.T2.16.16.16.1.m1.1.1.cmml" xref="S2.T2.16.16.16.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.16.16.16.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S2.T2.16.16.16.1.m1.1d">∼</annotation></semantics></math> 7B</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S2.T2.16.16.16.3">Pretrained</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S2.T2.16.16.16.4">62.40</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S2.T2.16.16.16.5">59.98</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S2.T2.16.16.16.6">83.31</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S2.T2.16.16.16.7">64.16</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S2.T2.16.16.16.8">42.15</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Performance comparison of applying sDPO (and ablated versions) to SOLAR 10.7B + SFT against various top performing models. Size is shown in units of billions of parameters and type is reported as one of {‘Pretrained’, ‘Instruction-tuned’, ‘Alignment-tuned’}. Models based on SOLAR 10.7B are shown in purple color. The best scores in each column are shown in bold.</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</section>
<section class="ltx_paragraph" id="S2.SS2.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Intuitive explanation.</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S2.SS2.SSS0.Px3.p1">
<p class="ltx_p" id="S2.SS2.SSS0.Px3.p1.16">To gain a deeper understanding of sDPO, we rearrange the DPO loss from &nbsp;<cite class="ltx_cite ltx_citemacro_cite">Rafailov et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib22" title="">2023</a>)</cite>, as follows:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equation ltx_eqn_table" id="S2.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center">
<div class="ltx_inline-block ltx_markedasmath ltx_transformed_outer" id="S2.E1.m1.1.1.1" style="width:368.6pt;height:73.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(79.4pt,-15.9pt) scale(1.75636805379735,1.75636805379735) ;">
<p class="ltx_p" id="S2.E1.m1.1.1.1.1"><math alttext="\begin{aligned} &amp;\mathcal{L}_{\text{DPO}}(\pi_{\theta},\pi_{ref})\\
&amp;=-\mathbb{E}_{(x,y_{w},y_{l})\sim\mathcal{D}}\left[\log{\sigma\left(\beta\log%
{{\pi_{\theta}(y_{w}|x)\over\pi_{ref}(y_{w}|x)}}-\beta\log{{\pi_{\theta}(y_{l}%
|x)\over\pi_{ref}(y_{l}|x)}}\right)}\right]\\
&amp;=-\mathbb{E}_{(x,y_{w},y_{l})\sim\mathcal{D}}\left[\log{\sigma\left(\beta%
\cdot(\gamma_{\pi_{\theta}}(x,y_{w},y_{l})-\gamma_{\pi_{ref}}(x,y_{w},y_{l})%
\right)}\right],\end{aligned}" class="ltx_math_unparsed" display="inline" id="S2.E1.m1.1.1.1.1.m1.15"><semantics id="S2.E1.m1.1.1.1.1.m1.15a"><mtable columnspacing="0pt" id="S2.E1.m1.1.1.1.1.m1.15.15" rowspacing="0pt"><mtr id="S2.E1.m1.1.1.1.1.m1.15.15a"><mtd id="S2.E1.m1.1.1.1.1.m1.15.15b"></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.1.1.1.1.m1.15.15c"><mrow id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2"><msub id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.4"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.4.2">ℒ</mi><mtext id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.4.3">DPO</mtext></msub><mo id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.3">⁢</mo><mrow id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2"><mo id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.3" stretchy="false">(</mo><msub id="S2.E1.m1.1.1.1.1.m1.1.1.1.1.1.1.1.1"><mi id="S2.E1.m1.1.1.1.1.m1.1.1.1.1.1.1.1.1.2">π</mi><mi id="S2.E1.m1.1.1.1.1.m1.1.1.1.1.1.1.1.1.3">θ</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.4">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2"><mi id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.2">π</mi><mrow id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.3"><mi id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.3.2">r</mi><mo id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.3.1">⁢</mo><mi id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.3.3">e</mi><mo id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.3.1a">⁢</mo><mi id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.3.4">f</mi></mrow></msub><mo id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.5" stretchy="false">)</mo></mrow></mrow></mtd></mtr><mtr id="S2.E1.m1.1.1.1.1.m1.15.15d"><mtd id="S2.E1.m1.1.1.1.1.m1.15.15e"></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.1.1.1.1.m1.15.15f"><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.10"></mi><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.9">=</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8"><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8a">−</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1"><msub id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.3"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.3.2">𝔼</mi><mrow id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3"><mrow id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2"><mo id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.3" stretchy="false">(</mo><mi id="S2.E1.m1.1.1.1.1.m1.3.3.3.1.1.1.1.1">x</mi><mo id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.4">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.4.4.4.2.2.2.2.2.1.1"><mi id="S2.E1.m1.1.1.1.1.m1.4.4.4.2.2.2.2.2.1.1.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.4.4.4.2.2.2.2.2.1.1.3">w</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.5">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.2"><mi id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.2.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.2.3">l</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.6" stretchy="false">)</mo></mrow><mo id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.4">∼</mo><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.5">𝒟</mi></mrow></msub><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.2">⁢</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1"><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.2">[</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1"><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.3"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.3.1">log</mi><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.3a" lspace="0.167em">⁡</mo><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.3.2">σ</mi></mrow><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.2">⁢</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1"><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.2">(</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1"><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.2"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.2.2">β</mi><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.2.1" lspace="0.167em">⁢</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.2.3"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.2.3.1">log</mi><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.2.3a" lspace="0.167em">⁡</mo><mstyle displaystyle="true" id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5"><mfrac id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5a"><mrow id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1"><msub id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.3"><mi id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.3.2">π</mi><mi id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.3.3">θ</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.2">⁢</mo><mrow id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1"><mo id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.2" stretchy="false">(</mo><mrow id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.1"><msub id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.1.2"><mi id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.1.2.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.1.2.3">w</mi></msub><mo fence="false" id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.1.1">|</mo><mi id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.1.3">x</mi></mrow><mo id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.3" stretchy="false">)</mo></mrow></mrow><mrow id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2"><msub id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3"><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.2">π</mi><mrow id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.3"><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.3.2">r</mi><mo id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.3.1">⁢</mo><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.3.3">e</mi><mo id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.3.1a">⁢</mo><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.3.4">f</mi></mrow></msub><mo id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.2">⁢</mo><mrow id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1"><mo id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.2" stretchy="false">(</mo><mrow id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.1"><msub id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.1.2"><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.1.2.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.1.2.3">w</mi></msub><mo fence="false" id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.1.1">|</mo><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.1.3">x</mi></mrow><mo id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.3" stretchy="false">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.1">−</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.3"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.3.2">β</mi><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.3.1" lspace="0.167em">⁢</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.3.3"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.3.3.1">log</mi><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.3.3a" lspace="0.167em">⁡</mo><mstyle displaystyle="true" id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7"><mfrac id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7a"><mrow id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1"><msub id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.3"><mi id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.3.2">π</mi><mi id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.3.3">θ</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.2">⁢</mo><mrow id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1"><mo id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.2" stretchy="false">(</mo><mrow id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.1"><msub id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.1.2"><mi id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.1.2.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.1.2.3">l</mi></msub><mo fence="false" id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.1.1">|</mo><mi id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.1.3">x</mi></mrow><mo id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.3" stretchy="false">)</mo></mrow></mrow><mrow id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2"><msub id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3"><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.2">π</mi><mrow id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.3"><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.3.2">r</mi><mo id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.3.1">⁢</mo><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.3.3">e</mi><mo id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.3.1a">⁢</mo><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.3.4">f</mi></mrow></msub><mo id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.2">⁢</mo><mrow id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1"><mo id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.2" stretchy="false">(</mo><mrow id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.1"><msub id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.1.2"><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.1.2.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.1.2.3">l</mi></msub><mo fence="false" id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.1.1">|</mo><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.1.3">x</mi></mrow><mo id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.3" stretchy="false">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow></mrow><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.3">)</mo></mrow></mrow><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.3">]</mo></mrow></mrow></mrow></mrow></mtd></mtr><mtr id="S2.E1.m1.1.1.1.1.m1.15.15g"><mtd id="S2.E1.m1.1.1.1.1.m1.15.15h"></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.1.1.1.1.m1.15.15i"><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5"><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.6" rspace="0em">=</mo><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.7" lspace="0em">−</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.8"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.8.2">𝔼</mi><mrow id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3"><mrow id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2"><mo id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.3" stretchy="false">(</mo><mi id="S2.E1.m1.1.1.1.1.m1.11.11.11.1.1.1.1.1">x</mi><mo id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.4">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.12.12.12.2.2.2.2.2.1.1"><mi id="S2.E1.m1.1.1.1.1.m1.12.12.12.2.2.2.2.2.1.1.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.12.12.12.2.2.2.2.2.1.1.3">w</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.5">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.2"><mi id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.2.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.2.3">l</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.6" stretchy="false">)</mo></mrow><mo id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.4">∼</mo><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.5">𝒟</mi></mrow></msub><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9"><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.1">[</mo><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.2">log</mi><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.3">σ</mi><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4"><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.1">(</mo><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.2">β</mi><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.3" lspace="0.222em" rspace="0.222em">⋅</mo><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4"><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.1" stretchy="false">(</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.2"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.2.2">γ</mi><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.2.3"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.2.3.2">π</mi><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.2.3.3">θ</mi></msub></msub><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3"><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.1" stretchy="false">(</mo><mi id="S2.E1.m1.1.1.1.1.m1.14.14.14.4.4.4">x</mi><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.2">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.3"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.3.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.3.3">w</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.4">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.5"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.5.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.5.3">l</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.6" stretchy="false">)</mo></mrow><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.4">−</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.2">γ</mi><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.2">π</mi><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.3"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.3.2">r</mi><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.3.1">⁢</mo><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.3.3">e</mi><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.3.1a">⁢</mo><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.3.4">f</mi></mrow></msub></msub><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6"><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.1" stretchy="false">(</mo><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.5">x</mi><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.2">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.3"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.3.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.3.3">w</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.4">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.5"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.5.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.5.3">l</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.6" stretchy="false">)</mo></mrow><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.7">)</mo></mrow><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.5">]</mo></mrow><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.5">,</mo></mrow></mrow></mtd></mtr></mtable><annotation encoding="application/x-tex" id="S2.E1.m1.1.1.1.1.m1.15b">\begin{aligned} &amp;\mathcal{L}_{\text{DPO}}(\pi_{\theta},\pi_{ref})\\
&amp;=-\mathbb{E}_{(x,y_{w},y_{l})\sim\mathcal{D}}\left[\log{\sigma\left(\beta\log%
{{\pi_{\theta}(y_{w}|x)\over\pi_{ref}(y_{w}|x)}}-\beta\log{{\pi_{\theta}(y_{l}%
|x)\over\pi_{ref}(y_{l}|x)}}\right)}\right]\\
&amp;=-\mathbb{E}_{(x,y_{w},y_{l})\sim\mathcal{D}}\left[\log{\sigma\left(\beta%
\cdot(\gamma_{\pi_{\theta}}(x,y_{w},y_{l})-\gamma_{\pi_{ref}}(x,y_{w},y_{l})%
\right)}\right],\end{aligned}</annotation><annotation encoding="application/x-llamapun" id="S2.E1.m1.1.1.1.1.m1.15c">start_ROW start_CELL end_CELL start_CELL caligraphic_L start_POSTSUBSCRIPT DPO end_POSTSUBSCRIPT ( italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT , italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT ) end_CELL end_ROW start_ROW start_CELL end_CELL start_CELL = - blackboard_E start_POSTSUBSCRIPT ( italic_x , italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) ∼ caligraphic_D end_POSTSUBSCRIPT [ roman_log italic_σ ( italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG - italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG ) ] end_CELL end_ROW start_ROW start_CELL end_CELL start_CELL = - blackboard_E start_POSTSUBSCRIPT ( italic_x , italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) ∼ caligraphic_D end_POSTSUBSCRIPT [ roman_log italic_σ ( italic_β ⋅ ( italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( italic_x , italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) - italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( italic_x , italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) ) ] , end_CELL end_ROW</annotation></semantics></math></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</span></div>
</td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="0"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS2.SSS0.Px3.p1.15">where <math alttext="D" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.1.m1.1"><semantics id="S2.SS2.SSS0.Px3.p1.1.m1.1a"><mi id="S2.SS2.SSS0.Px3.p1.1.m1.1.1" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.1.m1.1b"><ci id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.1.m1.1d">italic_D</annotation></semantics></math> is the preference dataset, <math alttext="x" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.2.m2.1"><semantics id="S2.SS2.SSS0.Px3.p1.2.m2.1a"><mi id="S2.SS2.SSS0.Px3.p1.2.m2.1.1" xref="S2.SS2.SSS0.Px3.p1.2.m2.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.2.m2.1b"><ci id="S2.SS2.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.2.m2.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.2.m2.1c">x</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.2.m2.1d">italic_x</annotation></semantics></math> is the question, <math alttext="y_{w}" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.3.m3.1"><semantics id="S2.SS2.SSS0.Px3.p1.3.m3.1a"><msub id="S2.SS2.SSS0.Px3.p1.3.m3.1.1" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.2" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1.2.cmml">y</mi><mi id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.3" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.3.m3.1b"><apply id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1.2">𝑦</ci><ci id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.3.m3.1c">y_{w}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.3.m3.1d">italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="y_{l}" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.4.m4.1"><semantics id="S2.SS2.SSS0.Px3.p1.4.m4.1a"><msub id="S2.SS2.SSS0.Px3.p1.4.m4.1.1" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.2" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.2.cmml">y</mi><mi id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.3" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.4.m4.1b"><apply id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.2">𝑦</ci><ci id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.4.m4.1c">y_{l}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.4.m4.1d">italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> are the chosen and rejected answers respectively, <math alttext="\theta" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.5.m5.1"><semantics id="S2.SS2.SSS0.Px3.p1.5.m5.1a"><mi id="S2.SS2.SSS0.Px3.p1.5.m5.1.1" xref="S2.SS2.SSS0.Px3.p1.5.m5.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.5.m5.1b"><ci id="S2.SS2.SSS0.Px3.p1.5.m5.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.5.m5.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.5.m5.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.5.m5.1d">italic_θ</annotation></semantics></math> is the learnable parameters of the model, and <math alttext="\gamma_{\pi}(x,y_{w},y_{l})=\log{{\pi(y_{w}|x)\over\pi(y_{l}|x)}}" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.6.m6.5"><semantics id="S2.SS2.SSS0.Px3.p1.6.m6.5a"><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.5.5" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.cmml"><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.cmml"><msub id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.2.cmml">γ</mi><mi id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.3.cmml">π</mi></msub><mo id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.3.cmml">⁢</mo><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.3.cmml"><mo id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.3" stretchy="false" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.3.cmml">(</mo><mi id="S2.SS2.SSS0.Px3.p1.6.m6.3.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.3.3.cmml">x</mi><mo id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.4" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.3.cmml">,</mo><msub id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.2.cmml">y</mi><mi id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.3.cmml">w</mi></msub><mo id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.5" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.3.cmml">,</mo><msub id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.2.cmml">y</mi><mi id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.3.cmml">l</mi></msub><mo id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.6" stretchy="false" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.3.cmml">)</mo></mrow></mrow><mo id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.3.cmml">=</mo><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.1.cmml">log</mi><mo id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4a" lspace="0.167em" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.cmml">⁡</mo><mfrac id="S2.SS2.SSS0.Px3.p1.6.m6.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.cmml"><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.3.cmml">π</mi><mo id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.2.cmml">⁢</mo><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.cmml"><mo id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.2" stretchy="false" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.cmml"><msub id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.1.cmml">|</mo><mi id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.3" stretchy="false" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.3.cmml">π</mi><mo id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.2.cmml">⁢</mo><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.cmml"><mo id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.2" stretchy="false" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.cmml">(</mo><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.cmml"><msub id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.2.cmml">y</mi><mi id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.1.cmml">|</mo><mi id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.3.cmml">x</mi></mrow><mo id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.3" stretchy="false" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.6.m6.5b"><apply id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5"><eq id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.3"></eq><apply id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2"><times id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.3"></times><apply id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.2">𝛾</ci><ci id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.3">𝜋</ci></apply><vector id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2"><ci id="S2.SS2.SSS0.Px3.p1.6.m6.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.3.3">𝑥</ci><apply id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.2">𝑦</ci><ci id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.3">𝑤</ci></apply><apply id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.2">𝑦</ci><ci id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.3">𝑙</ci></apply></vector></apply><apply id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4"><log id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.1"></log><apply id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2"><divide id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2"></divide><apply id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1"><times id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.2"></times><ci id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.3">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1"><csymbol cd="latexml" id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.1">conditional</csymbol><apply id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.3">𝑤</ci></apply><ci id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2"><times id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.2"></times><ci id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.3">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1"><csymbol cd="latexml" id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.1">conditional</csymbol><apply id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.2">𝑦</ci><ci id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.3">𝑙</ci></apply><ci id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.6.m6.5c">\gamma_{\pi}(x,y_{w},y_{l})=\log{{\pi(y_{w}|x)\over\pi(y_{l}|x)}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.6.m6.5d">italic_γ start_POSTSUBSCRIPT italic_π end_POSTSUBSCRIPT ( italic_x , italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) = roman_log divide start_ARG italic_π ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG</annotation></semantics></math>, <span class="ltx_text ltx_font_italic" id="S2.SS2.SSS0.Px3.p1.15.1">i.e.,</span> the logratio of the chosen and rejected samples w.r.t. the policy <math alttext="\pi" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.7.m7.1"><semantics id="S2.SS2.SSS0.Px3.p1.7.m7.1a"><mi id="S2.SS2.SSS0.Px3.p1.7.m7.1.1" xref="S2.SS2.SSS0.Px3.p1.7.m7.1.1.cmml">π</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.7.m7.1b"><ci id="S2.SS2.SSS0.Px3.p1.7.m7.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.7.m7.1.1">𝜋</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.7.m7.1c">\pi</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.7.m7.1d">italic_π</annotation></semantics></math>.
As <math alttext="\log\sigma(\cdot)" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.8.m8.1"><semantics id="S2.SS2.SSS0.Px3.p1.8.m8.1a"><mrow id="S2.SS2.SSS0.Px3.p1.8.m8.1.2" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.cmml"><mrow id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.1" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.1.cmml">log</mi><mo id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2a" lspace="0.167em" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.cmml">⁡</mo><mi id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.2" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.2.cmml">σ</mi></mrow><mo id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.1" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.1.cmml">⁢</mo><mrow id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.3.2" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.cmml"><mo id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.3.2.1" stretchy="false" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.cmml">(</mo><mo id="S2.SS2.SSS0.Px3.p1.8.m8.1.1" lspace="0em" rspace="0em" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.1.cmml">⋅</mo><mo id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.3.2.2" stretchy="false" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.8.m8.1b"><apply id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2"><times id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.1"></times><apply id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2"><log id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.1"></log><ci id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.2">𝜎</ci></apply><ci id="S2.SS2.SSS0.Px3.p1.8.m8.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.8.m8.1c">\log\sigma(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.8.m8.1d">roman_log italic_σ ( ⋅ )</annotation></semantics></math> is a monotonically increasing function and <math alttext="\gamma_{\pi_{ref}}" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.9.m9.1"><semantics id="S2.SS2.SSS0.Px3.p1.9.m9.1a"><msub id="S2.SS2.SSS0.Px3.p1.9.m9.1.1" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.2" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.2" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.2" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.2.cmml">r</mi><mo id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.1" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.1.cmml">⁢</mo><mi id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.3" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.3.cmml">e</mi><mo id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.1a" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.1.cmml">⁢</mo><mi id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.4" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.9.m9.1b"><apply id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3"><times id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.9.m9.1c">\gamma_{\pi_{ref}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.9.m9.1d">italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> is fixed before training, the minimization of <math alttext="\mathcal{L}_{\text{DPO}}(\pi_{\theta},\pi_{ref})" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.10.m10.2"><semantics id="S2.SS2.SSS0.Px3.p1.10.m10.2a"><mrow id="S2.SS2.SSS0.Px3.p1.10.m10.2.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.cmml"><msub id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.2.cmml">ℒ</mi><mtext id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.3" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.3a.cmml">DPO</mtext></msub><mo id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.3" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.3.cmml">⁢</mo><mrow id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.3.cmml"><mo id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.3" stretchy="false" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.3.cmml">(</mo><msub id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.2.cmml">π</mi><mi id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.3.cmml">θ</mi></msub><mo id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.4" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.3.cmml">,</mo><msub id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.2.cmml">r</mi><mo id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.1" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.1.cmml">⁢</mo><mi id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.3" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.3.cmml">e</mi><mo id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.1a" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.1.cmml">⁢</mo><mi id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.4" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.4.cmml">f</mi></mrow></msub><mo id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.5" stretchy="false" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.10.m10.2b"><apply id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2"><times id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.3"></times><apply id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.1.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.2.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.2">ℒ</ci><ci id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.3a.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.3"><mtext id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.3.cmml" mathsize="70%" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.3">DPO</mtext></ci></apply><interval closure="open" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2"><apply id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.2">𝜋</ci><ci id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.3">𝜃</ci></apply><apply id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3"><times id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.4">𝑓</ci></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.10.m10.2c">\mathcal{L}_{\text{DPO}}(\pi_{\theta},\pi_{ref})</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.10.m10.2d">caligraphic_L start_POSTSUBSCRIPT DPO end_POSTSUBSCRIPT ( italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT , italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT )</annotation></semantics></math> leads to <math alttext="\gamma_{\pi_{\theta}}>\gamma_{\pi_{ref}}" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.11.m11.1"><semantics id="S2.SS2.SSS0.Px3.p1.11.m11.1a"><mrow id="S2.SS2.SSS0.Px3.p1.11.m11.1.1" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.cmml"><msub id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.2" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.2" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.2.cmml">π</mi><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.3" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.3.cmml">θ</mi></msub></msub><mo id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.1" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.1.cmml">&gt;</mo><msub id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.2" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.2" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.2" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.2.cmml">r</mi><mo id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.1" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.1.cmml">⁢</mo><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.3" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.3.cmml">e</mi><mo id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.1a" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.1.cmml">⁢</mo><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.4" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.4.cmml">f</mi></mrow></msub></msub></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.11.m11.1b"><apply id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1"><gt id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.1"></gt><apply id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.2">𝜋</ci><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.3">𝜃</ci></apply></apply><apply id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3"><times id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.4">𝑓</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.11.m11.1c">\gamma_{\pi_{\theta}}&gt;\gamma_{\pi_{ref}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.11.m11.1d">italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT end_POSTSUBSCRIPT &gt; italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> (on average).
Thus, <math alttext="\gamma_{\pi_{ref}}" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.12.m12.1"><semantics id="S2.SS2.SSS0.Px3.p1.12.m12.1a"><msub id="S2.SS2.SSS0.Px3.p1.12.m12.1.1" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.2" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.2" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.2" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.2.cmml">r</mi><mo id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.1" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.1.cmml">⁢</mo><mi id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.3" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.3.cmml">e</mi><mo id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.1a" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.1.cmml">⁢</mo><mi id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.4" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.12.m12.1b"><apply id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3"><times id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.12.m12.1c">\gamma_{\pi_{ref}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.12.m12.1d">italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> can be understood as a lower bound defined by the reference model, of which the target model is trained such that <math alttext="\gamma_{\pi_{\theta}}>\gamma_{\pi_{ref}}" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.13.m13.1"><semantics id="S2.SS2.SSS0.Px3.p1.13.m13.1a"><mrow id="S2.SS2.SSS0.Px3.p1.13.m13.1.1" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.cmml"><msub id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.2" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.2" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.2.cmml">π</mi><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.3" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.3.cmml">θ</mi></msub></msub><mo id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.1" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.1.cmml">&gt;</mo><msub id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.2" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.2" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.2" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.2.cmml">r</mi><mo id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.1" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.1.cmml">⁢</mo><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.3" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.3.cmml">e</mi><mo id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.1a" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.1.cmml">⁢</mo><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.4" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.4.cmml">f</mi></mrow></msub></msub></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.13.m13.1b"><apply id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1"><gt id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.1"></gt><apply id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.2">𝜋</ci><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.3">𝜃</ci></apply></apply><apply id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3"><times id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.4">𝑓</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.13.m13.1c">\gamma_{\pi_{\theta}}&gt;\gamma_{\pi_{ref}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.13.m13.1d">italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT end_POSTSUBSCRIPT &gt; italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>.
In sDPO, <math alttext="\gamma_{\pi_{ref}}" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.14.m14.1"><semantics id="S2.SS2.SSS0.Px3.p1.14.m14.1a"><msub id="S2.SS2.SSS0.Px3.p1.14.m14.1.1" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.2" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.2" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.2" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.2.cmml">r</mi><mo id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.1" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.1.cmml">⁢</mo><mi id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.3" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.3.cmml">e</mi><mo id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.1a" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.1.cmml">⁢</mo><mi id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.4" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.14.m14.1b"><apply id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3"><times id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.14.m14.1c">\gamma_{\pi_{ref}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.14.m14.1d">italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> increases as the steps progress because the reference model that defines it is more and more aligned.
Hence, <math alttext="\gamma_{\pi_{ref}}" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.15.m15.1"><semantics id="S2.SS2.SSS0.Px3.p1.15.m15.1a"><msub id="S2.SS2.SSS0.Px3.p1.15.m15.1.1" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.2" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.2" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.2" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.2.cmml">r</mi><mo id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.1" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.1.cmml">⁢</mo><mi id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.3" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.3.cmml">e</mi><mo id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.1a" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.1.cmml">⁢</mo><mi id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.4" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.15.m15.1b"><apply id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3"><times id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.15.m15.1c">\gamma_{\pi_{ref}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.15.m15.1d">italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> becomes a stricter lower bound as the steps pass, inducing a curriculum learning from easy to hard optimization tasks.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Experiments</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Experimental Setup</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_paragraph" id="S3.SS1.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Training details.</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S3.SS1.SSS0.Px1.p1">
<p class="ltx_p" id="S3.SS1.SSS0.Px1.p1.5">We use a supervised fine-tuned SOLAR 10.7B&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Kim et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib16" title="">2023</a>)</cite> as our SFT base model <math alttext="S" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.1.m1.1"><semantics id="S3.SS1.SSS0.Px1.p1.1.m1.1a"><mi id="S3.SS1.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.1.m1.1b"><ci id="S3.SS1.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.1.m1.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.1.m1.1d">italic_S</annotation></semantics></math> as it delivers excellent performance with its uncommon 10.7B size.
Further, the scarcity of 10.7B sized models leads to the absence of open source models that can be adopted as reference models, making the usage of sDPO more necessary.
We use OpenOrca&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Mukherjee et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib19" title="">2023</a>)</cite> (<math alttext="\sim 12K" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.2.m2.1"><semantics id="S3.SS1.SSS0.Px1.p1.2.m2.1a"><mrow id="S3.SS1.SSS0.Px1.p1.2.m2.1.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.cmml"></mi><mo id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.cmml">∼</mo><mrow id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.cmml"><mn id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.2.cmml">12</mn><mo id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.3.cmml">K</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.2.m2.1b"><apply id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1"><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2">absent</csymbol><apply id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3"><times id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.1"></times><cn id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.2.cmml" type="integer" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.2">12</cn><ci id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.3">𝐾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.2.m2.1c">\sim 12K</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.2.m2.1d">∼ 12 italic_K</annotation></semantics></math> samples) and Ultrafeedback Cleaned (<math alttext="\sim 60K" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.3.m3.1"><semantics id="S3.SS1.SSS0.Px1.p1.3.m3.1a"><mrow id="S3.SS1.SSS0.Px1.p1.3.m3.1.1" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2.cmml"></mi><mo id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.1" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.1.cmml">∼</mo><mrow id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.cmml"><mn id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.2.cmml">60</mn><mo id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.1" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.3.cmml">K</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.3.m3.1b"><apply id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1"><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2">absent</csymbol><apply id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3"><times id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.1"></times><cn id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.2.cmml" type="integer" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.2">60</cn><ci id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.3">𝐾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.3.m3.1c">\sim 60K</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.3.m3.1d">∼ 60 italic_K</annotation></semantics></math> samples)&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Cui et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib8" title="">2023</a>); Ivison et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib14" title="">2023</a>)</cite> as our preference datasets.
The training hyper-parameters closely follow that of&nbsp;<cite class="ltx_cite ltx_citemacro_citet">Tunstall et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib26" title="">2023</a>)</cite>.
We use two steps in sDPO, where we use OpenOrca as dataset <math alttext="D_{1}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.4.m4.1"><semantics id="S3.SS1.SSS0.Px1.p1.4.m4.1a"><msub id="S3.SS1.SSS0.Px1.p1.4.m4.1.1" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.cmml">D</mi><mn id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.4.m4.1b"><apply id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2">𝐷</ci><cn id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.cmml" type="integer" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.4.m4.1c">D_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.4.m4.1d">italic_D start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> in the first step and Ultrafeedback Cleaned as dataset <math alttext="D_{2}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.5.m5.1"><semantics id="S3.SS1.SSS0.Px1.p1.5.m5.1a"><msub id="S3.SS1.SSS0.Px1.p1.5.m5.1.1" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2.cmml">D</mi><mn id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.5.m5.1b"><apply id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2">𝐷</ci><cn id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3.cmml" type="integer" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.5.m5.1c">D_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.5.m5.1d">italic_D start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> in the second step.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS1.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Evaluation.</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S3.SS1.SSS0.Px2.p1">
<p class="ltx_p" id="S3.SS1.SSS0.Px2.p1.1">We utilize four of the six tasks in the HuggingFace Open LLM Leaderboard&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Beeching et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib3" title="">2023</a>)</cite>: ARC&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Clark et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib6" title="">2018</a>)</cite>, HellaSWAG&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Zellers et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib31" title="">2019</a>)</cite>, MMLU&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Hendrycks et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib10" title="">2020</a>)</cite>, TruthfulQA&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Lin et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib18" title="">2022</a>)</cite>.
We also report the average scores for the four tasks, which is denoted as H4.
Winogrande&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Sakaguchi et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib23" title="">2021</a>)</cite> and GSM8K&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Cobbe et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib7" title="">2021</a>)</cite> are excluded to control the complexity of the experiments, <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS0.Px2.p1.1.1">i.e.,</span> we excluded generation tasks in contrast to multiple choice tasks.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Main Results</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.4">Evaluation results for applying sDPO to the SFT base model, along with results for other top-performing models are shown in Tab.&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S2.T2" title="Table 2 ‣ Target model. ‣ 2.2 Stepwise DPO ‣ 2 Methodology ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_tag">2</span></a>.
Comparing the pretrained-only ‘SOLAR 10.7B’ to the instruction-tuned ‘SOLAR 10.7B + SFT’, we can see an increase of <math alttext="+5.24" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1"><semantics id="S3.SS2.p1.1.m1.1a"><mrow id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml"><mo id="S3.SS2.p1.1.m1.1.1a" xref="S3.SS2.p1.1.m1.1.1.cmml">+</mo><mn id="S3.SS2.p1.1.m1.1.1.2" xref="S3.SS2.p1.1.m1.1.1.2.cmml">5.24</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><apply id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1"><plus id="S3.SS2.p1.1.m1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1"></plus><cn id="S3.SS2.p1.1.m1.1.1.2.cmml" type="float" xref="S3.SS2.p1.1.m1.1.1.2">5.24</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">+5.24</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.1.m1.1d">+ 5.24</annotation></semantics></math> in terms of H4.
Applying sDPO on SOLAR 10.7B + SFT further increases the H4 score upto <math alttext="74.31" class="ltx_Math" display="inline" id="S3.SS2.p1.2.m2.1"><semantics id="S3.SS2.p1.2.m2.1a"><mn id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml">74.31</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><cn id="S3.SS2.p1.2.m2.1.1.cmml" type="float" xref="S3.SS2.p1.2.m2.1.1">74.31</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">74.31</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.2.m2.1d">74.31</annotation></semantics></math>, an improvement of <math alttext="+4.80" class="ltx_Math" display="inline" id="S3.SS2.p1.3.m3.1"><semantics id="S3.SS2.p1.3.m3.1a"><mrow id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml"><mo id="S3.SS2.p1.3.m3.1.1a" xref="S3.SS2.p1.3.m3.1.1.cmml">+</mo><mn id="S3.SS2.p1.3.m3.1.1.2" xref="S3.SS2.p1.3.m3.1.1.2.cmml">4.80</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><apply id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1"><plus id="S3.SS2.p1.3.m3.1.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1"></plus><cn id="S3.SS2.p1.3.m3.1.1.2.cmml" type="float" xref="S3.SS2.p1.3.m3.1.1.2">4.80</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">+4.80</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.3.m3.1d">+ 4.80</annotation></semantics></math>.
Notably, ‘SOLAR 10.7B + SFT + sDPO’ outperforms other larger models such as Mixtral 8x7B-Instruct-v0.1, despite the smaller number of parameters.
This highlights that effective alignment tuning could be the key to unlocking next level performance for smaller LLMs.
Further, applying sDPO results in substantially higher score of <math alttext="72.45" class="ltx_Math" display="inline" id="S3.SS2.p1.4.m4.1"><semantics id="S3.SS2.p1.4.m4.1a"><mn id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml">72.45</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><cn id="S3.SS2.p1.4.m4.1.1.cmml" type="float" xref="S3.SS2.p1.4.m4.1.1">72.45</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">72.45</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.4.m4.1d">72.45</annotation></semantics></math> for TruthfulQA, which shows the effectiveness of the alignment tuning process.
</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Ablation Studies</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.7">We also report evaluation results for ablated models in Tab.&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S2.T2" title="Table 2 ‣ Target model. ‣ 2.2 Stepwise DPO ‣ 2 Methodology ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_tag">2</span></a>.
‘SOLAR 10.7B + SFT + DPO’ uses all the DPO data at once, <span class="ltx_text ltx_font_italic" id="S3.SS3.p1.7.1">i.e.,</span> <math alttext="D_{1}+D_{2}" class="ltx_Math" display="inline" id="S3.SS3.p1.1.m1.1"><semantics id="S3.SS3.p1.1.m1.1a"><mrow id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml"><msub id="S3.SS3.p1.1.m1.1.1.2" xref="S3.SS3.p1.1.m1.1.1.2.cmml"><mi id="S3.SS3.p1.1.m1.1.1.2.2" xref="S3.SS3.p1.1.m1.1.1.2.2.cmml">D</mi><mn id="S3.SS3.p1.1.m1.1.1.2.3" xref="S3.SS3.p1.1.m1.1.1.2.3.cmml">1</mn></msub><mo id="S3.SS3.p1.1.m1.1.1.1" xref="S3.SS3.p1.1.m1.1.1.1.cmml">+</mo><msub id="S3.SS3.p1.1.m1.1.1.3" xref="S3.SS3.p1.1.m1.1.1.3.cmml"><mi id="S3.SS3.p1.1.m1.1.1.3.2" xref="S3.SS3.p1.1.m1.1.1.3.2.cmml">D</mi><mn id="S3.SS3.p1.1.m1.1.1.3.3" xref="S3.SS3.p1.1.m1.1.1.3.3.cmml">2</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><apply id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1"><plus id="S3.SS3.p1.1.m1.1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1.1"></plus><apply id="S3.SS3.p1.1.m1.1.1.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.2.1.cmml" xref="S3.SS3.p1.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.2.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2.2">𝐷</ci><cn id="S3.SS3.p1.1.m1.1.1.2.3.cmml" type="integer" xref="S3.SS3.p1.1.m1.1.1.2.3">1</cn></apply><apply id="S3.SS3.p1.1.m1.1.1.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.3.1.cmml" xref="S3.SS3.p1.1.m1.1.1.3">subscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.3.2.cmml" xref="S3.SS3.p1.1.m1.1.1.3.2">𝐷</ci><cn id="S3.SS3.p1.1.m1.1.1.3.3.cmml" type="integer" xref="S3.SS3.p1.1.m1.1.1.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">D_{1}+D_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.1.m1.1d">italic_D start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT + italic_D start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math>, same as the conventional DPO training setup.
‘SOLAR 10.7B + SFT + sDPO Strat.’ uses stratified sampling to sample <math alttext="\sim 16.67\%" class="ltx_Math" display="inline" id="S3.SS3.p1.2.m2.1"><semantics id="S3.SS3.p1.2.m2.1a"><mrow id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml"><mi id="S3.SS3.p1.2.m2.1.1.2" xref="S3.SS3.p1.2.m2.1.1.2.cmml"></mi><mo id="S3.SS3.p1.2.m2.1.1.1" xref="S3.SS3.p1.2.m2.1.1.1.cmml">∼</mo><mrow id="S3.SS3.p1.2.m2.1.1.3" xref="S3.SS3.p1.2.m2.1.1.3.cmml"><mn id="S3.SS3.p1.2.m2.1.1.3.2" xref="S3.SS3.p1.2.m2.1.1.3.2.cmml">16.67</mn><mo id="S3.SS3.p1.2.m2.1.1.3.1" xref="S3.SS3.p1.2.m2.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b"><apply id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1"><csymbol cd="latexml" id="S3.SS3.p1.2.m2.1.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S3.SS3.p1.2.m2.1.1.2.cmml" xref="S3.SS3.p1.2.m2.1.1.2">absent</csymbol><apply id="S3.SS3.p1.2.m2.1.1.3.cmml" xref="S3.SS3.p1.2.m2.1.1.3"><csymbol cd="latexml" id="S3.SS3.p1.2.m2.1.1.3.1.cmml" xref="S3.SS3.p1.2.m2.1.1.3.1">percent</csymbol><cn id="S3.SS3.p1.2.m2.1.1.3.2.cmml" type="float" xref="S3.SS3.p1.2.m2.1.1.3.2">16.67</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">\sim 16.67\%</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.2.m2.1d">∼ 16.67 %</annotation></semantics></math> of the data points from the union of OpenOrca and Ultrafeedback Cleaned to form <math alttext="D_{1}" class="ltx_Math" display="inline" id="S3.SS3.p1.3.m3.1"><semantics id="S3.SS3.p1.3.m3.1a"><msub id="S3.SS3.p1.3.m3.1.1" xref="S3.SS3.p1.3.m3.1.1.cmml"><mi id="S3.SS3.p1.3.m3.1.1.2" xref="S3.SS3.p1.3.m3.1.1.2.cmml">D</mi><mn id="S3.SS3.p1.3.m3.1.1.3" xref="S3.SS3.p1.3.m3.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.1b"><apply id="S3.SS3.p1.3.m3.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.1.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p1.3.m3.1.1.2.cmml" xref="S3.SS3.p1.3.m3.1.1.2">𝐷</ci><cn id="S3.SS3.p1.3.m3.1.1.3.cmml" type="integer" xref="S3.SS3.p1.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.1c">D_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.3.m3.1d">italic_D start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> and use the remaining <math alttext="\sim 83.33\%" class="ltx_Math" display="inline" id="S3.SS3.p1.4.m4.1"><semantics id="S3.SS3.p1.4.m4.1a"><mrow id="S3.SS3.p1.4.m4.1.1" xref="S3.SS3.p1.4.m4.1.1.cmml"><mi id="S3.SS3.p1.4.m4.1.1.2" xref="S3.SS3.p1.4.m4.1.1.2.cmml"></mi><mo id="S3.SS3.p1.4.m4.1.1.1" xref="S3.SS3.p1.4.m4.1.1.1.cmml">∼</mo><mrow id="S3.SS3.p1.4.m4.1.1.3" xref="S3.SS3.p1.4.m4.1.1.3.cmml"><mn id="S3.SS3.p1.4.m4.1.1.3.2" xref="S3.SS3.p1.4.m4.1.1.3.2.cmml">83.33</mn><mo id="S3.SS3.p1.4.m4.1.1.3.1" xref="S3.SS3.p1.4.m4.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.4.m4.1b"><apply id="S3.SS3.p1.4.m4.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1"><csymbol cd="latexml" id="S3.SS3.p1.4.m4.1.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S3.SS3.p1.4.m4.1.1.2.cmml" xref="S3.SS3.p1.4.m4.1.1.2">absent</csymbol><apply id="S3.SS3.p1.4.m4.1.1.3.cmml" xref="S3.SS3.p1.4.m4.1.1.3"><csymbol cd="latexml" id="S3.SS3.p1.4.m4.1.1.3.1.cmml" xref="S3.SS3.p1.4.m4.1.1.3.1">percent</csymbol><cn id="S3.SS3.p1.4.m4.1.1.3.2.cmml" type="float" xref="S3.SS3.p1.4.m4.1.1.3.2">83.33</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.4.m4.1c">\sim 83.33\%</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.4.m4.1d">∼ 83.33 %</annotation></semantics></math> as <math alttext="D_{2}" class="ltx_Math" display="inline" id="S3.SS3.p1.5.m5.1"><semantics id="S3.SS3.p1.5.m5.1a"><msub id="S3.SS3.p1.5.m5.1.1" xref="S3.SS3.p1.5.m5.1.1.cmml"><mi id="S3.SS3.p1.5.m5.1.1.2" xref="S3.SS3.p1.5.m5.1.1.2.cmml">D</mi><mn id="S3.SS3.p1.5.m5.1.1.3" xref="S3.SS3.p1.5.m5.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.5.m5.1b"><apply id="S3.SS3.p1.5.m5.1.1.cmml" xref="S3.SS3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.5.m5.1.1.1.cmml" xref="S3.SS3.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS3.p1.5.m5.1.1.2.cmml" xref="S3.SS3.p1.5.m5.1.1.2">𝐷</ci><cn id="S3.SS3.p1.5.m5.1.1.3.cmml" type="integer" xref="S3.SS3.p1.5.m5.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.5.m5.1c">D_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.5.m5.1d">italic_D start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> to mirror the dataset size of <math alttext="D_{1}" class="ltx_Math" display="inline" id="S3.SS3.p1.6.m6.1"><semantics id="S3.SS3.p1.6.m6.1a"><msub id="S3.SS3.p1.6.m6.1.1" xref="S3.SS3.p1.6.m6.1.1.cmml"><mi id="S3.SS3.p1.6.m6.1.1.2" xref="S3.SS3.p1.6.m6.1.1.2.cmml">D</mi><mn id="S3.SS3.p1.6.m6.1.1.3" xref="S3.SS3.p1.6.m6.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.6.m6.1b"><apply id="S3.SS3.p1.6.m6.1.1.cmml" xref="S3.SS3.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.6.m6.1.1.1.cmml" xref="S3.SS3.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS3.p1.6.m6.1.1.2.cmml" xref="S3.SS3.p1.6.m6.1.1.2">𝐷</ci><cn id="S3.SS3.p1.6.m6.1.1.3.cmml" type="integer" xref="S3.SS3.p1.6.m6.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.6.m6.1c">D_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.6.m6.1d">italic_D start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="D_{2}" class="ltx_Math" display="inline" id="S3.SS3.p1.7.m7.1"><semantics id="S3.SS3.p1.7.m7.1a"><msub id="S3.SS3.p1.7.m7.1.1" xref="S3.SS3.p1.7.m7.1.1.cmml"><mi id="S3.SS3.p1.7.m7.1.1.2" xref="S3.SS3.p1.7.m7.1.1.2.cmml">D</mi><mn id="S3.SS3.p1.7.m7.1.1.3" xref="S3.SS3.p1.7.m7.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.7.m7.1b"><apply id="S3.SS3.p1.7.m7.1.1.cmml" xref="S3.SS3.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.7.m7.1.1.1.cmml" xref="S3.SS3.p1.7.m7.1.1">subscript</csymbol><ci id="S3.SS3.p1.7.m7.1.1.2.cmml" xref="S3.SS3.p1.7.m7.1.1.2">𝐷</ci><cn id="S3.SS3.p1.7.m7.1.1.3.cmml" type="integer" xref="S3.SS3.p1.7.m7.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.7.m7.1c">D_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.7.m7.1d">italic_D start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> used in SOLAR 10.7B + SFT + sDPO.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.3">Comparing SOLAR 10.7B + SFT + DPO and SOLAR 10.7B + SFT + sDPO, we can see that using sDPO over DPO results in a higher H4 score overall, with noticeable improvements in ARC and TruthfulQA scores.
Therefore, we believe sDPO could function as a drop-in replacement for DPO training with better performance.
Looking at SOLAR 10.7B + SFT + sDPO and SOLAR 10.7B + SFT + sDPO Strat., we see that the specific way of splitting the available DPO data into multiple <math alttext="D_{t}" class="ltx_Math" display="inline" id="S3.SS3.p2.1.m1.1"><semantics id="S3.SS3.p2.1.m1.1a"><msub id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml"><mi id="S3.SS3.p2.1.m1.1.1.2" xref="S3.SS3.p2.1.m1.1.1.2.cmml">D</mi><mi id="S3.SS3.p2.1.m1.1.1.3" xref="S3.SS3.p2.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><apply id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p2.1.m1.1.1.2.cmml" xref="S3.SS3.p2.1.m1.1.1.2">𝐷</ci><ci id="S3.SS3.p2.1.m1.1.1.3.cmml" xref="S3.SS3.p2.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">D_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.1.m1.1d">italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> can also impact performance.
We find that the natural split of using different preference datasets as <math alttext="D_{t}" class="ltx_Math" display="inline" id="S3.SS3.p2.2.m2.1"><semantics id="S3.SS3.p2.2.m2.1a"><msub id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml"><mi id="S3.SS3.p2.2.m2.1.1.2" xref="S3.SS3.p2.2.m2.1.1.2.cmml">D</mi><mi id="S3.SS3.p2.2.m2.1.1.3" xref="S3.SS3.p2.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><apply id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.2.m2.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p2.2.m2.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.2">𝐷</ci><ci id="S3.SS3.p2.2.m2.1.1.3.cmml" xref="S3.SS3.p2.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">D_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.2.m2.1d">italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> works best in our experiments.
We believe further exploration of how to define <math alttext="D_{t}" class="ltx_Math" display="inline" id="S3.SS3.p2.3.m3.1"><semantics id="S3.SS3.p2.3.m3.1a"><msub id="S3.SS3.p2.3.m3.1.1" xref="S3.SS3.p2.3.m3.1.1.cmml"><mi id="S3.SS3.p2.3.m3.1.1.2" xref="S3.SS3.p2.3.m3.1.1.2.cmml">D</mi><mi id="S3.SS3.p2.3.m3.1.1.3" xref="S3.SS3.p2.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m3.1b"><apply id="S3.SS3.p2.3.m3.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.1.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p2.3.m3.1.1.2.cmml" xref="S3.SS3.p2.3.m3.1.1.2">𝐷</ci><ci id="S3.SS3.p2.3.m3.1.1.3.cmml" xref="S3.SS3.p2.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m3.1c">D_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.3.m3.1d">italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> is an interesting direction for future research.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>Reference Models in sDPO</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<figure class="ltx_figure" id="S3.F2">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S3.F2.1" style="width:368.6pt;height:147pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(41.1pt,-16.4pt) scale(1.2871577595115,1.2871577595115) ;"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="220" id="S3.F2.1.g1" src="x2.png" width="538">
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Mean <math alttext="\gamma_{\pi_{ref}}" class="ltx_Math" display="inline" id="S3.F2.5.m1.1"><semantics id="S3.F2.5.m1.1b"><msub id="S3.F2.5.m1.1.1" xref="S3.F2.5.m1.1.1.cmml"><mi id="S3.F2.5.m1.1.1.2" xref="S3.F2.5.m1.1.1.2.cmml">γ</mi><msub id="S3.F2.5.m1.1.1.3" xref="S3.F2.5.m1.1.1.3.cmml"><mi id="S3.F2.5.m1.1.1.3.2" xref="S3.F2.5.m1.1.1.3.2.cmml">π</mi><mrow id="S3.F2.5.m1.1.1.3.3" xref="S3.F2.5.m1.1.1.3.3.cmml"><mi id="S3.F2.5.m1.1.1.3.3.2" xref="S3.F2.5.m1.1.1.3.3.2.cmml">r</mi><mo id="S3.F2.5.m1.1.1.3.3.1" xref="S3.F2.5.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.F2.5.m1.1.1.3.3.3" xref="S3.F2.5.m1.1.1.3.3.3.cmml">e</mi><mo id="S3.F2.5.m1.1.1.3.3.1b" xref="S3.F2.5.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.F2.5.m1.1.1.3.3.4" xref="S3.F2.5.m1.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.F2.5.m1.1c"><apply id="S3.F2.5.m1.1.1.cmml" xref="S3.F2.5.m1.1.1"><csymbol cd="ambiguous" id="S3.F2.5.m1.1.1.1.cmml" xref="S3.F2.5.m1.1.1">subscript</csymbol><ci id="S3.F2.5.m1.1.1.2.cmml" xref="S3.F2.5.m1.1.1.2">𝛾</ci><apply id="S3.F2.5.m1.1.1.3.cmml" xref="S3.F2.5.m1.1.1.3"><csymbol cd="ambiguous" id="S3.F2.5.m1.1.1.3.1.cmml" xref="S3.F2.5.m1.1.1.3">subscript</csymbol><ci id="S3.F2.5.m1.1.1.3.2.cmml" xref="S3.F2.5.m1.1.1.3.2">𝜋</ci><apply id="S3.F2.5.m1.1.1.3.3.cmml" xref="S3.F2.5.m1.1.1.3.3"><times id="S3.F2.5.m1.1.1.3.3.1.cmml" xref="S3.F2.5.m1.1.1.3.3.1"></times><ci id="S3.F2.5.m1.1.1.3.3.2.cmml" xref="S3.F2.5.m1.1.1.3.3.2">𝑟</ci><ci id="S3.F2.5.m1.1.1.3.3.3.cmml" xref="S3.F2.5.m1.1.1.3.3.3">𝑒</ci><ci id="S3.F2.5.m1.1.1.3.3.4.cmml" xref="S3.F2.5.m1.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.5.m1.1d">\gamma_{\pi_{ref}}</annotation><annotation encoding="application/x-llamapun" id="S3.F2.5.m1.1e">italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> on Ultrafeedback Cleaned dataset for different reference models <math alttext="S,M_{1}," class="ltx_Math" display="inline" id="S3.F2.6.m2.2"><semantics id="S3.F2.6.m2.2b"><mrow id="S3.F2.6.m2.2.2.1"><mrow id="S3.F2.6.m2.2.2.1.1.1" xref="S3.F2.6.m2.2.2.1.1.2.cmml"><mi id="S3.F2.6.m2.1.1" xref="S3.F2.6.m2.1.1.cmml">S</mi><mo id="S3.F2.6.m2.2.2.1.1.1.2" xref="S3.F2.6.m2.2.2.1.1.2.cmml">,</mo><msub id="S3.F2.6.m2.2.2.1.1.1.1" xref="S3.F2.6.m2.2.2.1.1.1.1.cmml"><mi id="S3.F2.6.m2.2.2.1.1.1.1.2" xref="S3.F2.6.m2.2.2.1.1.1.1.2.cmml">M</mi><mn id="S3.F2.6.m2.2.2.1.1.1.1.3" xref="S3.F2.6.m2.2.2.1.1.1.1.3.cmml">1</mn></msub></mrow><mo id="S3.F2.6.m2.2.2.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.F2.6.m2.2c"><list id="S3.F2.6.m2.2.2.1.1.2.cmml" xref="S3.F2.6.m2.2.2.1.1.1"><ci id="S3.F2.6.m2.1.1.cmml" xref="S3.F2.6.m2.1.1">𝑆</ci><apply id="S3.F2.6.m2.2.2.1.1.1.1.cmml" xref="S3.F2.6.m2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.F2.6.m2.2.2.1.1.1.1.1.cmml" xref="S3.F2.6.m2.2.2.1.1.1.1">subscript</csymbol><ci id="S3.F2.6.m2.2.2.1.1.1.1.2.cmml" xref="S3.F2.6.m2.2.2.1.1.1.1.2">𝑀</ci><cn id="S3.F2.6.m2.2.2.1.1.1.1.3.cmml" type="integer" xref="S3.F2.6.m2.2.2.1.1.1.1.3">1</cn></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.6.m2.2d">S,M_{1},</annotation><annotation encoding="application/x-llamapun" id="S3.F2.6.m2.2e">italic_S , italic_M start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ,</annotation></semantics></math> and <math alttext="M_{2}" class="ltx_Math" display="inline" id="S3.F2.7.m3.1"><semantics id="S3.F2.7.m3.1b"><msub id="S3.F2.7.m3.1.1" xref="S3.F2.7.m3.1.1.cmml"><mi id="S3.F2.7.m3.1.1.2" xref="S3.F2.7.m3.1.1.2.cmml">M</mi><mn id="S3.F2.7.m3.1.1.3" xref="S3.F2.7.m3.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.F2.7.m3.1c"><apply id="S3.F2.7.m3.1.1.cmml" xref="S3.F2.7.m3.1.1"><csymbol cd="ambiguous" id="S3.F2.7.m3.1.1.1.cmml" xref="S3.F2.7.m3.1.1">subscript</csymbol><ci id="S3.F2.7.m3.1.1.2.cmml" xref="S3.F2.7.m3.1.1.2">𝑀</ci><cn id="S3.F2.7.m3.1.1.3.cmml" type="integer" xref="S3.F2.7.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.7.m3.1d">M_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.F2.7.m3.1e">italic_M start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math>. Note that the x-axis is in log scale.</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_paragraph" id="S3.SS4.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Effectiveness of sDPO in terms of alignment tuning.</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S3.SS4.SSS0.Px1.p1">
<p class="ltx_p" id="S3.SS4.SSS0.Px1.p1.12">In Sec.&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S2.SS2" title="2.2 Stepwise DPO ‣ 2 Methodology ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_tag">2.2</span></a>, we explain that the reference models in sDPO are more aligned, resulting in higher <math alttext="\gamma_{\pi_{ref}}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.1.m1.1"><semantics id="S3.SS4.SSS0.Px1.p1.1.m1.1a"><msub id="S3.SS4.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.2" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.2" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.2.cmml">r</mi><mo id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.1" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.3" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.3.cmml">e</mi><mo id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.1a" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.4" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.1.m1.1b"><apply id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3"><times id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.1.m1.1c">\gamma_{\pi_{ref}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px1.p1.1.m1.1d">italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>, <span class="ltx_text ltx_font_italic" id="S3.SS4.SSS0.Px1.p1.12.1">i.e.,</span> a stricter lower bound.
We verify the above empirically in Fig.&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S3.F2" title="Figure 2 ‣ 3.4 Reference Models in sDPO ‣ 3 Experiments ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_tag">2</span></a> by comparing the mean <math alttext="\gamma_{\pi_{ref}}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.2.m2.1"><semantics id="S3.SS4.SSS0.Px1.p1.2.m2.1a"><msub id="S3.SS4.SSS0.Px1.p1.2.m2.1.1" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.2" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.2" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.2.cmml">r</mi><mo id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.1" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.3" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.3.cmml">e</mi><mo id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.1a" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.4" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.2.m2.1b"><apply id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3"><times id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.2.m2.1c">\gamma_{\pi_{ref}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px1.p1.2.m2.1d">italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> on the Ultrafeedback Cleaned dataset for the reference models in steps 1 and 2 of sDPO, <span class="ltx_text ltx_font_italic" id="S3.SS4.SSS0.Px1.p1.12.2">i.e.,</span> <math alttext="S" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.3.m3.1"><semantics id="S3.SS4.SSS0.Px1.p1.3.m3.1a"><mi id="S3.SS4.SSS0.Px1.p1.3.m3.1.1" xref="S3.SS4.SSS0.Px1.p1.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.3.m3.1b"><ci id="S3.SS4.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.3.m3.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px1.p1.3.m3.1d">italic_S</annotation></semantics></math> and <math alttext="M_{1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.4.m4.1"><semantics id="S3.SS4.SSS0.Px1.p1.4.m4.1a"><msub id="S3.SS4.SSS0.Px1.p1.4.m4.1.1" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.2" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.3" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.4.m4.1b"><apply id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.2">𝑀</ci><cn id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.4.m4.1c">M_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px1.p1.4.m4.1d">italic_M start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math>.
Note that these two models have not been trained on the aforementioned dataset.
Using the SFT base model <math alttext="S" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.5.m5.1"><semantics id="S3.SS4.SSS0.Px1.p1.5.m5.1a"><mi id="S3.SS4.SSS0.Px1.p1.5.m5.1.1" xref="S3.SS4.SSS0.Px1.p1.5.m5.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.5.m5.1b"><ci id="S3.SS4.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.5.m5.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.5.m5.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px1.p1.5.m5.1d">italic_S</annotation></semantics></math> as the reference model, the mean of <math alttext="\gamma_{\pi_{ref}}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.6.m6.1"><semantics id="S3.SS4.SSS0.Px1.p1.6.m6.1a"><msub id="S3.SS4.SSS0.Px1.p1.6.m6.1.1" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.2" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.2.cmml">r</mi><mo id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.1" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.3" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.3.cmml">e</mi><mo id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.1a" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.4" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.6.m6.1b"><apply id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3"><times id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.6.m6.1c">\gamma_{\pi_{ref}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px1.p1.6.m6.1d">italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> is <math alttext="-38.60" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.7.m7.1"><semantics id="S3.SS4.SSS0.Px1.p1.7.m7.1a"><mrow id="S3.SS4.SSS0.Px1.p1.7.m7.1.1" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1.cmml"><mo id="S3.SS4.SSS0.Px1.p1.7.m7.1.1a" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1.cmml">−</mo><mn id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.2" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1.2.cmml">38.60</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.7.m7.1b"><apply id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1"><minus id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1"></minus><cn id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.2.cmml" type="float" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1.2">38.60</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.7.m7.1c">-38.60</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px1.p1.7.m7.1d">- 38.60</annotation></semantics></math>.
On the other hand, using the aligned model <math alttext="M_{1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.8.m8.1"><semantics id="S3.SS4.SSS0.Px1.p1.8.m8.1a"><msub id="S3.SS4.SSS0.Px1.p1.8.m8.1.1" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.2" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.3" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.8.m8.1b"><apply id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.2">𝑀</ci><cn id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.8.m8.1c">M_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px1.p1.8.m8.1d">italic_M start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> from step 1 of sDPO as the reference model, the mean of <math alttext="\gamma_{\pi_{ref}}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.9.m9.1"><semantics id="S3.SS4.SSS0.Px1.p1.9.m9.1a"><msub id="S3.SS4.SSS0.Px1.p1.9.m9.1.1" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.2" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.2.cmml">r</mi><mo id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.1" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.3" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.3.cmml">e</mi><mo id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.1a" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.4" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.9.m9.1b"><apply id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3"><times id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.9.m9.1c">\gamma_{\pi_{ref}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px1.p1.9.m9.1d">italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> is <math alttext="-25.10" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.10.m10.1"><semantics id="S3.SS4.SSS0.Px1.p1.10.m10.1a"><mrow id="S3.SS4.SSS0.Px1.p1.10.m10.1.1" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.cmml"><mo id="S3.SS4.SSS0.Px1.p1.10.m10.1.1a" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.cmml">−</mo><mn id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.2" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.2.cmml">25.10</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.10.m10.1b"><apply id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1"><minus id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1"></minus><cn id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.2.cmml" type="float" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.2">25.10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.10.m10.1c">-25.10</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px1.p1.10.m10.1d">- 25.10</annotation></semantics></math>, an increase of <math alttext="13.50" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.11.m11.1"><semantics id="S3.SS4.SSS0.Px1.p1.11.m11.1a"><mn id="S3.SS4.SSS0.Px1.p1.11.m11.1.1" xref="S3.SS4.SSS0.Px1.p1.11.m11.1.1.cmml">13.50</mn><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.11.m11.1b"><cn id="S3.SS4.SSS0.Px1.p1.11.m11.1.1.cmml" type="float" xref="S3.SS4.SSS0.Px1.p1.11.m11.1.1">13.50</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.11.m11.1c">13.50</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px1.p1.11.m11.1d">13.50</annotation></semantics></math> in <span class="ltx_text ltx_font_italic" id="S3.SS4.SSS0.Px1.p1.12.3">log scale</span>.
Thus, a single step of sDPO greatly increases <math alttext="\gamma_{\pi_{ref}}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px1.p1.12.m12.1"><semantics id="S3.SS4.SSS0.Px1.p1.12.m12.1a"><msub id="S3.SS4.SSS0.Px1.p1.12.m12.1.1" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.2" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.2" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.2.cmml">r</mi><mo id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.1" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.3" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.3.cmml">e</mi><mo id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.1a" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.4" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.12.m12.1b"><apply id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3"><times id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.12.m12.1c">\gamma_{\pi_{ref}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px1.p1.12.m12.1d">italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>, which results in a more performant aligned model as seen in Tab.&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S2.T2" title="Table 2 ‣ Target model. ‣ 2.2 Stepwise DPO ‣ 2 Methodology ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_tag">2</span></a>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS4.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Adopting open source models as reference models could be dangerous.</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S3.SS4.SSS0.Px2.p1">
<p class="ltx_p" id="S3.SS4.SSS0.Px2.p1.13">We also show mean <math alttext="\gamma_{\pi_{ref}}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.1.m1.1"><semantics id="S3.SS4.SSS0.Px2.p1.1.m1.1a"><msub id="S3.SS4.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.2" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.2" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.2" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.2.cmml">r</mi><mo id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.3" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.3.cmml">e</mi><mo id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1a" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.4" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.1.m1.1b"><apply id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3"><times id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.1.m1.1c">\gamma_{\pi_{ref}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.1.m1.1d">italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> of <math alttext="M_{2}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.2.m2.1"><semantics id="S3.SS4.SSS0.Px2.p1.2.m2.1a"><msub id="S3.SS4.SSS0.Px2.p1.2.m2.1.1" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.2" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.3" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.2.m2.1b"><apply id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.2">𝑀</ci><cn id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.2.m2.1c">M_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.2.m2.1d">italic_M start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math>, the aligned model from step 2 of sDPO.
Unlike <math alttext="S" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.3.m3.1"><semantics id="S3.SS4.SSS0.Px2.p1.3.m3.1a"><mi id="S3.SS4.SSS0.Px2.p1.3.m3.1.1" xref="S3.SS4.SSS0.Px2.p1.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.3.m3.1b"><ci id="S3.SS4.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.3.m3.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.3.m3.1d">italic_S</annotation></semantics></math> and <math alttext="M_{1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.4.m4.1"><semantics id="S3.SS4.SSS0.Px2.p1.4.m4.1a"><msub id="S3.SS4.SSS0.Px2.p1.4.m4.1.1" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.2" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.3" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.4.m4.1b"><apply id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1.2">𝑀</ci><cn id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.4.m4.1c">M_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.4.m4.1d">italic_M start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="M_{2}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.5.m5.1"><semantics id="S3.SS4.SSS0.Px2.p1.5.m5.1a"><msub id="S3.SS4.SSS0.Px2.p1.5.m5.1.1" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.2" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.3" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.5.m5.1b"><apply id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1.2">𝑀</ci><cn id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.5.m5.1c">M_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.5.m5.1d">italic_M start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> is trained on the Ultrafeedback Cleaned dataset, <span class="ltx_text ltx_font_italic" id="S3.SS4.SSS0.Px2.p1.13.1">i.e.,</span> <math alttext="M_{2}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.6.m6.1"><semantics id="S3.SS4.SSS0.Px2.p1.6.m6.1a"><msub id="S3.SS4.SSS0.Px2.p1.6.m6.1.1" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.2" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.3" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.6.m6.1b"><apply id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1.2">𝑀</ci><cn id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.6.m6.1c">M_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.6.m6.1d">italic_M start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> is used as a reference model on data that was already used to train it.
Note that such a case could happen commonly when adopting various open source models as reference models.
This is because the datasets that were used in training those models are often unclear and could overlap with the preference datasets unintentionally.
Mean <math alttext="\gamma_{\pi_{ref}}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.7.m7.1"><semantics id="S3.SS4.SSS0.Px2.p1.7.m7.1a"><msub id="S3.SS4.SSS0.Px2.p1.7.m7.1.1" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.2" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.2" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.2" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.2.cmml">r</mi><mo id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.1" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.3" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.3.cmml">e</mi><mo id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.1a" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.4" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.7.m7.1b"><apply id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3"><times id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.7.m7.1c">\gamma_{\pi_{ref}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.7.m7.1d">italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> of <math alttext="M_{2}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.8.m8.1"><semantics id="S3.SS4.SSS0.Px2.p1.8.m8.1a"><msub id="S3.SS4.SSS0.Px2.p1.8.m8.1.1" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.2" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.3" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.8.m8.1b"><apply id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1.2">𝑀</ci><cn id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.8.m8.1c">M_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.8.m8.1d">italic_M start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> is <math alttext="84.35" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.9.m9.1"><semantics id="S3.SS4.SSS0.Px2.p1.9.m9.1a"><mn id="S3.SS4.SSS0.Px2.p1.9.m9.1.1" xref="S3.SS4.SSS0.Px2.p1.9.m9.1.1.cmml">84.35</mn><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.9.m9.1b"><cn id="S3.SS4.SSS0.Px2.p1.9.m9.1.1.cmml" type="float" xref="S3.SS4.SSS0.Px2.p1.9.m9.1.1">84.35</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.9.m9.1c">84.35</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.9.m9.1d">84.35</annotation></semantics></math>, which is staggeringly higher than either <math alttext="S" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.10.m10.1"><semantics id="S3.SS4.SSS0.Px2.p1.10.m10.1a"><mi id="S3.SS4.SSS0.Px2.p1.10.m10.1.1" xref="S3.SS4.SSS0.Px2.p1.10.m10.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.10.m10.1b"><ci id="S3.SS4.SSS0.Px2.p1.10.m10.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.10.m10.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.10.m10.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.10.m10.1d">italic_S</annotation></semantics></math> or <math alttext="M_{1}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.11.m11.1"><semantics id="S3.SS4.SSS0.Px2.p1.11.m11.1a"><msub id="S3.SS4.SSS0.Px2.p1.11.m11.1.1" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.2" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.3" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.11.m11.1b"><apply id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.2">𝑀</ci><cn id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.11.m11.1c">M_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.11.m11.1d">italic_M start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math>.
The strikingly high value for <math alttext="M_{2}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.12.m12.1"><semantics id="S3.SS4.SSS0.Px2.p1.12.m12.1a"><msub id="S3.SS4.SSS0.Px2.p1.12.m12.1.1" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.2" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.3" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.12.m12.1b"><apply id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1.2">𝑀</ci><cn id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.12.m12.1c">M_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.12.m12.1d">italic_M start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> likely points to overfitting of <math alttext="M_{2}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.13.m13.1"><semantics id="S3.SS4.SSS0.Px2.p1.13.m13.1a"><msub id="S3.SS4.SSS0.Px2.p1.13.m13.1.1" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.2" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.3" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.13.m13.1b"><apply id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1.2">𝑀</ci><cn id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.3.cmml" type="integer" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.13.m13.1c">M_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.13.m13.1d">italic_M start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> to the Ultrafeedback Cleaned dataset.
This result highlights the potential danger of merely adopting open source models as reference models instead of using sDPO.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</section>
<section class="ltx_subsection" id="S3.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.5 </span>Target Model Initialization in sDPO</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S3.SS5.p1">
<p class="ltx_p" id="S3.SS5.p1.2">The target model in each step of sDPO is also initialized with <math alttext="M_{t-1}" class="ltx_Math" display="inline" id="S3.SS5.p1.1.m1.1"><semantics id="S3.SS5.p1.1.m1.1a"><msub id="S3.SS5.p1.1.m1.1.1" xref="S3.SS5.p1.1.m1.1.1.cmml"><mi id="S3.SS5.p1.1.m1.1.1.2" xref="S3.SS5.p1.1.m1.1.1.2.cmml">M</mi><mrow id="S3.SS5.p1.1.m1.1.1.3" xref="S3.SS5.p1.1.m1.1.1.3.cmml"><mi id="S3.SS5.p1.1.m1.1.1.3.2" xref="S3.SS5.p1.1.m1.1.1.3.2.cmml">t</mi><mo id="S3.SS5.p1.1.m1.1.1.3.1" xref="S3.SS5.p1.1.m1.1.1.3.1.cmml">−</mo><mn id="S3.SS5.p1.1.m1.1.1.3.3" xref="S3.SS5.p1.1.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.1.m1.1b"><apply id="S3.SS5.p1.1.m1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p1.1.m1.1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS5.p1.1.m1.1.1.2.cmml" xref="S3.SS5.p1.1.m1.1.1.2">𝑀</ci><apply id="S3.SS5.p1.1.m1.1.1.3.cmml" xref="S3.SS5.p1.1.m1.1.1.3"><minus id="S3.SS5.p1.1.m1.1.1.3.1.cmml" xref="S3.SS5.p1.1.m1.1.1.3.1"></minus><ci id="S3.SS5.p1.1.m1.1.1.3.2.cmml" xref="S3.SS5.p1.1.m1.1.1.3.2">𝑡</ci><cn id="S3.SS5.p1.1.m1.1.1.3.3.cmml" type="integer" xref="S3.SS5.p1.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.1.m1.1c">M_{t-1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.1.m1.1d">italic_M start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math>, the aligned model from the last step.
This ensures that the final model in sDPO has undergone training with the same amount of data as the final model in DPO.
On the other hand, one concern of such design choice is that it may become increasingly difficult to stabilize the training of the target model as the steps progress, since it has already undergone training with a decreasing learning rate schedule in the preceding steps.
Thus, another option is to use the initial SFT base model <math alttext="S" class="ltx_Math" display="inline" id="S3.SS5.p1.2.m2.1"><semantics id="S3.SS5.p1.2.m2.1a"><mi id="S3.SS5.p1.2.m2.1.1" xref="S3.SS5.p1.2.m2.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.2.m2.1b"><ci id="S3.SS5.p1.2.m2.1.1.cmml" xref="S3.SS5.p1.2.m2.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.2.m2.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.2.m2.1d">italic_S</annotation></semantics></math> as the target model for all steps of sDPO.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S3.SS5.p2">
<p class="ltx_p" id="S3.SS5.p2.4">However, as shown in Fig.&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#S3.F3" title="Figure 3 ‣ 3.5 Target Model Initialization in sDPO ‣ 3 Experiments ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_tag">3</span></a>, initializing the target model as <math alttext="S" class="ltx_Math" display="inline" id="S3.SS5.p2.1.m1.1"><semantics id="S3.SS5.p2.1.m1.1a"><mi id="S3.SS5.p2.1.m1.1.1" xref="S3.SS5.p2.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.1.m1.1b"><ci id="S3.SS5.p2.1.m1.1.1.cmml" xref="S3.SS5.p2.1.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.1.m1.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.1.m1.1d">italic_S</annotation></semantics></math> results in a much bigger initial loss than that of <math alttext="M_{t-1}" class="ltx_Math" display="inline" id="S3.SS5.p2.2.m2.1"><semantics id="S3.SS5.p2.2.m2.1a"><msub id="S3.SS5.p2.2.m2.1.1" xref="S3.SS5.p2.2.m2.1.1.cmml"><mi id="S3.SS5.p2.2.m2.1.1.2" xref="S3.SS5.p2.2.m2.1.1.2.cmml">M</mi><mrow id="S3.SS5.p2.2.m2.1.1.3" xref="S3.SS5.p2.2.m2.1.1.3.cmml"><mi id="S3.SS5.p2.2.m2.1.1.3.2" xref="S3.SS5.p2.2.m2.1.1.3.2.cmml">t</mi><mo id="S3.SS5.p2.2.m2.1.1.3.1" xref="S3.SS5.p2.2.m2.1.1.3.1.cmml">−</mo><mn id="S3.SS5.p2.2.m2.1.1.3.3" xref="S3.SS5.p2.2.m2.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.2.m2.1b"><apply id="S3.SS5.p2.2.m2.1.1.cmml" xref="S3.SS5.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.2.m2.1.1.1.cmml" xref="S3.SS5.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS5.p2.2.m2.1.1.2.cmml" xref="S3.SS5.p2.2.m2.1.1.2">𝑀</ci><apply id="S3.SS5.p2.2.m2.1.1.3.cmml" xref="S3.SS5.p2.2.m2.1.1.3"><minus id="S3.SS5.p2.2.m2.1.1.3.1.cmml" xref="S3.SS5.p2.2.m2.1.1.3.1"></minus><ci id="S3.SS5.p2.2.m2.1.1.3.2.cmml" xref="S3.SS5.p2.2.m2.1.1.3.2">𝑡</ci><cn id="S3.SS5.p2.2.m2.1.1.3.3.cmml" type="integer" xref="S3.SS5.p2.2.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.2.m2.1c">M_{t-1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.2.m2.1d">italic_M start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math>, which could lead to an unstable training.
The main reason is that DPO training is usually done where the reference and target models are the same.
In contrast, initializing the target model as <math alttext="S" class="ltx_Math" display="inline" id="S3.SS5.p2.3.m3.1"><semantics id="S3.SS5.p2.3.m3.1a"><mi id="S3.SS5.p2.3.m3.1.1" xref="S3.SS5.p2.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.3.m3.1b"><ci id="S3.SS5.p2.3.m3.1.1.cmml" xref="S3.SS5.p2.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.3.m3.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.3.m3.1d">italic_S</annotation></semantics></math> creates a differential in the reference and target models, which may be amplified as the steps progress.
Thus, for stable training, initializing the target model as <math alttext="M_{t-1}" class="ltx_Math" display="inline" id="S3.SS5.p2.4.m4.1"><semantics id="S3.SS5.p2.4.m4.1a"><msub id="S3.SS5.p2.4.m4.1.1" xref="S3.SS5.p2.4.m4.1.1.cmml"><mi id="S3.SS5.p2.4.m4.1.1.2" xref="S3.SS5.p2.4.m4.1.1.2.cmml">M</mi><mrow id="S3.SS5.p2.4.m4.1.1.3" xref="S3.SS5.p2.4.m4.1.1.3.cmml"><mi id="S3.SS5.p2.4.m4.1.1.3.2" xref="S3.SS5.p2.4.m4.1.1.3.2.cmml">t</mi><mo id="S3.SS5.p2.4.m4.1.1.3.1" xref="S3.SS5.p2.4.m4.1.1.3.1.cmml">−</mo><mn id="S3.SS5.p2.4.m4.1.1.3.3" xref="S3.SS5.p2.4.m4.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.4.m4.1b"><apply id="S3.SS5.p2.4.m4.1.1.cmml" xref="S3.SS5.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.4.m4.1.1.1.cmml" xref="S3.SS5.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS5.p2.4.m4.1.1.2.cmml" xref="S3.SS5.p2.4.m4.1.1.2">𝑀</ci><apply id="S3.SS5.p2.4.m4.1.1.3.cmml" xref="S3.SS5.p2.4.m4.1.1.3"><minus id="S3.SS5.p2.4.m4.1.1.3.1.cmml" xref="S3.SS5.p2.4.m4.1.1.3.1"></minus><ci id="S3.SS5.p2.4.m4.1.1.3.2.cmml" xref="S3.SS5.p2.4.m4.1.1.3.2">𝑡</ci><cn id="S3.SS5.p2.4.m4.1.1.3.3.cmml" type="integer" xref="S3.SS5.p2.4.m4.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.4.m4.1c">M_{t-1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.4.m4.1d">italic_M start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math> was chosen for sDPO.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_figure" id="S3.F3">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S3.F3.1" style="width:368.6pt;height:151.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(44.0pt,-18.1pt) scale(1.31368174121967,1.31368174121967) ;"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="222" id="S3.F3.1.g1" src="x3.png" width="527">
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Loss curve comparison in step 2 of sDPO for different initializations of the target model.</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Conclusion</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">We propose sDPO where we use the preference data in a stepwise way instead of all at once.
We show that applying sDPO results in more performant models than DPO in terms of H4 score.
We also empirically exhibit that sDPO results in more aligned reference models by comparing mean <math alttext="\gamma_{\pi_{ref}}" class="ltx_Math" display="inline" id="S4.p1.1.m1.1"><semantics id="S4.p1.1.m1.1a"><msub id="S4.p1.1.m1.1.1" xref="S4.p1.1.m1.1.1.cmml"><mi id="S4.p1.1.m1.1.1.2" xref="S4.p1.1.m1.1.1.2.cmml">γ</mi><msub id="S4.p1.1.m1.1.1.3" xref="S4.p1.1.m1.1.1.3.cmml"><mi id="S4.p1.1.m1.1.1.3.2" xref="S4.p1.1.m1.1.1.3.2.cmml">π</mi><mrow id="S4.p1.1.m1.1.1.3.3" xref="S4.p1.1.m1.1.1.3.3.cmml"><mi id="S4.p1.1.m1.1.1.3.3.2" xref="S4.p1.1.m1.1.1.3.3.2.cmml">r</mi><mo id="S4.p1.1.m1.1.1.3.3.1" xref="S4.p1.1.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S4.p1.1.m1.1.1.3.3.3" xref="S4.p1.1.m1.1.1.3.3.3.cmml">e</mi><mo id="S4.p1.1.m1.1.1.3.3.1a" xref="S4.p1.1.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S4.p1.1.m1.1.1.3.3.4" xref="S4.p1.1.m1.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S4.p1.1.m1.1b"><apply id="S4.p1.1.m1.1.1.cmml" xref="S4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.p1.1.m1.1.1.1.cmml" xref="S4.p1.1.m1.1.1">subscript</csymbol><ci id="S4.p1.1.m1.1.1.2.cmml" xref="S4.p1.1.m1.1.1.2">𝛾</ci><apply id="S4.p1.1.m1.1.1.3.cmml" xref="S4.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.p1.1.m1.1.1.3.1.cmml" xref="S4.p1.1.m1.1.1.3">subscript</csymbol><ci id="S4.p1.1.m1.1.1.3.2.cmml" xref="S4.p1.1.m1.1.1.3.2">𝜋</ci><apply id="S4.p1.1.m1.1.1.3.3.cmml" xref="S4.p1.1.m1.1.1.3.3"><times id="S4.p1.1.m1.1.1.3.3.1.cmml" xref="S4.p1.1.m1.1.1.3.3.1"></times><ci id="S4.p1.1.m1.1.1.3.3.2.cmml" xref="S4.p1.1.m1.1.1.3.3.2">𝑟</ci><ci id="S4.p1.1.m1.1.1.3.3.3.cmml" xref="S4.p1.1.m1.1.1.3.3.3">𝑒</ci><ci id="S4.p1.1.m1.1.1.3.3.4.cmml" xref="S4.p1.1.m1.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.1.m1.1c">\gamma_{\pi_{ref}}</annotation><annotation encoding="application/x-llamapun" id="S4.p1.1.m1.1d">italic_γ start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_r italic_e italic_f end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_section" id="Sx1">
<h2 class="ltx_title ltx_title_section">Limitations</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="Sx1.p1">
<p class="ltx_p" id="Sx1.p1.1">While we have demonstrated the effectiveness of employing different datasets in distinct stages of sDPO, identifying an optimal strategy for segmenting more intricate DPO data collections remains an area for further exploration. This task is particularly challenging due to the complexities within these datasets. Our approach, while promising, necessitates a more deeper understanding of dataset characteristics and their impact on the performance of sDPO.
</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="Sx1.p2">
<p class="ltx_p" id="Sx1.p2.1">Furthermore, our experiments predominantly utilized SOLAR 10.7B models, driven by the state-of-the-art performance at the time of experimentation along with its unique 10.7 billion parameter size.
The unique size of SOLAR 10.7B models made the usage of sDPO more necessary as there are far fewer open source LLMs that can be adopted as reference models.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="Sx1.p3">
<p class="ltx_p" id="Sx1.p3.1">Additionally, as with most research on LLMs, we operated within our limitations in computational resources. Although this focus has yielded significant insights, expanding our experimental framework to incorporate a broader range of Large Language Models (LLMs) could potentially unveil more comprehensive understanding of the strengths and limitations of sDPO. Such an expansion would allow for a more robust comparison across different model architectures and sizes, further enriching our findings.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="Sx1.p4">
<p class="ltx_p" id="Sx1.p4.1">Evaluating the efficacy of LLMs is an evolving challenge in the field. In our study, we primarily employed tasks from the Huggingface Open LLM Leaderboard as benchmarks for evaluation. While this provided comparative results, future research could benefit from incorporating a wider array of tasks and benchmarks. These could include tasks that judge actual human or strong AI preference alignment. Such additional evaluation would not only enhance the validity of our findings but also contribute to the broader discourse on LLM assessment methodologies.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_section" id="Sx2">
<h2 class="ltx_title ltx_title_section">Ethics Statement</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="Sx2.p1">
<p class="ltx_p" id="Sx2.p1.1">In this study, we strictly adhered to ethical standards in the conduct of our research. Our experiments were based entirely on open models and open datasets, ensuring transparency and accessibility. We took meticulous care to avoid any biases or data contamination, thereby maintaining the integrity of our research process. The experimental environment was rigorously designed to be objective, ensuring that all comparisons conducted were fair and impartial. This approach reinforces the reliability and validity of our findings, contributing positively to the field while upholding the highest ethical standards. We confirmed that all the data used in our experiments were free of licensing issues.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Anil et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Rohan Anil, Andrew&nbsp;M Dai, Orhan Firat, Melvin Johnson, Dmitry Lepikhin, Alexandre Passos, Siamak Shakeri, Emanuel Taropa, Paige Bailey, Zhifeng Chen, et&nbsp;al. 2023.

</span>
<span class="ltx_bibblock">Palm 2 technical report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">arXiv preprint arXiv:2305.10403</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bai et&nbsp;al. (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Yuntao Bai, Saurav Kadavath, Sandipan Kundu, Amanda Askell, Jackson Kernion, Andy Jones, Anna Chen, Anna Goldie, Azalia Mirhoseini, Cameron McKinnon, et&nbsp;al. 2022.

</span>
<span class="ltx_bibblock">Constitutional ai: Harmlessness from ai feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">arXiv preprint arXiv:2212.08073</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Beeching et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Edward Beeching, Clémentine Fourrier, Nathan Habib, Sheon Han, Nathan Lambert, Nazneen Rajani, Omar Sanseviero, Lewis Tunstall, and Thomas Wolf. 2023.

</span>
<span class="ltx_bibblock">Open llm leaderboard.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://huggingface.co/spaces/HuggingFaceH4/open_llm_leaderboard" title="">https://huggingface.co/spaces/HuggingFaceH4/open_llm_leaderboard</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et&nbsp;al. (2020)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Tom Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared&nbsp;D Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell, et&nbsp;al. 2020.

</span>
<span class="ltx_bibblock">Language models are few-shot learners.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">Advances in neural information processing systems</em>, 33:1877–1901.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Christiano et&nbsp;al. (2017)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Paul&nbsp;F Christiano, Jan Leike, Tom Brown, Miljan Martic, Shane Legg, and Dario Amodei. 2017.

</span>
<span class="ltx_bibblock">Deep reinforcement learning from human preferences.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">Advances in neural information processing systems</em>, 30.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Clark et&nbsp;al. (2018)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Peter Clark, Isaac Cowhey, Oren Etzioni, Tushar Khot, Ashish Sabharwal, Carissa Schoenick, and Oyvind Tafjord. 2018.

</span>
<span class="ltx_bibblock">Think you have solved question answering? try arc, the ai2 reasoning challenge.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">arXiv preprint arXiv:1803.05457</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cobbe et&nbsp;al. (2021)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Karl Cobbe, Vineet Kosaraju, Mohammad Bavarian, Mark Chen, Heewoo Jun, Lukasz Kaiser, Matthias Plappert, Jerry Tworek, Jacob Hilton, Reiichiro Nakano, et&nbsp;al. 2021.

</span>
<span class="ltx_bibblock">Training verifiers to solve math word problems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">arXiv preprint arXiv:2110.14168</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cui et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Ganqu Cui, Lifan Yuan, Ning Ding, Guanming Yao, Wei Zhu, Yuan Ni, Guotong Xie, Zhiyuan Liu, and Maosong Sun. 2023.

</span>
<span class="ltx_bibblock">Ultrafeedback: Boosting language models with high-quality feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">arXiv preprint arXiv:2310.01377</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dong et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Hanze Dong, Wei Xiong, Deepanshu Goyal, Rui Pan, Shizhe Diao, Jipeng Zhang, Kashun Shum, and Tong Zhang. 2023.

</span>
<span class="ltx_bibblock">Raft: Reward ranked finetuning for generative foundation model alignment.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">arXiv preprint arXiv:2304.06767</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hendrycks et&nbsp;al. (2020)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Dan Hendrycks, Collin Burns, Steven Basart, Andy Zou, Mantas Mazeika, Dawn Song, and Jacob Steinhardt. 2020.

</span>
<span class="ltx_bibblock">Measuring massive multitask language understanding.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">International Conference on Learning Representations</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hernandez et&nbsp;al. (2021)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Danny Hernandez, Jared Kaplan, Tom Henighan, and Sam McCandlish. 2021.

</span>
<span class="ltx_bibblock">Scaling laws for transfer.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">arXiv preprint arXiv:2102.01293</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Intel (2023a)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Intel. 2023a.

</span>
<span class="ltx_bibblock">Intel/neural-chat-7b-v3-1.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://huggingface.co/Intel/neural-chat-7b-v3-1" title="">https://huggingface.co/Intel/neural-chat-7b-v3-1</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Intel (2023b)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Intel. 2023b.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://medium.com/intel-analytics-software/the-practice-of-supervised-finetuning-and-direct-preference-optimization-on-habana-gaudi2-a1197d8a3cd3" title="">Supervised fine-tuning and direct preference optimization on intel gaudi2</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ivison et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Hamish Ivison, Yizhong Wang, Valentina Pyatkin, Nathan Lambert, Matthew Peters, Pradeep Dasigi, Joel Jang, David Wadden, Noah&nbsp;A. Smith, Iz&nbsp;Beltagy, and Hannaneh Hajishirzi. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2311.10702" title="">Camels in a changing climate: Enhancing lm adaptation with tulu 2</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kaplan et&nbsp;al. (2020)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Jared Kaplan, Sam McCandlish, Tom Henighan, Tom&nbsp;B Brown, Benjamin Chess, Rewon Child, Scott Gray, Alec Radford, Jeffrey Wu, and Dario Amodei. 2020.

</span>
<span class="ltx_bibblock">Scaling laws for neural language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">arXiv preprint arXiv:2001.08361</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kim et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Dahyun Kim, Chanjun Park, Sanghoon Kim, Wonsung Lee, Wonho Song, Yunsu Kim, Hyeonwoo Kim, Yungi Kim, Hyeonju Lee, Jihoo Kim, Changbae Ahn, Seonghoon Yang, Sukyung Lee, Hyunbyung Park, Gyoungjin Gim, Mikyoung Cha, Hwalsuk Lee, and Sunghun Kim. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2312.15166" title="">Solar 10.7b: Scaling large language models with simple yet effective depth up-scaling</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lian et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Wing Lian, Bleys Goodson, Guan Wang, Eugene Pentland, Austin Cook, Chanvichet Vong, and "Teknium". 2023.

</span>
<span class="ltx_bibblock">Mistralorca: Mistral-7b model instruct-tuned on filtered openorcav1 gpt-4 dataset.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://huggingface.co/Open-Orca/Mistral-7B-OpenOrca" title="">https://huggingface.co/Open-Orca/Mistral-7B-OpenOrca</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et&nbsp;al. (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Stephanie Lin, Jacob Hilton, and Owain Evans. 2022.

</span>
<span class="ltx_bibblock">Truthfulqa: Measuring how models mimic human falsehoods.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">Proceedings of the 60th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pages 3214–3252.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mukherjee et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Subhabrata Mukherjee, Arindam Mitra, Ganesh Jawahar, Sahaj Agarwal, Hamid Palangi, and Ahmed Awadallah. 2023.

</span>
<span class="ltx_bibblock">Orca: Progressive learning from complex explanation traces of gpt-4.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">arXiv preprint arXiv:2306.02707</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
OpenAI. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2303.08774" title="">Gpt-4 technical report</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et&nbsp;al. (2019)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Alec Radford, Jeffrey Wu, Rewon Child, David Luan, Dario Amodei, Ilya Sutskever, et&nbsp;al. 2019.

</span>
<span class="ltx_bibblock">Language models are unsupervised multitask learners.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">OpenAI blog</em>, 1(8):9.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rafailov et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Rafael Rafailov, Archit Sharma, Eric Mitchell, Stefano Ermon, Christopher&nbsp;D Manning, and Chelsea Finn. 2023.

</span>
<span class="ltx_bibblock">Direct preference optimization: Your language model is secretly a reward model.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">arXiv preprint arXiv:2305.18290</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sakaguchi et&nbsp;al. (2021)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Keisuke Sakaguchi, Ronan&nbsp;Le Bras, Chandra Bhagavatula, and Yejin Choi. 2021.

</span>
<span class="ltx_bibblock">Winogrande: An adversarial winograd schema challenge at scale.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">Communications of the ACM</em>, 64(9):99–106.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schulman et&nbsp;al. (2017)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
John Schulman, Filip Wolski, Prafulla Dhariwal, Alec Radford, and Oleg Klimov. 2017.

</span>
<span class="ltx_bibblock">Proximal policy optimization algorithms.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">arXiv preprint arXiv:1707.06347</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Teknium (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Teknium. 2023.

</span>
<span class="ltx_bibblock">teknium/openhermes-2.5-mistral-7b.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://huggingface.co/teknium/OpenHermes-2.5-Mistral-7B" title="">https://huggingface.co/teknium/OpenHermes-2.5-Mistral-7B</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tunstall et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Lewis Tunstall, Edward Beeching, Nathan Lambert, Nazneen Rajani, Kashif Rasul, Younes Belkada, Shengyi Huang, Leandro von Werra, Clémentine Fourrier, Nathan Habib, et&nbsp;al. 2023.

</span>
<span class="ltx_bibblock">Zephyr: Direct distillation of lm alignment.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">arXiv preprint arXiv:2310.16944</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Upstage (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Upstage. 2023.

</span>
<span class="ltx_bibblock">upstage/solar-0-70b-16bit.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://huggingface.co/upstage/SOLAR-0-70b-16bit" title="">https://huggingface.co/upstage/SOLAR-0-70b-16bit</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et&nbsp;al. (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Jason Wei, Yi&nbsp;Tay, Rishi Bommasani, Colin Raffel, Barret Zoph, Sebastian Borgeaud, Dani Yogatama, Maarten Bosma, Denny Zhou, Donald Metzler, et&nbsp;al. 2022.

</span>
<span class="ltx_bibblock">Emergent abilities of large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">arXiv preprint arXiv:2206.07682</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan et&nbsp;al. (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Weizhe Yuan, Richard&nbsp;Yuanzhe Pang, Kyunghyun Cho, Sainbayar Sukhbaatar, Jing Xu, and Jason Weston. 2024.

</span>
<span class="ltx_bibblock">Self-rewarding language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">arXiv preprint arXiv:2401.10020</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Zheng Yuan, Hongyi Yuan, Chuanqi Tan, Wei Wang, Songfang Huang, and Fei Huang. 2023.

</span>
<span class="ltx_bibblock">Rrhf: Rank responses to align language models with human feedback without tears.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">arXiv preprint arXiv:2304.05302</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zellers et&nbsp;al. (2019)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Rowan Zellers, Ari Holtzman, Yonatan Bisk, Ali Farhadi, and Yejin Choi. 2019.

</span>
<span class="ltx_bibblock">Hellaswag: Can a machine really finish your sentence?

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">Proceedings of the 57th Annual Meeting of the Association for Computational Linguistics</em>, pages 4791–4800.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ziegler et&nbsp;al. (2019)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Daniel&nbsp;M Ziegler, Nisan Stiennon, Jeffrey Wu, Tom&nbsp;B Brown, Alec Radford, Dario Amodei, Paul Christiano, and Geoffrey Irving. 2019.

</span>
<span class="ltx_bibblock">Fine-tuning language models from human preferences.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">arXiv preprint arXiv:1909.08593</em>.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Related Work</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_subsection" id="A1.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Large Language Models</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="A1.SS1.p1">
<p class="ltx_p" id="A1.SS1.p1.1">Recent research has highlighted a "scaling law" in the field of context-based language models&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Kaplan et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib15" title="">2020</a>); Hernandez et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib11" title="">2021</a>); Anil et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib1" title="">2023</a>)</cite>, showing a proportional relationship between the size of the model plus the training data and the resulting performance improvements. Consequently, this has led to the advent of Large Language Models (LLMs). In contrast to earlier models, LLMs can perform in-context learning, which includes abilities such as zero-shot learning&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Radford et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib21" title="">2019</a>)</cite> and few-shot learning&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Brown et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib4" title="">2020</a>)</cite>, allowing them to adapt and perform tasks without the need for weight adjustments. These emergent abilities of LLMs, absent in their smaller counterparts, signal a significant evolution in language model capabilities&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Wei et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib28" title="">2022</a>)</cite>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="A1.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Alignment Tuning</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="A1.SS2.p1">
<p class="ltx_p" id="A1.SS2.p1.1">LLMs have been recognized to produce text that may seem linguistically inconsistent to human interpreters because their pretraining is based not on an understanding of human intentions but on a broad spectrum of domain-specific knowledge, as indicated in&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Ziegler et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib32" title="">2019</a>)</cite>. In an effort to rectify this issue and better mirror human intentions, prior research&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Ziegler et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib32" title="">2019</a>)</cite> has suggested the adoption of Reinforcement Learning with Human Feedback (RLHF). RLHF seeks to refine the LLM’s output by constructing a reward model that aligns with human preferences and applying reinforcement learning to direct the LLM towards selections that garner the most favorable reward metrics. This approach is intended to bolster the safety, decorum, and general excellence of the responses produced by the LLM. Nonetheless, despite showing promising results, RLHF is confronted with challenges, such as the intricate handling of an extensive set of hyperparameters and the necessity to amalgamate several models (policy, value, reward, and reference models).</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="A1.SS2.p2">
<p class="ltx_p" id="A1.SS2.p2.1">To address these issues, there have been proposals for supervised fine-tuning methodologies such as Rank Responses to align Human Feedback (RRHF)&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Yuan et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib30" title="">2023</a>)</cite>, Reward rAnked FineTuning (RAFT)&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Dong et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib9" title="">2023</a>)</cite>, and Direct Preference Optimization (DPO)&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Rafailov et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib22" title="">2023</a>)</cite>. These methods circumvent the intricacies inherent in reinforcement learning and have been shown to yield empirical results on par with RLHF. Notably, the DPO technique straightforwardly encourages the LLM to favor positive responses and discourage negative ones. DPO has been observed to yield performant learning outcomes, in spite of its uncomplicated training procedure.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="A1.SS2.p3">
<p class="ltx_p" id="A1.SS2.p3.1">Concurrent to our work, <cite class="ltx_cite ltx_citemacro_citet">Yuan et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib29" title="">2024</a>)</cite> have developed an iterative framework for generating <span class="ltx_text ltx_font_italic" id="A1.SS2.p3.1.1">new</span> preference datasets and performing DPO training on the resulting datasets. They empirically demonstrated the superiority of their iterative framework in terms of AlpacaEval 2.0.
In contrast, our work is complementary to the above in the sense that we focus on utilizing the <span class="ltx_text ltx_font_italic" id="A1.SS2.p3.1.2">current</span> preference data and does not undergo new data generation.
Thus, our method can also be applied to <cite class="ltx_cite ltx_citemacro_citet">Yuan et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib29" title="">2024</a>)</cite> by changing the DPO training part to using sDPO instead.
We leave the above combination as an interesting future work.
Additionally, the evaluation used in <cite class="ltx_cite ltx_citemacro_citet">Yuan et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib29" title="">2024</a>)</cite> is also different to ours as we utilize tasks from Open LLM Leaderboard whereas <cite class="ltx_cite ltx_citemacro_citet">Yuan et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2403.19270v1#bib.bib29" title="">2024</a>)</cite> uses AlpacaEval 2.0.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</section>
</article>
</div>

</div>


<div class="ltx_page_footer">
        <div class="ltx_page_logo">
            Generated on Wed Dec 14 18:01:44 2022 by
            <a href="https://math.nist.gov/~BMiller/LaTeXML/" class="ltx_LaTeXML_logo">
                <span style="letter-spacing: -0.2em; margin-right: 0.1em;">
                    L
                    <span style="font-size: 70%; position: relative; bottom: 2.2pt;">A</span>
                    T
                    <span style="position: relative; bottom: -0.4ex;">E</span>
                </span>
                <span class="ltx_font_smallcaps">xml</span>
                <img alt="[LOGO]" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==">
            </a>
        </div></div><footer id="footer" class="ltx_document">
        <div class="keyboard-glossary">
            <h2>Instructions for reporting errors</h2>
            <p>We are continuing to improve HTML versions of papers, and your feedback helps enhance accessibility and mobile support. To report errors in the HTML that will help us improve conversion and rendering, choose any of the methods listed below:</p>
            <ul>
                <li>Click the "Report Issue" button.</li>
                <li>Open a report feedback form via keyboard, use "<strong>Ctrl + ?</strong>".</li>
                <li>Make a text selection and click the "Report Issue for Selection" button near your cursor.</li>
                <li class="sr-only">You can use Alt+Y to toggle on and Alt+Shift+Y to toggle off accessible reporting links at each section.</li>
            </ul>
            <p>Our team has already identified <a class="ltx_ref" href="https://github.com/arXiv/html_feedback/issues" target="_blank">the following issues</a>. We appreciate your time reviewing and reporting rendering errors we may not have found yet. Your efforts will help us improve the HTML versions for all readers, because disability should not be a barrier to accessing research. Thank you for your continued support in championing open access for all.</p>
            <p>Have a free development cycle? Help support accessibility at arXiv! Our collaborators at LaTeXML maintain a <a class="ltx_ref" href="https://github.com/brucemiller/LaTeXML/wiki/Porting-LaTeX-packages-for-LaTeXML" target="_blank">list of packages that need conversion</a>, and welcome <a class="ltx_ref" href="https://github.com/brucemiller/LaTeXML/issues" target="_blank">developer contributions</a>.</p>
        </div>
    </footer><button type="button" class="btn btn-primary hover-rp-button" id="openForm">Report Issue</button><div class="modal" id="myForm" role="dialog" aria-labelledby="modal-title"><div class="modal-dialog"><form class="modal-content" id="myFormContent" enctype="multipart/form-data"><div class="modal-header" id="modal-header"><h5 class="modal-title">Report Github Issue</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><label for="form_title" id="modalTitle">Title:</label><input class="form-control" id="form_title" name="form_title" required="required" placeholder="Enter title"><label for="description" id="selectedTextModalDescription" style="display: none;">Content selection saved. Describe the issue below:</label><label for="description" id="nomralModalDescription">Description:</label><textarea class="form-control" id="description" name="description" required="required" style="height: 80px;" maxlength="500" placeholder="500 characters maximum"></textarea></div><div class="modal-footer d-flex justify-content-end"><button type="submit" class="sr-only button" id="modal-submit-sr">Submit without Github</button><button type="submit" class="btn btn-primary" id="modal-submit">Submit in Github</button></div></form></div></div><button id="small-report-button" type="button" class="btn btn-secondary btn-sm" style="background-color: rgb(179, 27, 27); position: fixed;">Report Issue for Selection</button></body></html>