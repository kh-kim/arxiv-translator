<html lang="en" data-theme="light"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2403.19270] sDPO: Don’t Use Your Data All at Once</title><meta property="og:description" content="As development of large language models (LLM) progresses, aligning them with human preferences has become increasingly important. We propose stepwise DPO (sDPO), an extension of the recently popularized direct preferen…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="sDPO: Don’t Use Your Data All at Once">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="sDPO: Don’t Use Your Data All at Once">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2403.19270">

<!--Generated on Fri Apr  5 16:07:34 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="https://ar5iv.labs.arxiv.org/assets/ar5iv-fonts.0.7.9.min.css"><link media="all" rel="stylesheet" href="https://ar5iv.labs.arxiv.org/assets/ar5iv.0.7.9.min.css"><link media="all" rel="stylesheet" href="https://ar5iv.labs.arxiv.org/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document">
<h1 class="ltx_title ltx_title_document">sDPO: Don’t Use Your Data All at Once</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Dahyun Kim, Yungi Kim, Wonho Song, Hyeonwoo Kim, Yunsu Kim, Sanghoon Kim
<br class="ltx_break"><span id="id1.1.1" class="ltx_text ltx_font_bold">Chanjun Park<sup id="id1.1.1.1" class="ltx_sup"><span id="id1.1.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic">†</span></sup>
<br class="ltx_break">
<br class="ltx_break"></span>Upstage AI, South Korea 
<br class="ltx_break"><span id="id2.2.id1" class="ltx_text ltx_font_typewriter">{kdahyun, eddie, ynot, choco_9966, yoonsoo, limerobot, chanjun.park}@upstage.ai</span>
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><sup id="footnote1.1" class="ltx_sup">†</sup> Corresponding Author</span></span></span>
<p class="ltx_p" id="id3.id1">대형 언어 모델(LLM)의 개발이 진행됨에 따라, 이들을 인간의 선호도에 맞추는 것이 점점 더 중요해지고 있다. 본 논문에서는 최근 널리 사용되고 있는 직접 선호 최적화(DPO)의 확장인 단계적 DPO(sDPO)를 제안한다. 이 접근법에는 사용 가능한 선호도 데이터 세트를 한 번에 사용하는 것이 아니라 단계적으로 분할하여 사용하는 것이 포함된다. 우리는 이 방법이 DPO 훈련 프레임워크 내에서 보다 정확하게 정렬된 참조 모델의 사용을 용이하게 한다는 것을 입증한다. 또한 sDPO는 최종 모델이 더 성능이 우수하도록 훈련하여 더 많은 매개변수로 다른 인기 LLM을 능가한다.</p>
</div>
<div id="p1" class="ltx_para ltx_noindent">
<div id="p1.1" class="ltx_block ltx_align_bottom">
<p class="ltx_p" id="p1.1.2"><span class="ltx_text ltx_font_bold" id="p1.1.2.1">sDPO: Don’t Use Your Data All at Once</span></p>
<br class="ltx_break ltx_centering">
<p id="p1.1.1" class="ltx_p ltx_align_center" style="width:433.6pt;"><span id="p1.1.1.1" class="ltx_text ltx_inline-block" style="width:0.0pt;">

<span id="p1.1.1.1.1" class="ltx_tabular ltx_align_top">
<span class="ltx_tbody">
<span id="p1.1.1.1.1.2.1" class="ltx_tr">
<span id="p1.1.1.1.1.2.1.1" class="ltx_td ltx_align_center"><span id="p1.1.1.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Dahyun Kim, Yungi Kim, Wonho Song, Hyeonwoo Kim, Yunsu Kim, Sanghoon Kim</span></span></span>
<span id="p1.1.1.1.1.1" class="ltx_tr">
<span id="p1.1.1.1.1.1.1" class="ltx_td ltx_align_center"><span id="p1.1.1.1.1.1.1.1" class="ltx_text ltx_font_bold">Chanjun Park<sup id="p1.1.1.1.1.1.1.1.1" class="ltx_sup"><span id="p1.1.1.1.1.1.1.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic">†</span></sup></span></span></span>
<span id="p1.1.1.1.1.3.2" class="ltx_tr">
<span id="p1.1.1.1.1.3.2.1" class="ltx_td ltx_align_center">Upstage AI, South Korea</span></span>
<span id="p1.1.1.1.1.4.3" class="ltx_tr">
<span id="p1.1.1.1.1.4.3.1" class="ltx_td ltx_align_center"><span id="p1.1.1.1.1.4.3.1.1" class="ltx_text ltx_font_typewriter">{kdahyun, eddie, ynot, choco_9966, yoonsoo, limerobot, chanjun.park}@upstage.ai</span></span></span>
</span>
</span></span></p>
<br class="ltx_break ltx_centering">
</div>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p class="ltx_p" id="S1.p1.1">대형 언어 모델(LLM)은 사전 훈련, 감독 미세 조정 및 정렬 조정을 포함하는 훈련 프로세스를 통해 자연어 처리(NLP) 분야에 혁명을 일으켰으며 후자는 모델의 안전성과 유용성을 보장한다. 따라서, 근접 정책 최적화(PPO) <cite class="ltx_cite ltx_citemacro_cite">Schulman et al. (<a class="ltx_ref" href="#bib.bib24" title="">2017</a>)</cite>와 같은 강화 학습 기술 <cite class="ltx_cite ltx_citemacro_cite">Christiano et al. (<a class="ltx_ref" href="#bib.bib5" title="">2017</a>); Bai et al. (<a class="ltx_ref" href="#bib.bib2" title="">2022</a>)</cite>는 복잡성에도 불구하고 이 정렬 단계에서 핵심이다.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p class="ltx_p" id="S1.p2.1">LLM 훈련에서 강화 학습의 복잡한 특성을 해결하기 위해, 직접 선호 최적화(DPO) <cite class="ltx_cite ltx_citemacro_cite">Rafailov et al. (<a class="ltx_ref" href="#bib.bib22" title="">2023</a>)</cite>, 다른 방법들 중 <cite class="ltx_cite ltx_citemacro_cite">Yuan et al. (<a class="ltx_ref" href="#bib.bib30" title="">2023</a>); Dong et al. (<a class="ltx_ref" href="#bib.bib9" title="">2023</a>)</cite>는 단순성과 효과성으로 대중화되었다. DPO는 인간 또는 강한 AI(<span class="ltx_text ltx_font_italic" id="S1.p2.1.1">e.g.,</span> GPT-4 <cite class="ltx_cite ltx_citemacro_cite">OpenAI (<a class="ltx_ref" href="#bib.bib20" title="">2023</a>)</cite>) 판단을 사용하여 선호 데이터 세트를 큐레이팅하여 질문에 대한 선택 및 거부 응답을 선택한다. 이러한 데이터 세트는 선택된 답변과 거부된 답변의 로그 확률을 비교하여 LLM을 훈련하는 데 사용된다. 그러나 이러한 확률을 얻는 것은 입력에 대한 로그 확률을 제공하지 않기 때문에 GPT-4와 같은 독점 모델에서는 어려울 수 있다.</p>
</div>
<figure id="S1.T1" class="ltx_table">
<div id="S1.T1.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:390.3pt;height:212.6pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(46.5pt,-25.3pt) scale(1.31263856386136,1.31263856386136) ;">
<table id="S1.T1.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S1.T1.1.1.1.1" class="ltx_tr">
<th id="S1.T1.1.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt">Model</th>
<th id="S1.T1.1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Reference Model</th>
<th id="S1.T1.1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">H4</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S1.T1.1.1.2.1" class="ltx_tr">
<th id="S1.T1.1.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">Mistral-7B-OpenOrca</th>
<td id="S1.T1.1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t">N/A</td>
<td id="S1.T1.1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t">65.84</td>
</tr>
<tr id="S1.T1.1.1.3.2" class="ltx_tr">
<th id="S1.T1.1.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Mistral-7B-OpenOrca + DPO</th>
<td id="S1.T1.1.1.3.2.2" class="ltx_td ltx_align_center">SFT Base</td>
<td id="S1.T1.1.1.3.2.3" class="ltx_td ltx_align_center">68.87</td>
</tr>
<tr id="S1.T1.1.1.4.3" class="ltx_tr">
<th id="S1.T1.1.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Mistral-7B-OpenOrca + DPO</th>
<td id="S1.T1.1.1.4.3.2" class="ltx_td ltx_align_center">SOLAR-0-70B</td>
<td id="S1.T1.1.1.4.3.3" class="ltx_td ltx_align_center">67.86</td>
</tr>
<tr id="S1.T1.1.1.5.4" class="ltx_tr">
<th id="S1.T1.1.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Mistral-7B-OpenOrca + DPO</th>
<td id="S1.T1.1.1.5.4.2" class="ltx_td ltx_align_center">Intel-7B-DPO</td>
<td id="S1.T1.1.1.5.4.3" class="ltx_td ltx_align_center"><span id="S1.T1.1.1.5.4.3.1" class="ltx_text ltx_font_bold">70.13</span></td>
</tr>
<tr id="S1.T1.1.1.6.5" class="ltx_tr">
<th id="S1.T1.1.1.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">OpenHermes-2.5-Mistral-7B</th>
<td id="S1.T1.1.1.6.5.2" class="ltx_td ltx_align_center ltx_border_t">N/A</td>
<td id="S1.T1.1.1.6.5.3" class="ltx_td ltx_align_center ltx_border_t">66.10</td>
</tr>
<tr id="S1.T1.1.1.7.6" class="ltx_tr">
<th id="S1.T1.1.1.7.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">OpenHermes-2.5-Mistral-7B + DPO</th>
<td id="S1.T1.1.1.7.6.2" class="ltx_td ltx_align_center">SFT Base</td>
<td id="S1.T1.1.1.7.6.3" class="ltx_td ltx_align_center">68.41</td>
</tr>
<tr id="S1.T1.1.1.8.7" class="ltx_tr">
<th id="S1.T1.1.1.8.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">OpenHermes-2.5-Mistral-7B + DPO</th>
<td id="S1.T1.1.1.8.7.2" class="ltx_td ltx_align_center">SOLAR-0-70B</td>
<td id="S1.T1.1.1.8.7.3" class="ltx_td ltx_align_center">68.90</td>
</tr>
<tr id="S1.T1.1.1.9.8" class="ltx_tr">
<th id="S1.T1.1.1.9.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">OpenHermes-2.5-Mistral-7B + DPO</th>
<td id="S1.T1.1.1.9.8.2" class="ltx_td ltx_align_center ltx_border_bb">Intel-7B-DPO</td>
<td id="S1.T1.1.1.9.8.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S1.T1.1.1.9.8.3.1" class="ltx_text ltx_font_bold">69.72</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">표 1:</span>DPO 결과는 서로 다른 참조 모델을 가진 Mistral-7B-OpenOrca 및 OpenHermes-2.5-Mistral-7B에 대한 H4 점수의 측면에서 나타난다. 각 SFT 기본 모델에 대한 최상의 결과는 굵게 표시된다.</figcaption>
</figure>
<div id="S1.p3" class="ltx_para">
<p class="ltx_p" id="S1.p3.1">따라서 대부분의 실제 시나리오에서 참조 모델은 잠재적으로 잘못 정렬된 선호도를 가진 훨씬 약한 대안인 기본 SFT 모델<cite class="ltx_cite ltx_citemacro_cite">Tunstall et al. (<a class="ltx_ref" href="#bib.bib26" title="">2023</a>); Intel (<a class="ltx_ref" href="#bib.bib13" title="">2023b</a>); Ivison et al. (<a class="ltx_ref" href="#bib.bib14" title="">2023</a>)</cite>로 간단히 설정된다. 이 참조 모델은 DPO에서 <span class="ltx_text ltx_font_italic" id="S1.p3.1.1">a lower bound</span> 역할을 하며, <span class="ltx_text ltx_font_italic" id="S1.p3.1.2">i.e.,</span> 타겟 모델은 적어도 참조 모델만큼 정렬되도록 최적화된다. 따라서, 우리는 이미 더 정렬된 참조 모델이 정렬 튜닝에 도움이 될 DPO 훈련에 더 나은 하한 역할을 할 것이라고 주장한다. 한 가지 옵션은 이미 정렬 조정을 거친 오픈 소스 모델 <cite class="ltx_cite ltx_citemacro_cite">Tunstall et al. (<a class="ltx_ref" href="#bib.bib26" title="">2023</a>); Ivison et al. (<a class="ltx_ref" href="#bib.bib14" title="">2023</a>)</cite>를 과도하게 활용하는 것이다.</p>
</div>
<figure id="S1.F1" class="ltx_figure">
<div id="S1.F1.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:390.3pt;height:95.5pt;vertical-align:-0.4pt;"><span class="ltx_transformed_inner" style="transform:translate(-245.2pt,59.8pt) scale(0.443123958646896,0.443123958646896) ;"><img src="https://ar5iv.labs.arxiv.org/html/2403.19270/assets/x1.png" id="S1.F1.1.g1" class="ltx_graphics ltx_img_landscape" width="936" height="229" alt="Refer to caption">
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">도 1:</span>Overview of sDPO where preference datasets is divided to be used in multiple steps. 이전 단계의 정렬된 모델을 현재 단계의 참조 및 대상 모델로 사용한다. 참조 모델은 로그 확률을 계산하는 데 사용되며 대상 모델은 각 단계에서 DPO의 선호도 손실을 사용하여 훈련된다.</figcaption>
</figure>
<div id="S1.p4" class="ltx_para">
<p class="ltx_p" id="S1.p4.1">위의 내용은 정렬된 모델의 부재 또는 참조 모델에 대한 제어를 포기하여 안전 문제로 이어질 수 있기 때문에 실현 가능하지 않을 수 있습니다. 대신 sDPO로 명명된 '단계적 DPO'를 제안하며, 여기서 우리는 DPO 훈련을 받을 때 <span class="ltx_text ltx_font_italic" id="S1.p4.1.1">a step-by-step manner</span>에서 선호도 데이터 세트(또는 선호도 데이터 세트의 하위 세트)를 사용한다. 이전 단계에서 정렬된 모델은 현재 단계에 대한 참조 모델로 사용되며, 이는 더 정렬된 참조 모델을 활용하는 결과를 초래한다(<span class="ltx_text ltx_font_italic" id="S1.p4.1.2">i.e.</span>, a better lower bound). 경험적으로 sDPO를 사용하면 더 성능이 뛰어난 최종 정렬 모델도 생성된다는 것을 보여준다.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p class="ltx_p" id="S1.p5.1"><span class="ltx_text ltx_font_italic" id="S1.p5.1.1">new</span> 선호도 데이터가 제안된 반면, 본 방법은 <span class="ltx_text ltx_font_italic" id="S1.p5.1.2">currently available</span> 선호도 데이터 세트를 활용하는 데 중점을 둔다. 따라서, sDPO는 임의의 선호도 데이터에 쉽게 적용될 수 있고 동시 작업과의 추가 조합이 흥미로운 미래 방향이 될 것이기 때문에 우리의 접근법은 보완적이다.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Methodology</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Preliminary Investigation on Reference Models</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p class="ltx_p" id="S2.SS1.p1.1">DPO에서 잘 정렬된 참조 모델을 사용하는 것의 중요성을 평가하기 위해, 우리는 우수한 성능과 작은 크기로 인해 SFT 기본 모델로 Mistral-7B-OpenOrca <cite class="ltx_cite ltx_citemacro_cite">Lian et al. (<a class="ltx_ref" href="#bib.bib17" title="">2023</a>)</cite> 및 OpenHermes-2.5-Mistral-7B <cite class="ltx_cite ltx_citemacro_cite">Teknium (<a class="ltx_ref" href="#bib.bib25" title="">2023</a>)</cite>에 대한 Ultrafeedback 데이터세트 <cite class="ltx_cite ltx_citemacro_cite">Cui et al. (<a class="ltx_ref" href="#bib.bib8" title="">2023</a>)</cite>를 사용하여 DPO 훈련의 예비 실험을 수행한다. 우리는 다음과 같은 참조 모델을 비교한다: i) 기존의 DPO 설정과 동일한 SFT 기본 모델 자체; ii) SOLAR-0-70B <cite class="ltx_cite ltx_citemacro_cite">Upstage (<a class="ltx_ref" href="#bib.bib27" title="">2023</a>)</cite>, 더 크고 훨씬 더 성능이 좋은 모델; iii) 이미 정렬된 참조 모델인 Intel-7B-DPO <cite idx=4></cite. 결과는 탭에 요약되어 있다. <a class="ltx_ref" href="#S1.T1" title="Table 1 ‣ 1 Introduction ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p class="ltx_p" id="S2.SS1.p2.1">표에서 알 수 있듯이 참조 모델로 Intel-7B-DPO를 사용하면 더 많은 데이터로 훈련된 훨씬 더 큰 모델인 SOLAR-0-70B를 사용하는 것보다 훨씬 더 나은 성능을 얻을 수 있다. 따라서 참조 모델이 사전 정렬되었는지 여부는 결과적으로 정렬된 모델의 성능에 중요한 역할을 한다. 불행히도, 기술적 및 안전성 우려로 인해 개방 소싱된 사전 정렬 모델을 참조 모델로 단순히 사용하는 것이 항상 가능한 것은 아니며, <span class="ltx_text ltx_font_italic" id="S2.SS1.p2.1.1">i.e.,</span> 그러한 모델은 아직 존재하지 않거나 다양한 도메인별 유해성 및 공정성 기준에 취약할 수 있다. 위의 문제를 해결하기 위해, 우리는 훈련 프레임워크의 일부로 더 정렬된 참조 모델을 사용하는 sDPO를 제안한다.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Stepwise DPO</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p class="ltx_p" id="S2.SS2.p1.1">sDPO에서는 사용 가능한 선호도 데이터 세트를 한 번에 사용하는 대신 단계적으로 사용하는 것을 제안한다. DPO와 sDPO의 전체 흐름 비교는 그림에 나와 있다. <a class="ltx_ref" href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<section id="S2.SS2.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Reference model.</h4>

<div id="S2.SS2.SSS0.Px1.p1" class="ltx_para">
<p class="ltx_p" id="S2.SS2.SSS0.Px1.p1.2">참조 모델은 선호도 데이터 세트의 로그 확률을 계산하는 데 사용된다. 각 단계에 대해 전체 데이터의 하위 집합만 사용하고 참조 모델은 이전 단계에서 정렬된 모델 <math alttext="M_{t-1}" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.1.m1.1"><semantics id="S2.SS2.SSS0.Px1.p1.1.m1.1a"><msub id="S2.SS2.SSS0.Px1.p1.1.m1.1.1" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.cmml"><mi id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.2" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.2.cmml">M</mi><mrow id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.2" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.2.cmml">t</mi><mo id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.1" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.1.cmml">−</mo><mn id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.3" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.1.m1.1b"><apply id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.2">𝑀</ci><apply id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3"><minus id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.1"></minus><ci id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.2">𝑡</ci><cn id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.3.cmml" type="integer" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.1.m1.1c">M_{t-1}</annotation></semantics></math>, <span class="ltx_text ltx_font_italic" id="S2.SS2.SSS0.Px1.p1.2.1">i.e,</span>으로 초기화됩니다. 초기 참조 모델은 SFT 기본 모델인 <math alttext="S" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.2.m2.1"><semantics id="S2.SS2.SSS0.Px1.p1.2.m2.1a"><mi id="S2.SS2.SSS0.Px1.p1.2.m2.1.1" xref="S2.SS2.SSS0.Px1.p1.2.m2.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.2.m2.1b"><ci id="S2.SS2.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.2.m2.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.2.m2.1c">S</annotation></semantics></math>로 설정된다. 이로 인해 기존 DPO보다 정렬된 참조 모델을 사용할 수 있습니다.</p>
</div>
</section>
<section id="S2.SS2.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Target model.</h4>

<div id="S2.SS2.SSS0.Px2.p1" class="ltx_para">
<p class="ltx_p" id="S2.SS2.SSS0.Px2.p1.3"><math alttext="t&gt;1" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px2.p1.1.m1.1"><semantics id="S2.SS2.SSS0.Px2.p1.1.m1.1a"><mrow id="S2.SS2.SSS0.Px2.p1.1.m1.1.1" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.2" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.2.cmml">t</mi><mo id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.1" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.1.cmml">&gt;</mo><mn id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.3" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px2.p1.1.m1.1b"><apply id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1"><gt id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.1"></gt><ci id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.2">𝑡</ci><cn id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.3.cmml" type="integer" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px2.p1.1.m1.1c">t&gt;1</annotation></semantics></math>의 경우, sDPO의 각 단계에서 DPO의 선호도 손실을 이용하여 학습된 타겟 모델도 <math alttext="S" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px2.p1.3.m3.1"><semantics id="S2.SS2.SSS0.Px2.p1.3.m3.1a"><mi id="S2.SS2.SSS0.Px2.p1.3.m3.1.1" xref="S2.SS2.SSS0.Px2.p1.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px2.p1.3.m3.1b"><ci id="S2.SS2.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S2.SS2.SSS0.Px2.p1.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px2.p1.3.m3.1c">S</annotation></semantics></math> 대신 <math alttext="M_{t-1}" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px2.p1.2.m2.1"><semantics id="S2.SS2.SSS0.Px2.p1.2.m2.1a"><msub id="S2.SS2.SSS0.Px2.p1.2.m2.1.1" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.cmml"><mi id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.2" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml">M</mi><mrow id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.2" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.2.cmml">t</mi><mo id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.1" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.1.cmml">−</mo><mn id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.3" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px2.p1.2.m2.1b"><apply id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.2">𝑀</ci><apply id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3"><minus id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.1"></minus><ci id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.2">𝑡</ci><cn id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.3.cmml" type="integer" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px2.p1.2.m2.1c">M_{t-1}</annotation></semantics></math>로 초기화된다. 이는 sDPO로 트레이닝된 최종 모델이 DPO로 트레이닝된 모델과 동일한 양의 데이터로 직접 트레이닝되었음을 보장한다.</p>
</div>
<figure id="S2.T2" class="ltx_table">
<div id="S2.T2.16" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:325.2pt;height:175.1pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-122.6pt,65.8pt) scale(0.570190336859309,0.570190336859309) ;">
<table id="S2.T2.16.16" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S2.T2.16.16.17.1" class="ltx_tr">
<th id="S2.T2.16.16.17.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt">Model</th>
<td id="S2.T2.16.16.17.1.2" class="ltx_td ltx_align_center ltx_border_tt">Size</td>
<td id="S2.T2.16.16.17.1.3" class="ltx_td ltx_align_center ltx_border_tt">Type</td>
<td id="S2.T2.16.16.17.1.4" class="ltx_td ltx_align_center ltx_border_tt">H4 (Avg.)</td>
<td id="S2.T2.16.16.17.1.5" class="ltx_td ltx_align_center ltx_border_tt">ARC</td>
<td id="S2.T2.16.16.17.1.6" class="ltx_td ltx_align_center ltx_border_tt">HellaSwag</td>
<td id="S2.T2.16.16.17.1.7" class="ltx_td ltx_align_center ltx_border_tt">MMLU</td>
<td id="S2.T2.16.16.17.1.8" class="ltx_td ltx_align_center ltx_border_tt">TruthfulQA</td>
</tr>
<tr id="S2.T2.1.1.1" class="ltx_tr">
<th id="S2.T2.1.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" style="background-color:#E0DBEE;"><span id="S2.T2.1.1.1.2.1" class="ltx_text" style="background-color:#E0DBEE;">SOLAR 10.7B + SFT + sDPO</span></th>
<td id="S2.T2.1.1.1.1" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E0DBEE;">
<math id="S2.T2.1.1.1.1.m1.1" class="ltx_Math" style="background-color:#E0DBEE;" alttext="\sim" display="inline"><semantics id="S2.T2.1.1.1.1.m1.1a"><mo mathbackground="#E0DBEE" id="S2.T2.1.1.1.1.m1.1.1" xref="S2.T2.1.1.1.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.1.1.1.1.m1.1b"><csymbol cd="latexml" id="S2.T2.1.1.1.1.m1.1.1.cmml" xref="S2.T2.1.1.1.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.1.1.1.1.m1.1c">\sim</annotation></semantics></math><span id="S2.T2.1.1.1.1.1" class="ltx_text" style="background-color:#E0DBEE;"> 11B</span>
</td>
<td id="S2.T2.1.1.1.3" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E0DBEE;"><span id="S2.T2.1.1.1.3.1" class="ltx_text" style="background-color:#E0DBEE;">Alignment-tuned</span></td>
<td id="S2.T2.1.1.1.4" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E0DBEE;"><span id="S2.T2.1.1.1.4.1" class="ltx_text ltx_font_bold" style="background-color:#E0DBEE;">74.31</span></td>
<td id="S2.T2.1.1.1.5" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E0DBEE;"><span id="S2.T2.1.1.1.5.1" class="ltx_text ltx_font_bold" style="background-color:#E0DBEE;">71.33</span></td>
<td id="S2.T2.1.1.1.6" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E0DBEE;"><span id="S2.T2.1.1.1.6.1" class="ltx_text" style="background-color:#E0DBEE;">88.08</span></td>
<td id="S2.T2.1.1.1.7" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E0DBEE;"><span id="S2.T2.1.1.1.7.1" class="ltx_text" style="background-color:#E0DBEE;">65.39</span></td>
<td id="S2.T2.1.1.1.8" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E0DBEE;"><span id="S2.T2.1.1.1.8.1" class="ltx_text ltx_font_bold" style="background-color:#E0DBEE;">72.45</span></td>
</tr>
<tr id="S2.T2.2.2.2" class="ltx_tr">
<th id="S2.T2.2.2.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">SOLAR 10.7B + SFT + DPO</th>
<td id="S2.T2.2.2.2.1" class="ltx_td ltx_align_center">
<math id="S2.T2.2.2.2.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.2.2.2.1.m1.1a"><mo id="S2.T2.2.2.2.1.m1.1.1" xref="S2.T2.2.2.2.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.2.2.2.1.m1.1b"><csymbol cd="latexml" id="S2.T2.2.2.2.1.m1.1.1.cmml" xref="S2.T2.2.2.2.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.2.2.2.1.m1.1c">\sim</annotation></semantics></math> 11B</td>
<td id="S2.T2.2.2.2.3" class="ltx_td ltx_align_center">Alignment-tuned</td>
<td id="S2.T2.2.2.2.4" class="ltx_td ltx_align_center">72.67</td>
<td id="S2.T2.2.2.2.5" class="ltx_td ltx_align_center">69.62</td>
<td id="S2.T2.2.2.2.6" class="ltx_td ltx_align_center">87.16</td>
<td id="S2.T2.2.2.2.7" class="ltx_td ltx_align_center">66.00</td>
<td id="S2.T2.2.2.2.8" class="ltx_td ltx_align_center">67.90</td>
</tr>
<tr id="S2.T2.3.3.3" class="ltx_tr">
<th id="S2.T2.3.3.3.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">SOLAR 10.7B + SFT + sDPO Strat.</th>
<td id="S2.T2.3.3.3.1" class="ltx_td ltx_align_center">
<math id="S2.T2.3.3.3.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.3.3.3.1.m1.1a"><mo id="S2.T2.3.3.3.1.m1.1.1" xref="S2.T2.3.3.3.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.3.3.3.1.m1.1b"><csymbol cd="latexml" id="S2.T2.3.3.3.1.m1.1.1.cmml" xref="S2.T2.3.3.3.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.3.3.3.1.m1.1c">\sim</annotation></semantics></math> 11B</td>
<td id="S2.T2.3.3.3.3" class="ltx_td ltx_align_center">Alignment-tuned</td>
<td id="S2.T2.3.3.3.4" class="ltx_td ltx_align_center">72.56</td>
<td id="S2.T2.3.3.3.5" class="ltx_td ltx_align_center">69.20</td>
<td id="S2.T2.3.3.3.6" class="ltx_td ltx_align_center">87.27</td>
<td id="S2.T2.3.3.3.7" class="ltx_td ltx_align_center">65.96</td>
<td id="S2.T2.3.3.3.8" class="ltx_td ltx_align_center">67.81</td>
</tr>
<tr id="S2.T2.4.4.4" class="ltx_tr">
<th id="S2.T2.4.4.4.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">Mixtral 8x7B-Instruct-v0.1</th>
<td id="S2.T2.4.4.4.1" class="ltx_td ltx_align_center ltx_border_t">
<math id="S2.T2.4.4.4.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.4.4.4.1.m1.1a"><mo id="S2.T2.4.4.4.1.m1.1.1" xref="S2.T2.4.4.4.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.4.4.4.1.m1.1b"><csymbol cd="latexml" id="S2.T2.4.4.4.1.m1.1.1.cmml" xref="S2.T2.4.4.4.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.4.4.4.1.m1.1c">\sim</annotation></semantics></math> 47B</td>
<td id="S2.T2.4.4.4.3" class="ltx_td ltx_align_center ltx_border_t">Alignment-tuned</td>
<td id="S2.T2.4.4.4.4" class="ltx_td ltx_align_center ltx_border_t">73.40</td>
<td id="S2.T2.4.4.4.5" class="ltx_td ltx_align_center ltx_border_t">70.22</td>
<td id="S2.T2.4.4.4.6" class="ltx_td ltx_align_center ltx_border_t">87.63</td>
<td id="S2.T2.4.4.4.7" class="ltx_td ltx_align_center ltx_border_t">71.16</td>
<td id="S2.T2.4.4.4.8" class="ltx_td ltx_align_center ltx_border_t">64.58</td>
</tr>
<tr id="S2.T2.5.5.5" class="ltx_tr">
<th id="S2.T2.5.5.5.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">SOLAR-0-70B-16bit</th>
<td id="S2.T2.5.5.5.1" class="ltx_td ltx_align_center">
<math id="S2.T2.5.5.5.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.5.5.5.1.m1.1a"><mo id="S2.T2.5.5.5.1.m1.1.1" xref="S2.T2.5.5.5.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.5.5.5.1.m1.1b"><csymbol cd="latexml" id="S2.T2.5.5.5.1.m1.1.1.cmml" xref="S2.T2.5.5.5.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.5.5.5.1.m1.1c">\sim</annotation></semantics></math> 70B</td>
<td id="S2.T2.5.5.5.3" class="ltx_td ltx_align_center">Instruction-tuned</td>
<td id="S2.T2.5.5.5.4" class="ltx_td ltx_align_center">72.93</td>
<td id="S2.T2.5.5.5.5" class="ltx_td ltx_align_center">71.08</td>
<td id="S2.T2.5.5.5.6" class="ltx_td ltx_align_center">87.89</td>
<td id="S2.T2.5.5.5.7" class="ltx_td ltx_align_center">70.58</td>
<td id="S2.T2.5.5.5.8" class="ltx_td ltx_align_center">62.25</td>
</tr>
<tr id="S2.T2.6.6.6" class="ltx_tr">
<th id="S2.T2.6.6.6.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">Qwen 72B</th>
<td id="S2.T2.6.6.6.1" class="ltx_td ltx_align_center">
<math id="S2.T2.6.6.6.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.6.6.6.1.m1.1a"><mo id="S2.T2.6.6.6.1.m1.1.1" xref="S2.T2.6.6.6.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.6.6.6.1.m1.1b"><csymbol cd="latexml" id="S2.T2.6.6.6.1.m1.1.1.cmml" xref="S2.T2.6.6.6.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.6.6.6.1.m1.1c">\sim</annotation></semantics></math> 72B</td>
<td id="S2.T2.6.6.6.3" class="ltx_td ltx_align_center">Pretrained</td>
<td id="S2.T2.6.6.6.4" class="ltx_td ltx_align_center">72.17</td>
<td id="S2.T2.6.6.6.5" class="ltx_td ltx_align_center">65.19</td>
<td id="S2.T2.6.6.6.6" class="ltx_td ltx_align_center">85.94</td>
<td id="S2.T2.6.6.6.7" class="ltx_td ltx_align_center"><span id="S2.T2.6.6.6.7.1" class="ltx_text ltx_font_bold">77.37</span></td>
<td id="S2.T2.6.6.6.8" class="ltx_td ltx_align_center">60.19</td>
</tr>
<tr id="S2.T2.7.7.7" class="ltx_tr">
<th id="S2.T2.7.7.7.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">Yi 34B</th>
<td id="S2.T2.7.7.7.1" class="ltx_td ltx_align_center">
<math id="S2.T2.7.7.7.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.7.7.7.1.m1.1a"><mo id="S2.T2.7.7.7.1.m1.1.1" xref="S2.T2.7.7.7.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.7.7.7.1.m1.1b"><csymbol cd="latexml" id="S2.T2.7.7.7.1.m1.1.1.cmml" xref="S2.T2.7.7.7.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.7.7.7.1.m1.1c">\sim</annotation></semantics></math> 34B</td>
<td id="S2.T2.7.7.7.3" class="ltx_td ltx_align_center">Pretrained</td>
<td id="S2.T2.7.7.7.4" class="ltx_td ltx_align_center">70.72</td>
<td id="S2.T2.7.7.7.5" class="ltx_td ltx_align_center">64.59</td>
<td id="S2.T2.7.7.7.6" class="ltx_td ltx_align_center">85.69</td>
<td id="S2.T2.7.7.7.7" class="ltx_td ltx_align_center">76.35</td>
<td id="S2.T2.7.7.7.8" class="ltx_td ltx_align_center">56.23</td>
</tr>
<tr id="S2.T2.8.8.8" class="ltx_tr">
<th id="S2.T2.8.8.8.2" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="background-color:#E0DBEE;"><span id="S2.T2.8.8.8.2.1" class="ltx_text" style="background-color:#E0DBEE;">SOLAR 10.7B + SFT</span></th>
<td id="S2.T2.8.8.8.1" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;">
<math id="S2.T2.8.8.8.1.m1.1" class="ltx_Math" style="background-color:#E0DBEE;" alttext="\sim" display="inline"><semantics id="S2.T2.8.8.8.1.m1.1a"><mo mathbackground="#E0DBEE" id="S2.T2.8.8.8.1.m1.1.1" xref="S2.T2.8.8.8.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.8.8.8.1.m1.1b"><csymbol cd="latexml" id="S2.T2.8.8.8.1.m1.1.1.cmml" xref="S2.T2.8.8.8.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.8.8.8.1.m1.1c">\sim</annotation></semantics></math><span id="S2.T2.8.8.8.1.1" class="ltx_text" style="background-color:#E0DBEE;"> 11B</span>
</td>
<td id="S2.T2.8.8.8.3" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.8.8.8.3.1" class="ltx_text" style="background-color:#E0DBEE;">Instruction-tuned</span></td>
<td id="S2.T2.8.8.8.4" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.8.8.8.4.1" class="ltx_text" style="background-color:#E0DBEE;">69.51</span></td>
<td id="S2.T2.8.8.8.5" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.8.8.8.5.1" class="ltx_text" style="background-color:#E0DBEE;">67.32</span></td>
<td id="S2.T2.8.8.8.6" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.8.8.8.6.1" class="ltx_text" style="background-color:#E0DBEE;">85.96</span></td>
<td id="S2.T2.8.8.8.7" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.8.8.8.7.1" class="ltx_text" style="background-color:#E0DBEE;">65.95</span></td>
<td id="S2.T2.8.8.8.8" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.8.8.8.8.1" class="ltx_text" style="background-color:#E0DBEE;">58.80</span></td>
</tr>
<tr id="S2.T2.9.9.9" class="ltx_tr">
<th id="S2.T2.9.9.9.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">Mistral 7B-Instruct-v0.2</th>
<td id="S2.T2.9.9.9.1" class="ltx_td ltx_align_center">
<math id="S2.T2.9.9.9.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.9.9.9.1.m1.1a"><mo id="S2.T2.9.9.9.1.m1.1.1" xref="S2.T2.9.9.9.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.9.9.9.1.m1.1b"><csymbol cd="latexml" id="S2.T2.9.9.9.1.m1.1.1.cmml" xref="S2.T2.9.9.9.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.9.9.9.1.m1.1c">\sim</annotation></semantics></math> 7B</td>
<td id="S2.T2.9.9.9.3" class="ltx_td ltx_align_center">Instruction-tuned</td>
<td id="S2.T2.9.9.9.4" class="ltx_td ltx_align_center">69.27</td>
<td id="S2.T2.9.9.9.5" class="ltx_td ltx_align_center">63.14</td>
<td id="S2.T2.9.9.9.6" class="ltx_td ltx_align_center">84.88</td>
<td id="S2.T2.9.9.9.7" class="ltx_td ltx_align_center">60.78</td>
<td id="S2.T2.9.9.9.8" class="ltx_td ltx_align_center">68.26</td>
</tr>
<tr id="S2.T2.10.10.10" class="ltx_tr">
<th id="S2.T2.10.10.10.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">Falcon 180B</th>
<td id="S2.T2.10.10.10.1" class="ltx_td ltx_align_center">
<math id="S2.T2.10.10.10.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.10.10.10.1.m1.1a"><mo id="S2.T2.10.10.10.1.m1.1.1" xref="S2.T2.10.10.10.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.10.10.10.1.m1.1b"><csymbol cd="latexml" id="S2.T2.10.10.10.1.m1.1.1.cmml" xref="S2.T2.10.10.10.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.10.10.10.1.m1.1c">\sim</annotation></semantics></math> 180B</td>
<td id="S2.T2.10.10.10.3" class="ltx_td ltx_align_center">Pretrained</td>
<td id="S2.T2.10.10.10.4" class="ltx_td ltx_align_center">68.57</td>
<td id="S2.T2.10.10.10.5" class="ltx_td ltx_align_center">69.45</td>
<td id="S2.T2.10.10.10.6" class="ltx_td ltx_align_center"><span id="S2.T2.10.10.10.6.1" class="ltx_text ltx_font_bold">88.86</span></td>
<td id="S2.T2.10.10.10.7" class="ltx_td ltx_align_center">70.50</td>
<td id="S2.T2.10.10.10.8" class="ltx_td ltx_align_center">45.47</td>
</tr>
<tr id="S2.T2.11.11.11" class="ltx_tr">
<th id="S2.T2.11.11.11.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">Mixtral 8x7B-v0.1</th>
<td id="S2.T2.11.11.11.1" class="ltx_td ltx_align_center">
<math id="S2.T2.11.11.11.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.11.11.11.1.m1.1a"><mo id="S2.T2.11.11.11.1.m1.1.1" xref="S2.T2.11.11.11.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.11.11.11.1.m1.1b"><csymbol cd="latexml" id="S2.T2.11.11.11.1.m1.1.1.cmml" xref="S2.T2.11.11.11.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.11.11.11.1.m1.1c">\sim</annotation></semantics></math> 47B</td>
<td id="S2.T2.11.11.11.3" class="ltx_td ltx_align_center">Pretrained</td>
<td id="S2.T2.11.11.11.4" class="ltx_td ltx_align_center">67.78</td>
<td id="S2.T2.11.11.11.5" class="ltx_td ltx_align_center">66.04</td>
<td id="S2.T2.11.11.11.6" class="ltx_td ltx_align_center">86.49</td>
<td id="S2.T2.11.11.11.7" class="ltx_td ltx_align_center">71.82</td>
<td id="S2.T2.11.11.11.8" class="ltx_td ltx_align_center">46.78</td>
</tr>
<tr id="S2.T2.12.12.12" class="ltx_tr">
<th id="S2.T2.12.12.12.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">Llama 2 70B</th>
<td id="S2.T2.12.12.12.1" class="ltx_td ltx_align_center">
<math id="S2.T2.12.12.12.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.12.12.12.1.m1.1a"><mo id="S2.T2.12.12.12.1.m1.1.1" xref="S2.T2.12.12.12.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.12.12.12.1.m1.1b"><csymbol cd="latexml" id="S2.T2.12.12.12.1.m1.1.1.cmml" xref="S2.T2.12.12.12.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.12.12.12.1.m1.1c">\sim</annotation></semantics></math> 70B</td>
<td id="S2.T2.12.12.12.3" class="ltx_td ltx_align_center">Pretrained</td>
<td id="S2.T2.12.12.12.4" class="ltx_td ltx_align_center">67.35</td>
<td id="S2.T2.12.12.12.5" class="ltx_td ltx_align_center">67.32</td>
<td id="S2.T2.12.12.12.6" class="ltx_td ltx_align_center">87.33</td>
<td id="S2.T2.12.12.12.7" class="ltx_td ltx_align_center">69.83</td>
<td id="S2.T2.12.12.12.8" class="ltx_td ltx_align_center">44.92</td>
</tr>
<tr id="S2.T2.13.13.13" class="ltx_tr">
<th id="S2.T2.13.13.13.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">Zephyr</th>
<td id="S2.T2.13.13.13.1" class="ltx_td ltx_align_center">
<math id="S2.T2.13.13.13.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.13.13.13.1.m1.1a"><mo id="S2.T2.13.13.13.1.m1.1.1" xref="S2.T2.13.13.13.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.13.13.13.1.m1.1b"><csymbol cd="latexml" id="S2.T2.13.13.13.1.m1.1.1.cmml" xref="S2.T2.13.13.13.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.13.13.13.1.m1.1c">\sim</annotation></semantics></math> 7B</td>
<td id="S2.T2.13.13.13.3" class="ltx_td ltx_align_center">Alignment-tuned</td>
<td id="S2.T2.13.13.13.4" class="ltx_td ltx_align_center">66.36</td>
<td id="S2.T2.13.13.13.5" class="ltx_td ltx_align_center">62.03</td>
<td id="S2.T2.13.13.13.6" class="ltx_td ltx_align_center">84.52</td>
<td id="S2.T2.13.13.13.7" class="ltx_td ltx_align_center">61.44</td>
<td id="S2.T2.13.13.13.8" class="ltx_td ltx_align_center">57.44</td>
</tr>
<tr id="S2.T2.14.14.14" class="ltx_tr">
<th id="S2.T2.14.14.14.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">Qwen 14B</th>
<td id="S2.T2.14.14.14.1" class="ltx_td ltx_align_center">
<math id="S2.T2.14.14.14.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.14.14.14.1.m1.1a"><mo id="S2.T2.14.14.14.1.m1.1.1" xref="S2.T2.14.14.14.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.14.14.14.1.m1.1b"><csymbol cd="latexml" id="S2.T2.14.14.14.1.m1.1.1.cmml" xref="S2.T2.14.14.14.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.14.14.14.1.m1.1c">\sim</annotation></semantics></math> 14B</td>
<td id="S2.T2.14.14.14.3" class="ltx_td ltx_align_center">Pretrained</td>
<td id="S2.T2.14.14.14.4" class="ltx_td ltx_align_center">64.85</td>
<td id="S2.T2.14.14.14.5" class="ltx_td ltx_align_center">58.28</td>
<td id="S2.T2.14.14.14.6" class="ltx_td ltx_align_center">83.99</td>
<td id="S2.T2.14.14.14.7" class="ltx_td ltx_align_center">67.70</td>
<td id="S2.T2.14.14.14.8" class="ltx_td ltx_align_center">49.43</td>
</tr>
<tr id="S2.T2.15.15.15" class="ltx_tr">
<th id="S2.T2.15.15.15.2" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="background-color:#E0DBEE;"><span id="S2.T2.15.15.15.2.1" class="ltx_text" style="background-color:#E0DBEE;">SOLAR 10.7B</span></th>
<td id="S2.T2.15.15.15.1" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;">
<math id="S2.T2.15.15.15.1.m1.1" class="ltx_Math" style="background-color:#E0DBEE;" alttext="\sim" display="inline"><semantics id="S2.T2.15.15.15.1.m1.1a"><mo mathbackground="#E0DBEE" id="S2.T2.15.15.15.1.m1.1.1" xref="S2.T2.15.15.15.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.15.15.15.1.m1.1b"><csymbol cd="latexml" id="S2.T2.15.15.15.1.m1.1.1.cmml" xref="S2.T2.15.15.15.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.15.15.15.1.m1.1c">\sim</annotation></semantics></math><span id="S2.T2.15.15.15.1.1" class="ltx_text" style="background-color:#E0DBEE;"> 11B</span>
</td>
<td id="S2.T2.15.15.15.3" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.15.15.15.3.1" class="ltx_text" style="background-color:#E0DBEE;">Pretrained</span></td>
<td id="S2.T2.15.15.15.4" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.15.15.15.4.1" class="ltx_text" style="background-color:#E0DBEE;">64.27</span></td>
<td id="S2.T2.15.15.15.5" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.15.15.15.5.1" class="ltx_text" style="background-color:#E0DBEE;">61.95</span></td>
<td id="S2.T2.15.15.15.6" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.15.15.15.6.1" class="ltx_text" style="background-color:#E0DBEE;">84.60</span></td>
<td id="S2.T2.15.15.15.7" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.15.15.15.7.1" class="ltx_text" style="background-color:#E0DBEE;">65.48</span></td>
<td id="S2.T2.15.15.15.8" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.15.15.15.8.1" class="ltx_text" style="background-color:#E0DBEE;">45.04</span></td>
</tr>
<tr id="S2.T2.16.16.16" class="ltx_tr">
<th id="S2.T2.16.16.16.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">Mistral 7B</th>
<td id="S2.T2.16.16.16.1" class="ltx_td ltx_align_center ltx_border_bb">
<math id="S2.T2.16.16.16.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.16.16.16.1.m1.1a"><mo id="S2.T2.16.16.16.1.m1.1.1" xref="S2.T2.16.16.16.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.16.16.16.1.m1.1b"><csymbol cd="latexml" id="S2.T2.16.16.16.1.m1.1.1.cmml" xref="S2.T2.16.16.16.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.16.16.16.1.m1.1c">\sim</annotation></semantics></math> 7B</td>
<td id="S2.T2.16.16.16.3" class="ltx_td ltx_align_center ltx_border_bb">Pretrained</td>
<td id="S2.T2.16.16.16.4" class="ltx_td ltx_align_center ltx_border_bb">62.40</td>
<td id="S2.T2.16.16.16.5" class="ltx_td ltx_align_center ltx_border_bb">59.98</td>
<td id="S2.T2.16.16.16.6" class="ltx_td ltx_align_center ltx_border_bb">83.31</td>
<td id="S2.T2.16.16.16.7" class="ltx_td ltx_align_center ltx_border_bb">64.16</td>
<td id="S2.T2.16.16.16.8" class="ltx_td ltx_align_center ltx_border_bb">42.15</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">표 2:</span>다양한 상위 성능 모델에 대해 SOLAR 10.7B + SFT에 sDPO(및 삭마 버전)를 적용한 성능 비교. 크기는 수십억 개의 파라미터 단위로 표시되며 타입은 {'Pretrained', 'Instruction-tuned', 'Alignment-tuned} 중 하나로 보고된다. SOLAR 10.7B를 기반으로 한 모델은 보라색으로 표시된다. 각 열의 가장 좋은 점수는 굵게 표시됩니다.</figcaption>
</figure>
</section>
<section id="S2.SS2.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Intuitive explanation.</h4>

<div id="S2.SS2.SSS0.Px3.p1" class="ltx_para">
<p class="ltx_p" id="S2.SS2.SSS0.Px3.p1.16">sDPO에 대한 더 깊은 이해를 얻기 위해 다음과 같이 <cite class="ltx_cite ltx_citemacro_cite">Rafailov et al. (<a class="ltx_ref" href="#bib.bib22" title="">2023</a>)</cite> 에서 DPO 손실을 재배열합니다.</p>
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center">
<div id="S2.E1.m1.1.1.1" class="ltx_inline-block ltx_markedasmath ltx_transformed_outer" style="width:368.6pt;height:73.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(79.4pt,-15.9pt) scale(1.75636805379735,1.75636805379735) ;">
<p id="S2.E1.m1.1.1.1.1" class="ltx_p"><math id="S2.E1.m1.1.1.1.1.m1.15" class="ltx_math_unparsed" alttext="\begin{aligned} &amp;\mathcal{L}_{\text{DPO}}(\pi_{\theta},\pi_{ref})\\ &amp;=-\mathbb{E}_{(x,y_{w},y_{l})\sim\mathcal{D}}\left[\log{\sigma\left(\beta\log{{\pi_{\theta}(y_{w}|x)\over\pi_{ref}(y_{w}|x)}}-\beta\log{{\pi_{\theta}(y_{l}|x)\over\pi_{ref}(y_{l}|x)}}\right)}\right]\\ &amp;=-\mathbb{E}_{(x,y_{w},y_{l})\sim\mathcal{D}}\left[\log{\sigma\left(\beta\cdot(\gamma_{\pi_{\theta}}(x,y_{w},y_{l})-\gamma_{\pi_{ref}}(x,y_{w},y_{l})\right)}\right],\end{aligned}" display="inline"><semantics id="S2.E1.m1.1.1.1.1.m1.15a"><mtable columnspacing="0pt" rowspacing="0pt" id="S2.E1.m1.1.1.1.1.m1.15.15"><mtr id="S2.E1.m1.1.1.1.1.m1.15.15a"><mtd id="S2.E1.m1.1.1.1.1.m1.15.15b"></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.1.1.1.1.m1.15.15c"><mrow id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2"><msub id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.4"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.4.2">ℒ</mi><mtext id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.4.3">DPO</mtext></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.3">​</mo><mrow id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.3">(</mo><msub id="S2.E1.m1.1.1.1.1.m1.1.1.1.1.1.1.1.1"><mi id="S2.E1.m1.1.1.1.1.m1.1.1.1.1.1.1.1.1.2">π</mi><mi id="S2.E1.m1.1.1.1.1.m1.1.1.1.1.1.1.1.1.3">θ</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.4">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2"><mi id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.2">π</mi><mrow id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.3"><mi id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.3.2">r</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.3.1">​</mo><mi id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.3.3">e</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.3.1a">​</mo><mi id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.3.4">f</mi></mrow></msub><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.5">)</mo></mrow></mrow></mtd></mtr><mtr id="S2.E1.m1.1.1.1.1.m1.15.15d"><mtd id="S2.E1.m1.1.1.1.1.m1.15.15e"></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.1.1.1.1.m1.15.15f"><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.10"></mi><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.9">=</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8"><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8a">−</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1"><msub id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.3"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.3.2">𝔼</mi><mrow id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3"><mrow id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.3">(</mo><mi id="S2.E1.m1.1.1.1.1.m1.3.3.3.1.1.1.1.1">x</mi><mo id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.4">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.4.4.4.2.2.2.2.2.1.1"><mi id="S2.E1.m1.1.1.1.1.m1.4.4.4.2.2.2.2.2.1.1.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.4.4.4.2.2.2.2.2.1.1.3">w</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.5">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.2"><mi id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.2.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.2.3">l</mi></msub><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.6">)</mo></mrow><mo id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.4">∼</mo><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.5">𝒟</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.2">​</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1"><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.2">[</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1"><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.3"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.3.1">log</mi><mo lspace="0.167em" id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.3a">⁡</mo><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.3.2">σ</mi></mrow><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.2">​</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1"><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.2">(</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1"><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.2"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.2.2">β</mi><mo lspace="0.167em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.2.1">​</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.2.3"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.2.3.1">log</mi><mo lspace="0.167em" id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.2.3a">⁡</mo><mstyle displaystyle="true" id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5"><mfrac id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5a"><mrow id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1"><msub id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.3"><mi id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.3.2">π</mi><mi id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.3.3">θ</mi></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.2">​</mo><mrow id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.2">(</mo><mrow id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.1"><msub id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.1.2"><mi id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.1.2.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.1.2.3">w</mi></msub><mo fence="false" id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.1.1">|</mo><mi id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.1.3">x</mi></mrow><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.3">)</mo></mrow></mrow><mrow id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2"><msub id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3"><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.2">π</mi><mrow id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.3"><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.3.2">r</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.3.1">​</mo><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.3.3">e</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.3.1a">​</mo><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.3.4">f</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.2">​</mo><mrow id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.2">(</mo><mrow id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.1"><msub id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.1.2"><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.1.2.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.1.2.3">w</mi></msub><mo fence="false" id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.1.1">|</mo><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.1.3">x</mi></mrow><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.3">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.1">−</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.3"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.3.2">β</mi><mo lspace="0.167em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.3.1">​</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.3.3"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.3.3.1">log</mi><mo lspace="0.167em" id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.3.3a">⁡</mo><mstyle displaystyle="true" id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7"><mfrac id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7a"><mrow id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1"><msub id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.3"><mi id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.3.2">π</mi><mi id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.3.3">θ</mi></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.2">​</mo><mrow id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.2">(</mo><mrow id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.1"><msub id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.1.2"><mi id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.1.2.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.1.2.3">l</mi></msub><mo fence="false" id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.1.1">|</mo><mi id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.1.3">x</mi></mrow><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.3">)</mo></mrow></mrow><mrow id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2"><msub id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3"><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.2">π</mi><mrow id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.3"><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.3.2">r</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.3.1">​</mo><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.3.3">e</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.3.1a">​</mo><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.3.4">f</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.2">​</mo><mrow id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.2">(</mo><mrow id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.1"><msub id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.1.2"><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.1.2.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.1.2.3">l</mi></msub><mo fence="false" id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.1.1">|</mo><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.1.3">x</mi></mrow><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.3">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow></mrow><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.3">)</mo></mrow></mrow><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.3">]</mo></mrow></mrow></mrow></mrow></mtd></mtr><mtr id="S2.E1.m1.1.1.1.1.m1.15.15g"><mtd id="S2.E1.m1.1.1.1.1.m1.15.15h"></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.1.1.1.1.m1.15.15i"><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5"><mo rspace="0em" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.6">=</mo><mo lspace="0em" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.7">−</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.8"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.8.2">𝔼</mi><mrow id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3"><mrow id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.3">(</mo><mi id="S2.E1.m1.1.1.1.1.m1.11.11.11.1.1.1.1.1">x</mi><mo id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.4">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.12.12.12.2.2.2.2.2.1.1"><mi id="S2.E1.m1.1.1.1.1.m1.12.12.12.2.2.2.2.2.1.1.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.12.12.12.2.2.2.2.2.1.1.3">w</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.5">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.2"><mi id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.2.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.2.3">l</mi></msub><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.6">)</mo></mrow><mo id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.4">∼</mo><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.5">𝒟</mi></mrow></msub><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9"><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.1">[</mo><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.2">log</mi><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.3">σ</mi><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4"><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.1">(</mo><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.2">β</mi><mo lspace="0.222em" rspace="0.222em" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.3">⋅</mo><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.1">(</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.2"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.2.2">γ</mi><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.2.3"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.2.3.2">π</mi><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.2.3.3">θ</mi></msub></msub><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.1">(</mo><mi id="S2.E1.m1.1.1.1.1.m1.14.14.14.4.4.4">x</mi><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.2">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.3"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.3.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.3.3">w</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.4">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.5"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.5.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.5.3">l</mi></msub><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.6">)</mo></mrow><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.4">−</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.2">γ</mi><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.2">π</mi><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.3"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.3.2">r</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.3.1">​</mo><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.3.3">e</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.3.1a">​</mo><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.3.4">f</mi></mrow></msub></msub><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.1">(</mo><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.5">x</mi><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.2">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.3"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.3.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.3.3">w</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.4">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.5"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.5.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.5.3">l</mi></msub><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.6">)</mo></mrow><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.7">)</mo></mrow><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.5">]</mo></mrow><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.5">,</mo></mrow></mrow></mtd></mtr></mtable><annotation encoding="application/x-tex" id="S2.E1.m1.1.1.1.1.m1.15b">\begin{aligned} &amp;\mathcal{L}_{\text{DPO}}(\pi_{\theta},\pi_{ref})\\ &amp;=-\mathbb{E}_{(x,y_{w},y_{l})\sim\mathcal{D}}\left[\log{\sigma\left(\beta\log{{\pi_{\theta}(y_{w}|x)\over\pi_{ref}(y_{w}|x)}}-\beta\log{{\pi_{\theta}(y_{l}|x)\over\pi_{ref}(y_{l}|x)}}\right)}\right]\\ &amp;=-\mathbb{E}_{(x,y_{w},y_{l})\sim\mathcal{D}}\left[\log{\sigma\left(\beta\cdot(\gamma_{\pi_{\theta}}(x,y_{w},y_{l})-\gamma_{\pi_{ref}}(x,y_{w},y_{l})\right)}\right],\end{aligned}</annotation></semantics></math></p>
</span></div>
</td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="0" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S2.SS2.SSS0.Px3.p1.15" class="ltx_p">where <math id="S2.SS2.SSS0.Px3.p1.1.m1.1" class="ltx_Math" alttext="D" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.1.m1.1a"><mi id="S2.SS2.SSS0.Px3.p1.1.m1.1.1" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.1.m1.1b"><ci id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.1.m1.1c">D</annotation></semantics></math> is the preference dataset, <math id="S2.SS2.SSS0.Px3.p1.2.m2.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.2.m2.1a"><mi id="S2.SS2.SSS0.Px3.p1.2.m2.1.1" xref="S2.SS2.SSS0.Px3.p1.2.m2.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.2.m2.1b"><ci id="S2.SS2.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.2.m2.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.2.m2.1c">x</annotation></semantics></math> is the question, <math id="S2.SS2.SSS0.Px3.p1.3.m3.1" class="ltx_Math" alttext="y_{w}" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.3.m3.1a"><msub id="S2.SS2.SSS0.Px3.p1.3.m3.1.1" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.2" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1.2.cmml">y</mi><mi id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.3" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.3.m3.1b"><apply id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1.2">𝑦</ci><ci id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.3.m3.1c">y_{w}</annotation></semantics></math> and <math id="S2.SS2.SSS0.Px3.p1.4.m4.1" class="ltx_Math" alttext="y_{l}" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.4.m4.1a"><msub id="S2.SS2.SSS0.Px3.p1.4.m4.1.1" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.2" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.2.cmml">y</mi><mi id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.3" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.4.m4.1b"><apply id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.2">𝑦</ci><ci id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.4.m4.1c">y_{l}</annotation></semantics></math> are the chosen and rejected answers respectively, <math id="S2.SS2.SSS0.Px3.p1.5.m5.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.5.m5.1a"><mi id="S2.SS2.SSS0.Px3.p1.5.m5.1.1" xref="S2.SS2.SSS0.Px3.p1.5.m5.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.5.m5.1b"><ci id="S2.SS2.SSS0.Px3.p1.5.m5.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.5.m5.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.5.m5.1c">\theta</annotation></semantics></math> is the learnable parameters of the model, and <math id="S2.SS2.SSS0.Px3.p1.6.m6.5" class="ltx_Math" alttext="\gamma_{\pi}(x,y_{w},y_{l})=\log{{\pi(y_{w}|x)\over\pi(y_{l}|x)}}" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.6.m6.5a"><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.5.5" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.cmml"><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.cmml"><msub id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.2.cmml">γ</mi><mi id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.3.cmml">π</mi></msub><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.3.cmml">​</mo><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.3.cmml"><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.3.cmml">(</mo><mi id="S2.SS2.SSS0.Px3.p1.6.m6.3.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.3.3.cmml">x</mi><mo id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.4" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.3.cmml">,</mo><msub id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.2.cmml">y</mi><mi id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.3.cmml">w</mi></msub><mo id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.5" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.3.cmml">,</mo><msub id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.2.cmml">y</mi><mi id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.3.cmml">l</mi></msub><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.6" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.3.cmml">)</mo></mrow></mrow><mo id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.3.cmml">=</mo><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.1.cmml">log</mi><mo lspace="0.167em" id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4a" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.cmml">⁡</mo><mfrac id="S2.SS2.SSS0.Px3.p1.6.m6.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.cmml"><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.3.cmml">π</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.2.cmml">​</mo><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.cmml"><msub id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.1.cmml">|</mo><mi id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.3.cmml">π</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.2.cmml">​</mo><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.cmml"><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.cmml">(</mo><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.cmml"><msub id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.2.cmml">y</mi><mi id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.1.cmml">|</mo><mi id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.3.cmml">x</mi></mrow><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.6.m6.5b"><apply id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5"><eq id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.3"></eq><apply id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2"><times id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.3"></times><apply id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.2">𝛾</ci><ci id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.3">𝜋</ci></apply><vector id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2"><ci id="S2.SS2.SSS0.Px3.p1.6.m6.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.3.3">𝑥</ci><apply id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.2">𝑦</ci><ci id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.3">𝑤</ci></apply><apply id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.2">𝑦</ci><ci id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.3">𝑙</ci></apply></vector></apply><apply id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4"><log id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.1"></log><apply id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2"><divide id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2"></divide><apply id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1"><times id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.2"></times><ci id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.3">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1"><csymbol cd="latexml" id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.1">conditional</csymbol><apply id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.3">𝑤</ci></apply><ci id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2"><times id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.2"></times><ci id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.3">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1"><csymbol cd="latexml" id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.1">conditional</csymbol><apply id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.2">𝑦</ci><ci id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.3">𝑙</ci></apply><ci id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.6.m6.5c">\gamma_{\pi}(x,y_{w},y_{l})=\log{{\pi(y_{w}|x)\over\pi(y_{l}|x)}}</annotation></semantics></math>, <span id="S2.SS2.SSS0.Px3.p1.15.1" class="ltx_text ltx_font_italic">i.e.,</span> the logratio of the chosen and rejected samples w.r.t. the policy <math id="S2.SS2.SSS0.Px3.p1.7.m7.1" class="ltx_Math" alttext="\pi" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.7.m7.1a"><mi id="S2.SS2.SSS0.Px3.p1.7.m7.1.1" xref="S2.SS2.SSS0.Px3.p1.7.m7.1.1.cmml">π</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.7.m7.1b"><ci id="S2.SS2.SSS0.Px3.p1.7.m7.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.7.m7.1.1">𝜋</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.7.m7.1c">\pi</annotation></semantics></math>. As <math id="S2.SS2.SSS0.Px3.p1.8.m8.1" class="ltx_Math" alttext="\log\sigma(\cdot)" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.8.m8.1a"><mrow id="S2.SS2.SSS0.Px3.p1.8.m8.1.2" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.cmml"><mrow id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.1" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.1.cmml">log</mi><mo lspace="0.167em" id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2a" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.cmml">⁡</mo><mi id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.2" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.2.cmml">σ</mi></mrow><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.1" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.1.cmml">​</mo><mrow id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.3.2" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.cmml"><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.3.2.1" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.8.m8.1.1" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.1.cmml">⋅</mo><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.3.2.2" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.8.m8.1b"><apply id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2"><times id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.1"></times><apply id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2"><log id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.1"></log><ci id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.2">𝜎</ci></apply><ci id="S2.SS2.SSS0.Px3.p1.8.m8.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.8.m8.1c">\log\sigma(\cdot)</annotation></semantics></math> is a monotonically increasing function and <math id="S2.SS2.SSS0.Px3.p1.9.m9.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.9.m9.1a"><msub id="S2.SS2.SSS0.Px3.p1.9.m9.1.1" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.2" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.2" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.2" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.1" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.3" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.1a" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.4" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.9.m9.1b"><apply id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3"><times id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.9.m9.1c">\gamma_{\pi_{ref}}</annotation></semantics></math> is fixed before training, the minimization of <math id="S2.SS2.SSS0.Px3.p1.10.m10.2" class="ltx_Math" alttext="\mathcal{L}_{\text{DPO}}(\pi_{\theta},\pi_{ref})" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.10.m10.2a"><mrow id="S2.SS2.SSS0.Px3.p1.10.m10.2.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.cmml"><msub id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.2.cmml">ℒ</mi><mtext id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.3" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.3a.cmml">DPO</mtext></msub><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.3" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.3.cmml">​</mo><mrow id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.3.cmml"><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.3" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.3.cmml">(</mo><msub id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.2.cmml">π</mi><mi id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.3.cmml">θ</mi></msub><mo id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.4" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.3.cmml">,</mo><msub id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.1" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.3" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.1a" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.4" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.4.cmml">f</mi></mrow></msub><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.5" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.10.m10.2b"><apply id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2"><times id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.3"></times><apply id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.1.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.2.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.2">ℒ</ci><ci id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.3a.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.3"><mtext mathsize="70%" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.3.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.3">DPO</mtext></ci></apply><interval closure="open" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2"><apply id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.2">𝜋</ci><ci id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.3">𝜃</ci></apply><apply id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3"><times id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.4">𝑓</ci></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.10.m10.2c">\mathcal{L}_{\text{DPO}}(\pi_{\theta},\pi_{ref})</annotation></semantics></math> leads to <math id="S2.SS2.SSS0.Px3.p1.11.m11.1" class="ltx_Math" alttext="\gamma_{\pi_{\theta}}>\gamma_{\pi_{ref}}" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.11.m11.1a"><mrow id="S2.SS2.SSS0.Px3.p1.11.m11.1.1" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.cmml"><msub id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.2" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.2" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.2.cmml">π</mi><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.3" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.3.cmml">θ</mi></msub></msub><mo id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.1" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.1.cmml">&gt;</mo><msub id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.2" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.2" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.2" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.1" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.3" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.1a" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.4" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.4.cmml">f</mi></mrow></msub></msub></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.11.m11.1b"><apply id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1"><gt id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.1"></gt><apply id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.2">𝜋</ci><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.3">𝜃</ci></apply></apply><apply id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3"><times id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.4">𝑓</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.11.m11.1c">\gamma_{\pi_{\theta}}&gt;\gamma_{\pi_{ref}}</annotation></semantics></math> (on average). Thus, <math id="S2.SS2.SSS0.Px3.p1.12.m12.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.12.m12.1a"><msub id="S2.SS2.SSS0.Px3.p1.12.m12.1.1" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.2" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.2" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.2" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.1" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.3" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.1a" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.4" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.12.m12.1b"><apply id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3"><times id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.12.m12.1c">\gamma_{\pi_{ref}}</annotation></semantics></math> can be understood as a lower bound defined by the reference model, of which the target model is trained such that <math id="S2.SS2.SSS0.Px3.p1.13.m13.1" class="ltx_Math" alttext="\gamma_{\pi_{\theta}}>\gamma_{\pi_{ref}}" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.13.m13.1a"><mrow id="S2.SS2.SSS0.Px3.p1.13.m13.1.1" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.cmml"><msub id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.2" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.2" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.2.cmml">π</mi><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.3" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.3.cmml">θ</mi></msub></msub><mo id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.1" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.1.cmml">&gt;</mo><msub id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.2" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.2" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.2" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.1" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.3" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.1a" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.4" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.4.cmml">f</mi></mrow></msub></msub></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.13.m13.1b"><apply id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1"><gt id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.1"></gt><apply id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.2">𝜋</ci><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.3">𝜃</ci></apply></apply><apply id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3"><times id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.4">𝑓</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.13.m13.1c">\gamma_{\pi_{\theta}}&gt;\gamma_{\pi_{ref}}</annotation></semantics></math>. In sDPO, <math id="S2.SS2.SSS0.Px3.p1.14.m14.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.14.m14.1a"><msub id="S2.SS2.SSS0.Px3.p1.14.m14.1.1" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.2" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.2" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.2" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.1" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.3" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.1a" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.4" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.14.m14.1b"><apply id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3"><times id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.14.m14.1c">\gamma_{\pi_{ref}}</annotation></semantics></math> increases as the steps progress because the reference model that defines it is more and more aligned. Hence, <math id="S2.SS2.SSS0.Px3.p1.15.m15.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.15.m15.1a"><msub id="S2.SS2.SSS0.Px3.p1.15.m15.1.1" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.2" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.2" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.2" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.1" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.3" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.1a" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.4" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.15.m15.1b"><apply id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3"><times id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.15.m15.1c">\gamma_{\pi_{ref}}</annotation></semantics></math> becomes a stricter lower bound as the steps pass, inducing a curriculum learning from easy to hard optimization tasks.</p>
</div>
</section>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Experiments</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Experimental Setup</h3>

<section id="S3.SS1.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Training details.</h4>

<div id="S3.SS1.SSS0.Px1.p1" class="ltx_para">
<p class="ltx_p" id="S3.SS1.SSS0.Px1.p1.5">본 논문에서 제안하는 SFT 기반 모델인 <math alttext="S" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.1.m1.1"><semantics id="S3.SS1.SSS0.Px1.p1.1.m1.1a"><mi id="S3.SS1.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.1.m1.1b"><ci id="S3.SS1.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.1.m1.1c">S</annotation></semantics></math>는 10.7B 크기의 초미세 조정 SOLAR 10.7B <cite class="ltx_cite ltx_citemacro_cite">Kim et al. (<a class="ltx_ref" href="#bib.bib16" title="">2023</a>)</cite>를 사용함으로써, 10.7B 크기의 초미세 조정 SOLAR의 우수한 성능을 제공한다. 또한 10.7B 크기의 모델이 부족하면 참조 모델로 채택할 수 있는 오픈 소스 모델이 없기 때문에 sDPO의 사용이 더 필요하다. 우리는 OpenOrca <cite class="ltx_cite ltx_citemacro_cite">Mukherjee et al. (<a class="ltx_ref" href="#bib.bib19" title="">2023</a>)</cite> (<math alttext="\sim 12K" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.2.m2.1"><semantics id="S3.SS1.SSS0.Px1.p1.2.m2.1a"><mrow id="S3.SS1.SSS0.Px1.p1.2.m2.1.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.cmml"></mi><mo id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.cmml">∼</mo><mrow id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.cmml"><mn id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.2.cmml">12</mn><mo id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.3.cmml">K</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.2.m2.1b"><apply id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1"><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2">absent</csymbol><apply id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3"><times id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.1"></times><cn id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.2.cmml" type="integer" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.2">12</cn><ci id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.3">𝐾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.2.m2.1c">\sim 12K</annotation></semantics></math> samples)와 Ultrafeedback Cleaned (<math alttext="\sim 60K" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.3.m3.1"><semantics id="S3.SS1.SSS0.Px1.p1.3.m3.1a"><mrow id="S3.SS1.SSS0.Px1.p1.3.m3.1.1" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2.cmml"></mi><mo id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.1" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.1.cmml">∼</mo><mrow id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.cmml"><mn id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.2.cmml">60</mn><mo id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.3.cmml">K</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.3.m3.1b"><apply id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1"><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2">absent</csymbol><apply id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3"><times id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.1"></times><cn id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.2.cmml" type="integer" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.2">60</cn><ci id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.3">𝐾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.3.m3.1c">\sim 60K</annotation></semantics></math> samples) <cite class="ltx_cite ltx_citemacro_cite">Cui et al. (<a class="ltx_ref" href="#bib.bib8" title="">2023</a>); Ivison et al. (<a class="ltx_ref" href="#bib.bib14" title="">2023</a>)</cite>를 선호 데이터세트로 사용한다. 훈련 하이퍼-파라미터는 <cite class="ltx_cite ltx_citemacro_citet">Tunstall et al. (<a class="ltx_ref" href="#bib.bib26" title="">2023</a>)</cite>의 파라미터를 밀접하게 따른다. sDPO에서는 OpenOrca를 데이터세트 <math alttext="D_{1}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.4.m4.1"><semantics id="S3.SS1.SSS0.Px1.p1.4.m4.1a"><msub id="S3.SS1.SSS0.Px1.p1.4.m4.1.1" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.cmml">D</mi><mn id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.4.m4.1b"><apply id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2">𝐷</ci><cn id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.cmml" type="integer" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.4.m4.1c">D_{1}</annotation></semantics></math>로 사용하고, Ultrafeedback Cleaned를 데이터세트 <math alttext="D_{2}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.5.m5.1"><semantics id="S3.SS1.SSS0.Px1.p1.5.m5.1a"><msub id="S3.SS1.SSS0.Px1.p1.5.m5.1.1" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2.cmml">D</mi><mn id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.5.m5.1b"><apply id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2">𝐷</ci><cn id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3.cmml" type="integer" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.5.m5.1c">D_{2}</annotation></semantics></math>로 사용한다.</p>
</div>
</section>
<section id="S3.SS1.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Evaluation.</h4>

<div id="S3.SS1.SSS0.Px2.p1" class="ltx_para">
<p class="ltx_p" id="S3.SS1.SSS0.Px2.p1.1">우리는 HuggingFace Open LLM Leaderboard <cite class="ltx_cite ltx_citemacro_cite">Beeching et al. (<a class="ltx_ref" href="#bib.bib3" title="">2023</a>)</cite>: ARC <cite class="ltx_cite ltx_citemacro_cite">Clark et al. (<a class="ltx_ref" href="#bib.bib6" title="">2018</a>)</cite>, HellaSWAG <cite class="ltx_cite ltx_citemacro_cite">Zellers et al. (<a class="ltx_ref" href="#bib.bib31" title="">2019</a>)</cite>, MMLU <cite class="ltx_cite ltx_citemacro_cite">Hendrycks et al. (<a class="ltx_ref" href="#bib.bib10" title="">2020</a>)</cite>, TruthfulQA <cite class="ltx_cite ltx_citemacro_cite">Lin et al. (<a class="ltx_ref" href="#bib.bib18" title="">2022</a>)</cite>에서 6가지 작업 중 4가지를 활용한다. 실험의 복잡도를 제어하기 위해 위노그란데<사이트 idx=5></cite>와 GSM8K<사이트 idx=6></cite>를 제외하였으며, <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS0.Px2.p1.1.1">i.e.,</span>은 객관식 작업과 달리 생성 작업을 제외하였다.</p>
</div>
</section>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Main Results</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p class="ltx_p" id="S3.SS2.p1.4">SFT 기반 모델에 sDPO를 적용하기 위한 평가 결과와 다른 상위 성능 모델에 대한 결과는 Tab에 나와 있다. <a class="ltx_ref" href="#S2.T2" title="Table 2 ‣ Target model. ‣ 2.2 Stepwise DPO ‣ 2 Methodology ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_tag">2</span></a>. 사전 훈련된 전용 'SOLAR 10.7B'를 명령어 튜닝된 'SOLAR 10.7B + SFT'와 비교하면, H4 측면에서 <math alttext="+5.24" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1"><semantics id="S3.SS2.p1.1.m1.1a"><mrow id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml"><mo id="S3.SS2.p1.1.m1.1.1a" xref="S3.SS2.p1.1.m1.1.1.cmml">+</mo><mn id="S3.SS2.p1.1.m1.1.1.2" xref="S3.SS2.p1.1.m1.1.1.2.cmml">5.24</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><apply id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1"><plus id="S3.SS2.p1.1.m1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1"></plus><cn id="S3.SS2.p1.1.m1.1.1.2.cmml" type="float" xref="S3.SS2.p1.1.m1.1.1.2">5.24</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">+5.24</annotation></semantics></math>의 증가를 볼 수 있다. SOLAR 10.7B + SFT에 sDPO를 적용하면 H4 점수가 <math alttext="74.31" class="ltx_Math" display="inline" id="S3.SS2.p1.2.m2.1"><semantics id="S3.SS2.p1.2.m2.1a"><mn id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml">74.31</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><cn id="S3.SS2.p1.2.m2.1.1.cmml" type="float" xref="S3.SS2.p1.2.m2.1.1">74.31</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">74.31</annotation></semantics></math>까지 더 증가하며, <math alttext="+4.80" class="ltx_Math" display="inline" id="S3.SS2.p1.3.m3.1"><semantics id="S3.SS2.p1.3.m3.1a"><mrow id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml"><mo id="S3.SS2.p1.3.m3.1.1a" xref="S3.SS2.p1.3.m3.1.1.cmml">+</mo><mn id="S3.SS2.p1.3.m3.1.1.2" xref="S3.SS2.p1.3.m3.1.1.2.cmml">4.80</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><apply id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1"><plus id="S3.SS2.p1.3.m3.1.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1"></plus><cn id="S3.SS2.p1.3.m3.1.1.2.cmml" type="float" xref="S3.SS2.p1.3.m3.1.1.2">4.80</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">+4.80</annotation></semantics></math>의 향상을 볼 수 있다. 특히, 'SOLAR 10.7B + SFT + sDPO'는 매개변수 수가 적음에도 불구하고 Mixtral 8x7B-Instruct-v0.1과 같은 다른 대규모 모델보다 우수하다. 이는 효과적인 정렬 튜닝이 더 작은 LLM에 대한 다음 레벨 성능을 잠금 해제하는 열쇠가 될 수 있음을 강조한다. 또한, sDPO를 적용하면 TruthfulQA에 대해 <math alttext="72.45" class="ltx_Math" display="inline" id="S3.SS2.p1.4.m4.1"><semantics id="S3.SS2.p1.4.m4.1a"><mn id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml">72.45</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><cn id="S3.SS2.p1.4.m4.1.1.cmml" type="float" xref="S3.SS2.p1.4.m4.1.1">72.45</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">72.45</annotation></semantics></math>의 점수가 상당히 높아지며, 이는 정렬 튜닝 프로세스의 유효성을 보여준다.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Ablation Studies</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.7" class="ltx_p">We also report evaluation results for ablated models in Tab.&nbsp;<a href="#S2.T2" title="Table 2 ‣ Target model. ‣ 2.2 Stepwise DPO ‣ 2 Methodology ‣ sDPO: Don’t Use Your Data All at Once" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. ‘SOLAR 10.7B + SFT + DPO’ uses all the DPO data at once, <span id="S3.SS3.p1.7.1" class="ltx_text ltx_font_italic">i.e.,</span> <math id="S3.SS3.p1.1.m1.1" class="ltx_Math" alttext="D_{1}+D_{2}" display="inline"><semantics id="S3.SS3.p1.1.m1.1a"><mrow id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml"><msub id="S3.SS3.p1.1.m1.1.1.2" xref="S3.SS3.p1.1.m1.1.1.2.cmml"><mi id="S3.SS3.p1.1.m1.1.1.2.2" xref="S3.SS3.p1.1.m1.1.1.2.2.cmml">D</mi><mn id="S3.SS3.p1.1.m1.1.1.2.3" xref="S3.SS3.p1.1.m1.1.1.2.3.cmml">1</mn></msub><mo id="S3.SS3.p1.1.m1.1.1.1" xref="S3.SS3.p1.1.m1.1.1.1.cmml">+</mo><msub id="S3.SS3.p1.1.m1.1.1.3" xref="S3.SS3.p1.1.m1.1.1.3.cmml"><mi id="S3.SS3.p1.1.m1.1.1.3.2" xref="S3.SS3.p1.1.m1.1.1.3.2.cmml">D</mi><mn id="S3.SS3.p1.1.m1.1.1.3.3" xref="S3.SS3.p1.1.m1.1.1.3.3.cmml">2</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><apply id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1"><plus id="S3.SS3.p1.1.m1.1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1.1"></plus><apply id="S3.SS3.p1.1.m1.1.1.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.2.1.cmml" xref="S3.SS3.p1.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.2.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2.2">𝐷</ci><cn type="integer" id="S3.SS3.p1.1.m1.1.1.2.3.cmml" xref="S3.SS3.p1.1.m1.1.1.2.3">1</cn></apply><apply id="S3.SS3.p1.1.m1.1.1.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.3.1.cmml" xref="S3.SS3.p1.1.m1.1.1.3">subscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.3.2.cmml" xref="S3.SS3.p1.1.m1.1.1.3.2">𝐷</ci><cn type="integer" id="S3.SS3.p1.1.m1.1.1.3.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">D_{1}+D_{2}</annotation></semantics></math>, same as the conventional DPO training setup. ‘SOLAR 10.7B + SFT + sDPO Strat.’ uses stratified sampling to sample <math id="S3.SS3.p1.2.m2.1" class="ltx_Math" alttext="\sim 16.67\%" display="inline"><semantics id="S3.SS3.p1.2.m2.1a"><mrow id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml"><mi id="S3.SS3.p1.2.m2.1.1.2" xref="S3.SS3.p1.2.m2.1.1.2.cmml"></mi><mo id="S3.SS3.p1.2.m2.1.1.1" xref="S3.SS3.p1.2.m2.1.1.1.cmml">∼</mo><mrow id="S3.SS3.p1.2.m2.1.1.3" xref="S3.SS3.p1.2.m2.1.1.3.cmml"><mn id="S3.SS3.p1.2.m2.1.1.3.2" xref="S3.SS3.p1.2.m2.1.1.3.2.cmml">16.67</mn><mo id="S3.SS3.p1.2.m2.1.1.3.1" xref="S3.SS3.p1.2.m2.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b"><apply id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1"><csymbol cd="latexml" id="S3.SS3.p1.2.m2.1.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S3.SS3.p1.2.m2.1.1.2.cmml" xref="S3.SS3.p1.2.m2.1.1.2">absent</csymbol><apply id="S3.SS3.p1.2.m2.1.1.3.cmml" xref="S3.SS3.p1.2.m2.1.1.3"><csymbol cd="latexml" id="S3.SS3.p1.2.m2.1.1.3.1.cmml" xref="S3.SS3.p1.2.m2.1.1.3.1">percent</csymbol><cn type="float" id="S3.SS3.p1.2.m2.1.1.3.2.cmml" xref="S3.SS3.p1.2.m2.1.1.3.2">16.67</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">\sim 16.67\%</annotation></semantics></math> of the data points from the union of OpenOrca and Ultrafeedback Cleaned to form <math id="S3.SS3.p1.3.m3.1" class="ltx_Math" alttext="D_{1}" display="inline"><semantics id="S3.SS3.p1.3.m3.1a"><msub id="S3.SS3.p1.3.m3.1.1" xref="S3.SS3.p1.3.m3.1.1.cmml"><mi id="S3.SS3.p1.3.m3.1.1.2" xref="S3.SS3.p1.3.m3.1.1.2.cmml">D</mi><mn id="S3.SS3.p1.3.m3.1.1.3" xref="S3.SS3.p1.3.m3.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.1b"><apply id="S3.SS3.p1.3.m3.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.1.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p1.3.m3.1.1.2.cmml" xref="S3.SS3.p1.3.m3.1.1.2">𝐷</ci><cn type="integer" id="S3.SS3.p1.3.m3.1.1.3.cmml" xref="S3.SS3.p1.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.1c">D_{1}</annotation></semantics></math> and use the remaining <math id="S3.SS3.p1.4.m4.1" class="ltx_Math" alttext="\sim 83.33\%" display="inline"><semantics id="S3.SS3.p1.4.m4.1a"><mrow id="S3.SS3.p1.4.m4.1.1" xref="S3.SS3.p1.4.m4.1.1.cmml"><mi id="S3.SS3.p1.4.m4.1.1.2" xref="S3.SS3.p1.4.m4.1.1.2.cmml"></mi><mo id="S3.SS3.p1.4.m4.1.1.1" xref="S3.SS3.p1.4.m4.1.1.1.cmml">∼</mo><mrow id="S3.SS3.p1.4.m4.1.1.3" xref="S3.SS3.p1.4.m4.1.1.3.cmml"><mn id="S3.SS3.p1.4.m4.1.1.3.2" xref="S3.SS3.p1.4.m4.1.1.3.2.cmml">83.33</mn><mo id="S3.SS3.p1.4.m4.1.1.3.1" xref="S3.SS3.p1.4.m4.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.4.m4.1b"><apply id="S3.SS3.p1.4.m4.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1"><csymbol cd="latexml" id="S3.SS3.p1.4.m4.1.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S3.SS3.p1.4.m4.1.1.2.cmml" xref="S3.SS3.p1.4.m4.1.1.2">absent</csymbol><apply id="S3.SS3.p1.4.m4.1.1.3.cmml" xref="S3.SS3.p1.4.m4.1.1.3"><csymbol cd="latexml" id="S3.SS3.p1.4.m4.1.1.3.1.cmml" xref="S3.SS3.p1.4.m4.1.1.3.1">percent</csymbol><cn type="float" id="S3.SS3.p1.4.m4.1.1.3.2.cmml" xref="S3.SS3.p1.4.m4.1.1.3.2">83.33</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.4.m4.1c">\sim 83.33\%</annotation></semantics></math> as <math id="S3.SS3.p1.5.m5.1" class="ltx_Math" alttext="D_{2}" display="inline"><semantics id="S3.SS3.p1.5.m5.1a"><msub id="S3.SS3.p1.5.m5.1.1" xref="S3.SS3.p1.5.m5.1.1.cmml"><mi id="S3.SS3.p1.5.m5.1.1.2" xref="S3.SS3.p1.5.m5.1.1.2.cmml">D</mi><mn id="S3.SS3.p1.5.m5.1.1.3" xref="S3.SS3.p1.5.m5.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.5.m5.1b"><apply id="S3.SS3.p1.5.m5.1.1.cmml" xref="S3.SS3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.5.m5.1.1.1.cmml" xref="S3.SS3.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS3.p1.5.m5.1.1.2.cmml" xref="S3.SS3.p1.5.m5.1.1.2">𝐷</ci><cn type="integer" id="S3.SS3.p1.5.m5.1.1.3.cmml" xref="S3.SS3.p1.5.m5.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.5.m5.1c">D_{2}</annotation></semantics></math> to mirror the dataset size of <math id="S3.SS3.p1.6.m6.1" class="ltx_Math" alttext="D_{1}" display="inline"><semantics id="S3.SS3.p1.6.m6.1a"><msub id="S3.SS3.p1.6.m6.1.1" xref="S3.SS3.p1.6.m6.1.1.cmml"><mi id="S3.SS3.p1.6.m6.1.1.2" xref="S3.SS3.p1.6.m6.1.1.2.cmml">D</mi><mn id="S3.SS3.p1.6.m6.1.1.3" xref="S3.SS3.p1.6.m6.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.6.m6.1b"><apply id="S3.SS3.p1.6.m6.1.1.cmml" xref="S3.SS3.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.6.m6.1.1.1.cmml" xref="S3.SS3.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS3.p1.6.m6.1.1.2.cmml" xref="S3.SS3.p1.6.m6.1.1.2">𝐷</ci><cn type="integer" id="S3.SS3.p1.6.m6.1.1.3.cmml" xref="S3.SS3.p1.6.m6.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.6.m6.1c">D_{1}</annotation></semantics></math> and <math id="S3.SS3.p1.7.m7.1" class="ltx_Math" alttext="D_{2}" display="inline"><semantics id="S3.SS3.p1.7.m7.1a"><msub id="S3.SS3.p1.7.m7.1.1" xref="S3.SS3.p1.7.m7.1.1.cmml"><mi id="S3.SS3.p1.7.m7.1.1.2" xref="S3.SS3.p1.7.m7.1.1.2.cmml">D</mi><mn id="S3.SS3.p1.7.m7.1.1.3" xref="S3.SS3.p1.7.m7.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.7.m7.1b"><apply id="S3.SS3.p1.7.m7.1.1.cmml" xref="S3.SS3.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.7.m7.1.1.1.cmml" xref="S3.SS3.p1.7.m7.1.1">subscript</csymbol><ci id="S3.SS3.p1.7.m7.1.1.2.cmml" xref="S3.SS3.p1.7.m7.1.1.2">𝐷</ci><cn type="integer" id="S3.SS3.p1.7.m7.1.1.3.cmml" xref="S3.SS3.p1.7.m7.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.7.m7.1c">D_{2}</annotation></semantics></math> used in SOLAR 10.7B + SFT + sDPO.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p class="ltx_p" id="S3.SS3.p2.3">SOLAR 10.7B + SFT + DPO와 SOLAR 10.7B + SFT + sDPO를 비교하면 DPO보다 sDPO를 사용하면 전체적으로 H4 점수가 더 높아지며 ARC 및 TruthfulQA 점수가 눈에 띄게 개선됨을 알 수 있다. 따라서 sDPO는 더 나은 성능을 가진 DPO 훈련을 위한 드롭인 대체물로 기능할 수 있다고 믿는다. SOLAR 10.7B + SFT + sDPO 및 SOLAR 10.7B + SFT + sDPO Strat를 살펴보면, 가용한 DPO 데이터를 다중 <math alttext="D_{t}" class="ltx_Math" display="inline" id="S3.SS3.p2.1.m1.1"><semantics id="S3.SS3.p2.1.m1.1a"><msub id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml"><mi id="S3.SS3.p2.1.m1.1.1.2" xref="S3.SS3.p2.1.m1.1.1.2.cmml">D</mi><mi id="S3.SS3.p2.1.m1.1.1.3" xref="S3.SS3.p2.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><apply id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p2.1.m1.1.1.2.cmml" xref="S3.SS3.p2.1.m1.1.1.2">𝐷</ci><ci id="S3.SS3.p2.1.m1.1.1.3.cmml" xref="S3.SS3.p2.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">D_{t}</annotation></semantics></math>로 분할하는 구체적인 방식도 성능에 영향을 줄 수 있음을 알 수 있다. 우리는 <math alttext="D_{t}" class="ltx_Math" display="inline" id="S3.SS3.p2.2.m2.1"><semantics id="S3.SS3.p2.2.m2.1a"><msub id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml"><mi id="S3.SS3.p2.2.m2.1.1.2" xref="S3.SS3.p2.2.m2.1.1.2.cmml">D</mi><mi id="S3.SS3.p2.2.m2.1.1.3" xref="S3.SS3.p2.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><apply id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.2.m2.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p2.2.m2.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.2">𝐷</ci><ci id="S3.SS3.p2.2.m2.1.1.3.cmml" xref="S3.SS3.p2.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">D_{t}</annotation></semantics></math>와 같은 서로 다른 선호도 데이터 세트를 사용하는 자연스러운 분할이 우리의 실험에서 가장 잘 작동한다는 것을 발견했다. <math alttext="D_{t}" class="ltx_Math" display="inline" id="S3.SS3.p2.3.m3.1"><semantics id="S3.SS3.p2.3.m3.1a"><msub id="S3.SS3.p2.3.m3.1.1" xref="S3.SS3.p2.3.m3.1.1.cmml"><mi id="S3.SS3.p2.3.m3.1.1.2" xref="S3.SS3.p2.3.m3.1.1.2.cmml">D</mi><mi id="S3.SS3.p2.3.m3.1.1.3" xref="S3.SS3.p2.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m3.1b"><apply id="S3.SS3.p2.3.m3.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.1.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p2.3.m3.1.1.2.cmml" xref="S3.SS3.p2.3.m3.1.1.2">𝐷</ci><ci id="S3.SS3.p2.3.m3.1.1.3.cmml" xref="S3.SS3.p2.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m3.1c">D_{t}</annotation></semantics></math>를 정의하는 방법에 대한 추가 탐구는 향후 연구를 위한 흥미로운 방향이라고 생각한다.</p>
</div>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>Reference Models in sDPO</h3>

<figure id="S3.F2" class="ltx_figure">
<div id="S3.F2.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:368.6pt;height:147pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(41.1pt,-16.4pt) scale(1.2871577595115,1.2871577595115) ;"><img src="https://ar5iv.labs.arxiv.org/html/2403.19270/assets/x2.png" id="S3.F2.1.g1" class="ltx_graphics ltx_img_landscape" width="298" height="122" alt="Refer to caption">
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Mean <math id="S3.F2.5.m1.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S3.F2.5.m1.1b"><msub id="S3.F2.5.m1.1.1" xref="S3.F2.5.m1.1.1.cmml"><mi id="S3.F2.5.m1.1.1.2" xref="S3.F2.5.m1.1.1.2.cmml">γ</mi><msub id="S3.F2.5.m1.1.1.3" xref="S3.F2.5.m1.1.1.3.cmml"><mi id="S3.F2.5.m1.1.1.3.2" xref="S3.F2.5.m1.1.1.3.2.cmml">π</mi><mrow id="S3.F2.5.m1.1.1.3.3" xref="S3.F2.5.m1.1.1.3.3.cmml"><mi id="S3.F2.5.m1.1.1.3.3.2" xref="S3.F2.5.m1.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.F2.5.m1.1.1.3.3.1" xref="S3.F2.5.m1.1.1.3.3.1.cmml">​</mo><mi id="S3.F2.5.m1.1.1.3.3.3" xref="S3.F2.5.m1.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.F2.5.m1.1.1.3.3.1b" xref="S3.F2.5.m1.1.1.3.3.1.cmml">​</mo><mi id="S3.F2.5.m1.1.1.3.3.4" xref="S3.F2.5.m1.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.F2.5.m1.1c"><apply id="S3.F2.5.m1.1.1.cmml" xref="S3.F2.5.m1.1.1"><csymbol cd="ambiguous" id="S3.F2.5.m1.1.1.1.cmml" xref="S3.F2.5.m1.1.1">subscript</csymbol><ci id="S3.F2.5.m1.1.1.2.cmml" xref="S3.F2.5.m1.1.1.2">𝛾</ci><apply id="S3.F2.5.m1.1.1.3.cmml" xref="S3.F2.5.m1.1.1.3"><csymbol cd="ambiguous" id="S3.F2.5.m1.1.1.3.1.cmml" xref="S3.F2.5.m1.1.1.3">subscript</csymbol><ci id="S3.F2.5.m1.1.1.3.2.cmml" xref="S3.F2.5.m1.1.1.3.2">𝜋</ci><apply id="S3.F2.5.m1.1.1.3.3.cmml" xref="S3.F2.5.m1.1.1.3.3"><times id="S3.F2.5.m1.1.1.3.3.1.cmml" xref="S3.F2.5.m1.1.1.3.3.1"></times><ci id="S3.F2.5.m1.1.1.3.3.2.cmml" xref="S3.F2.5.m1.1.1.3.3.2">𝑟</ci><ci id="S3.F2.5.m1.1.1.3.3.3.cmml" xref="S3.F2.5.m1.1.1.3.3.3">𝑒</ci><ci id="S3.F2.5.m1.1.1.3.3.4.cmml" xref="S3.F2.5.m1.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.5.m1.1d">\gamma_{\pi_{ref}}</annotation></semantics></math> on Ultrafeedback Cleaned dataset for different reference models <math id="S3.F2.6.m2.2" class="ltx_Math" alttext="S,M_{1}," display="inline"><semantics id="S3.F2.6.m2.2b"><mrow id="S3.F2.6.m2.2.2.1"><mrow id="S3.F2.6.m2.2.2.1.1.1" xref="S3.F2.6.m2.2.2.1.1.2.cmml"><mi id="S3.F2.6.m2.1.1" xref="S3.F2.6.m2.1.1.cmml">S</mi><mo id="S3.F2.6.m2.2.2.1.1.1.2" xref="S3.F2.6.m2.2.2.1.1.2.cmml">,</mo><msub id="S3.F2.6.m2.2.2.1.1.1.1" xref="S3.F2.6.m2.2.2.1.1.1.1.cmml"><mi id="S3.F2.6.m2.2.2.1.1.1.1.2" xref="S3.F2.6.m2.2.2.1.1.1.1.2.cmml">M</mi><mn id="S3.F2.6.m2.2.2.1.1.1.1.3" xref="S3.F2.6.m2.2.2.1.1.1.1.3.cmml">1</mn></msub></mrow><mo id="S3.F2.6.m2.2.2.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.F2.6.m2.2c"><list id="S3.F2.6.m2.2.2.1.1.2.cmml" xref="S3.F2.6.m2.2.2.1.1.1"><ci id="S3.F2.6.m2.1.1.cmml" xref="S3.F2.6.m2.1.1">𝑆</ci><apply id="S3.F2.6.m2.2.2.1.1.1.1.cmml" xref="S3.F2.6.m2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.F2.6.m2.2.2.1.1.1.1.1.cmml" xref="S3.F2.6.m2.2.2.1.1.1.1">subscript</csymbol><ci id="S3.F2.6.m2.2.2.1.1.1.1.2.cmml" xref="S3.F2.6.m2.2.2.1.1.1.1.2">𝑀</ci><cn type="integer" id="S3.F2.6.m2.2.2.1.1.1.1.3.cmml" xref="S3.F2.6.m2.2.2.1.1.1.1.3">1</cn></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.6.m2.2d">S,M_{1},</annotation></semantics></math> and <math id="S3.F2.7.m3.1" class="ltx_Math" alttext="M_{2}" display="inline"><semantics id="S3.F2.7.m3.1b"><msub id="S3.F2.7.m3.1.1" xref="S3.F2.7.m3.1.1.cmml"><mi id="S3.F2.7.m3.1.1.2" xref="S3.F2.7.m3.1.1.2.cmml">M</mi><mn id="S3.F2.7.m3.1.1.3" xref="S3.F2.7.m3.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.F2.7.m3.1c"><apply id="S3.F2.7.m3.1.1.cmml" xref="S3.F2.7.m3.1.1"><csymbol cd="ambiguous" id="S3.F2.7.m3.1.1.1.cmml" xref="S3.F2.7.m3.1.1">subscript</csymbol><ci id="S3.F2.7.m3.1.1.2.cmml" xref="S3.F2.7.m3.1.1.2">𝑀</ci><cn type="integer" id="S3.F2.7.m3.1.1.3.cmml" xref="S3.F2.7.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.7.m3.1d">M_{2}</annotation></semantics></math>. Note that the x-axis is in log scale.</figcaption>
</figure>
<section id="S3.SS4.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Effectiveness of sDPO in terms of alignment tuning.</h4>

<div id="S3.SS4.SSS0.Px1.p1" class="ltx_para">
<p id="S3.SS4.SSS0.Px1.p1.12" class="ltx_p">In Sec.&nbsp;<a href="#S2.SS2" title="2.2 Stepwise DPO ‣ 2 Methodology ‣ sDPO: Don’t Use Your Data All at Once" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.2</span></a>, we explain that the reference models in sDPO are more aligned, resulting in higher <math id="S3.SS4.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.1.m1.1a"><msub id="S3.SS4.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.2" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.2" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.1" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.3" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.1a" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.4" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.1.m1.1b"><apply id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3"><times id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.1.m1.1c">\gamma_{\pi_{ref}}</annotation></semantics></math>, <span id="S3.SS4.SSS0.Px1.p1.12.1" class="ltx_text ltx_font_italic">i.e.,</span> a stricter lower bound. We verify the above empirically in Fig.&nbsp;<a href="#S3.F2" title="Figure 2 ‣ 3.4 Reference Models in sDPO ‣ 3 Experiments ‣ sDPO: Don’t Use Your Data All at Once" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> by comparing the mean <math id="S3.SS4.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.2.m2.1a"><msub id="S3.SS4.SSS0.Px1.p1.2.m2.1.1" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.2" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.2" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.1" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.3" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.1a" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.4" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.2.m2.1b"><apply id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3"><times id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.2.m2.1c">\gamma_{\pi_{ref}}</annotation></semantics></math> on the Ultrafeedback Cleaned dataset for the reference models in steps 1 and 2 of sDPO, <span id="S3.SS4.SSS0.Px1.p1.12.2" class="ltx_text ltx_font_italic">i.e.,</span> <math id="S3.SS4.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.3.m3.1a"><mi id="S3.SS4.SSS0.Px1.p1.3.m3.1.1" xref="S3.SS4.SSS0.Px1.p1.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.3.m3.1b"><ci id="S3.SS4.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.3.m3.1c">S</annotation></semantics></math> and <math id="S3.SS4.SSS0.Px1.p1.4.m4.1" class="ltx_Math" alttext="M_{1}" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.4.m4.1a"><msub id="S3.SS4.SSS0.Px1.p1.4.m4.1.1" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.2" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.3" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.4.m4.1b"><apply id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.4.m4.1c">M_{1}</annotation></semantics></math>. Note that these two models have not been trained on the aforementioned dataset. Using the SFT base model <math id="S3.SS4.SSS0.Px1.p1.5.m5.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.5.m5.1a"><mi id="S3.SS4.SSS0.Px1.p1.5.m5.1.1" xref="S3.SS4.SSS0.Px1.p1.5.m5.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.5.m5.1b"><ci id="S3.SS4.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.5.m5.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.5.m5.1c">S</annotation></semantics></math> as the reference model, the mean of <math id="S3.SS4.SSS0.Px1.p1.6.m6.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.6.m6.1a"><msub id="S3.SS4.SSS0.Px1.p1.6.m6.1.1" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.2" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.1" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.3" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.1a" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.4" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.6.m6.1b"><apply id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3"><times id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.6.m6.1c">\gamma_{\pi_{ref}}</annotation></semantics></math> is <math id="S3.SS4.SSS0.Px1.p1.7.m7.1" class="ltx_Math" alttext="-38.60" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.7.m7.1a"><mrow id="S3.SS4.SSS0.Px1.p1.7.m7.1.1" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1.cmml"><mo id="S3.SS4.SSS0.Px1.p1.7.m7.1.1a" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1.cmml">−</mo><mn id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.2" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1.2.cmml">38.60</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.7.m7.1b"><apply id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1"><minus id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1"></minus><cn type="float" id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1.2">38.60</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.7.m7.1c">-38.60</annotation></semantics></math>. On the other hand, using the aligned model <math id="S3.SS4.SSS0.Px1.p1.8.m8.1" class="ltx_Math" alttext="M_{1}" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.8.m8.1a"><msub id="S3.SS4.SSS0.Px1.p1.8.m8.1.1" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.2" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.3" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.8.m8.1b"><apply id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.8.m8.1c">M_{1}</annotation></semantics></math> from step 1 of sDPO as the reference model, the mean of <math id="S3.SS4.SSS0.Px1.p1.9.m9.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.9.m9.1a"><msub id="S3.SS4.SSS0.Px1.p1.9.m9.1.1" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.2" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.1" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.3" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.1a" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.4" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.9.m9.1b"><apply id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3"><times id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.9.m9.1c">\gamma_{\pi_{ref}}</annotation></semantics></math> is <math id="S3.SS4.SSS0.Px1.p1.10.m10.1" class="ltx_Math" alttext="-25.10" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.10.m10.1a"><mrow id="S3.SS4.SSS0.Px1.p1.10.m10.1.1" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.cmml"><mo id="S3.SS4.SSS0.Px1.p1.10.m10.1.1a" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.cmml">−</mo><mn id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.2" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.2.cmml">25.10</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.10.m10.1b"><apply id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1"><minus id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1"></minus><cn type="float" id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.2">25.10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.10.m10.1c">-25.10</annotation></semantics></math>, an increase of <math id="S3.SS4.SSS0.Px1.p1.11.m11.1" class="ltx_Math" alttext="13.50" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.11.m11.1a"><mn id="S3.SS4.SSS0.Px1.p1.11.m11.1.1" xref="S3.SS4.SSS0.Px1.p1.11.m11.1.1.cmml">13.50</mn><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.11.m11.1b"><cn type="float" id="S3.SS4.SSS0.Px1.p1.11.m11.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.11.m11.1.1">13.50</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.11.m11.1c">13.50</annotation></semantics></math> in <span id="S3.SS4.SSS0.Px1.p1.12.3" class="ltx_text ltx_font_italic">log scale</span>. Thus, a single step of sDPO greatly increases <math id="S3.SS4.SSS0.Px1.p1.12.m12.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.12.m12.1a"><msub id="S3.SS4.SSS0.Px1.p1.12.m12.1.1" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.2" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.2" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.1" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.3" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.1a" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.4" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.12.m12.1b"><apply id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3"><times id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.12.m12.1c">\gamma_{\pi_{ref}}</annotation></semantics></math>, which results in a more performant aligned model as seen in Tab.&nbsp;<a href="#S2.T2" title="Table 2 ‣ Target model. ‣ 2.2 Stepwise DPO ‣ 2 Methodology ‣ sDPO: Don’t Use Your Data All at Once" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
</section>
<section id="S3.SS4.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Adopting open source models as reference models could be dangerous.</h4>

<div id="S3.SS4.SSS0.Px2.p1" class="ltx_para">
<p id="S3.SS4.SSS0.Px2.p1.13" class="ltx_p">We also show mean <math id="S3.SS4.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.1.m1.1a"><msub id="S3.SS4.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.2" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.2" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.2" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.3" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1a" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.4" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.1.m1.1b"><apply id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3"><times id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.1.m1.1c">\gamma_{\pi_{ref}}</annotation></semantics></math> of <math id="S3.SS4.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="M_{2}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.2.m2.1a"><msub id="S3.SS4.SSS0.Px2.p1.2.m2.1.1" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.2" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.3" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.2.m2.1b"><apply id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.2.m2.1c">M_{2}</annotation></semantics></math>, the aligned model from step 2 of sDPO. Unlike <math id="S3.SS4.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.3.m3.1a"><mi id="S3.SS4.SSS0.Px2.p1.3.m3.1.1" xref="S3.SS4.SSS0.Px2.p1.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.3.m3.1b"><ci id="S3.SS4.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.3.m3.1c">S</annotation></semantics></math> and <math id="S3.SS4.SSS0.Px2.p1.4.m4.1" class="ltx_Math" alttext="M_{1}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.4.m4.1a"><msub id="S3.SS4.SSS0.Px2.p1.4.m4.1.1" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.2" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.3" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.4.m4.1b"><apply id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.4.m4.1c">M_{1}</annotation></semantics></math>, <math id="S3.SS4.SSS0.Px2.p1.5.m5.1" class="ltx_Math" alttext="M_{2}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.5.m5.1a"><msub id="S3.SS4.SSS0.Px2.p1.5.m5.1.1" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.2" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.3" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.5.m5.1b"><apply id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.5.m5.1c">M_{2}</annotation></semantics></math> is trained on the Ultrafeedback Cleaned dataset, <span id="S3.SS4.SSS0.Px2.p1.13.1" class="ltx_text ltx_font_italic">i.e.,</span> <math id="S3.SS4.SSS0.Px2.p1.6.m6.1" class="ltx_Math" alttext="M_{2}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.6.m6.1a"><msub id="S3.SS4.SSS0.Px2.p1.6.m6.1.1" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.2" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.3" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.6.m6.1b"><apply id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.6.m6.1c">M_{2}</annotation></semantics></math> is used as a reference model on data that was already used to train it. Note that such a case could happen commonly when adopting various open source models as reference models. This is because the datasets that were used in training those models are often unclear and could overlap with the preference datasets unintentionally. Mean <math id="S3.SS4.SSS0.Px2.p1.7.m7.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.7.m7.1a"><msub id="S3.SS4.SSS0.Px2.p1.7.m7.1.1" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.2" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.2" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.2" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.1" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.3" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.1a" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.4" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.7.m7.1b"><apply id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3"><times id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.7.m7.1c">\gamma_{\pi_{ref}}</annotation></semantics></math> of <math id="S3.SS4.SSS0.Px2.p1.8.m8.1" class="ltx_Math" alttext="M_{2}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.8.m8.1a"><msub id="S3.SS4.SSS0.Px2.p1.8.m8.1.1" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.2" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.3" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.8.m8.1b"><apply id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.8.m8.1c">M_{2}</annotation></semantics></math> is <math id="S3.SS4.SSS0.Px2.p1.9.m9.1" class="ltx_Math" alttext="84.35" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.9.m9.1a"><mn id="S3.SS4.SSS0.Px2.p1.9.m9.1.1" xref="S3.SS4.SSS0.Px2.p1.9.m9.1.1.cmml">84.35</mn><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.9.m9.1b"><cn type="float" id="S3.SS4.SSS0.Px2.p1.9.m9.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.9.m9.1.1">84.35</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.9.m9.1c">84.35</annotation></semantics></math>, which is staggeringly higher than either <math id="S3.SS4.SSS0.Px2.p1.10.m10.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.10.m10.1a"><mi id="S3.SS4.SSS0.Px2.p1.10.m10.1.1" xref="S3.SS4.SSS0.Px2.p1.10.m10.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.10.m10.1b"><ci id="S3.SS4.SSS0.Px2.p1.10.m10.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.10.m10.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.10.m10.1c">S</annotation></semantics></math> or <math id="S3.SS4.SSS0.Px2.p1.11.m11.1" class="ltx_Math" alttext="M_{1}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.11.m11.1a"><msub id="S3.SS4.SSS0.Px2.p1.11.m11.1.1" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.2" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.3" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.11.m11.1b"><apply id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.11.m11.1c">M_{1}</annotation></semantics></math>. The strikingly high value for <math id="S3.SS4.SSS0.Px2.p1.12.m12.1" class="ltx_Math" alttext="M_{2}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.12.m12.1a"><msub id="S3.SS4.SSS0.Px2.p1.12.m12.1.1" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.2" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.3" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.12.m12.1b"><apply id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.12.m12.1c">M_{2}</annotation></semantics></math> likely points to overfitting of <math id="S3.SS4.SSS0.Px2.p1.13.m13.1" class="ltx_Math" alttext="M_{2}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.13.m13.1a"><msub id="S3.SS4.SSS0.Px2.p1.13.m13.1.1" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.2" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.3" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.13.m13.1b"><apply id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.13.m13.1c">M_{2}</annotation></semantics></math> to the Ultrafeedback Cleaned dataset. This result highlights the potential danger of merely adopting open source models as reference models instead of using sDPO.</p>
</div>
</section>
</section>
<section id="S3.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.5 </span>Target Model Initialization in sDPO</h3>

<div id="S3.SS5.p1" class="ltx_para">
<p class="ltx_p" id="S3.SS5.p1.2">sDPO의 각 단계에서의 목표 모델도 마지막 단계부터 정렬된 모델인 <math alttext="M_{t-1}" class="ltx_Math" display="inline" id="S3.SS5.p1.1.m1.1"><semantics id="S3.SS5.p1.1.m1.1a"><msub id="S3.SS5.p1.1.m1.1.1" xref="S3.SS5.p1.1.m1.1.1.cmml"><mi id="S3.SS5.p1.1.m1.1.1.2" xref="S3.SS5.p1.1.m1.1.1.2.cmml">M</mi><mrow id="S3.SS5.p1.1.m1.1.1.3" xref="S3.SS5.p1.1.m1.1.1.3.cmml"><mi id="S3.SS5.p1.1.m1.1.1.3.2" xref="S3.SS5.p1.1.m1.1.1.3.2.cmml">t</mi><mo id="S3.SS5.p1.1.m1.1.1.3.1" xref="S3.SS5.p1.1.m1.1.1.3.1.cmml">−</mo><mn id="S3.SS5.p1.1.m1.1.1.3.3" xref="S3.SS5.p1.1.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.1.m1.1b"><apply id="S3.SS5.p1.1.m1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p1.1.m1.1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS5.p1.1.m1.1.1.2.cmml" xref="S3.SS5.p1.1.m1.1.1.2">𝑀</ci><apply id="S3.SS5.p1.1.m1.1.1.3.cmml" xref="S3.SS5.p1.1.m1.1.1.3"><minus id="S3.SS5.p1.1.m1.1.1.3.1.cmml" xref="S3.SS5.p1.1.m1.1.1.3.1"></minus><ci id="S3.SS5.p1.1.m1.1.1.3.2.cmml" xref="S3.SS5.p1.1.m1.1.1.3.2">𝑡</ci><cn id="S3.SS5.p1.1.m1.1.1.3.3.cmml" type="integer" xref="S3.SS5.p1.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.1.m1.1c">M_{t-1}</annotation></semantics></math>로 초기화한다. 이는 sDPO의 최종 모델이 DPO의 최종 모델과 동일한 양의 데이터로 트레이닝을 거쳤음을 보장한다. 한편, 이러한 설계 선택의 한 가지 우려는, 단계들이 진행됨에 따라 타겟 모델의 트레이닝을 안정화시키는 것이 점점 더 어려워질 수 있다는 것인데, 이는 선행 단계들에서 학습률 스케줄이 감소하는 트레이닝을 이미 겪었기 때문이다. 따라서, 다른 옵션은 초기 SFT 기본 모델 <math alttext="S" class="ltx_Math" display="inline" id="S3.SS5.p1.2.m2.1"><semantics id="S3.SS5.p1.2.m2.1a"><mi id="S3.SS5.p1.2.m2.1.1" xref="S3.SS5.p1.2.m2.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.2.m2.1b"><ci id="S3.SS5.p1.2.m2.1.1.cmml" xref="S3.SS5.p1.2.m2.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.2.m2.1c">S</annotation></semantics></math>를 sDPO의 모든 단계에 대한 타겟 모델로 사용하는 것이다.</p>
</div>
<div id="S3.SS5.p2" class="ltx_para">
<p class="ltx_p" id="S3.SS5.p2.4">그러나, 도 1에 도시된 바와 같이, <a class="ltx_ref" href="#S3.F3" title="Figure 3 ‣ 3.5 Target Model Initialization in sDPO ‣ 3 Experiments ‣ sDPO: Don’t Use Your Data All at Once"><span class="ltx_text ltx_ref_tag">3</span></a>, <math alttext="S" class="ltx_Math" display="inline" id="S3.SS5.p2.1.m1.1"><semantics id="S3.SS5.p2.1.m1.1a"><mi id="S3.SS5.p2.1.m1.1.1" xref="S3.SS5.p2.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.1.m1.1b"><ci id="S3.SS5.p2.1.m1.1.1.cmml" xref="S3.SS5.p2.1.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.1.m1.1c">S</annotation></semantics></math>로 타겟 모델을 초기화하는 것은 <math alttext="M_{t-1}" class="ltx_Math" display="inline" id="S3.SS5.p2.2.m2.1"><semantics id="S3.SS5.p2.2.m2.1a"><msub id="S3.SS5.p2.2.m2.1.1" xref="S3.SS5.p2.2.m2.1.1.cmml"><mi id="S3.SS5.p2.2.m2.1.1.2" xref="S3.SS5.p2.2.m2.1.1.2.cmml">M</mi><mrow id="S3.SS5.p2.2.m2.1.1.3" xref="S3.SS5.p2.2.m2.1.1.3.cmml"><mi id="S3.SS5.p2.2.m2.1.1.3.2" xref="S3.SS5.p2.2.m2.1.1.3.2.cmml">t</mi><mo id="S3.SS5.p2.2.m2.1.1.3.1" xref="S3.SS5.p2.2.m2.1.1.3.1.cmml">−</mo><mn id="S3.SS5.p2.2.m2.1.1.3.3" xref="S3.SS5.p2.2.m2.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.2.m2.1b"><apply id="S3.SS5.p2.2.m2.1.1.cmml" xref="S3.SS5.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.2.m2.1.1.1.cmml" xref="S3.SS5.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS5.p2.2.m2.1.1.2.cmml" xref="S3.SS5.p2.2.m2.1.1.2">𝑀</ci><apply id="S3.SS5.p2.2.m2.1.1.3.cmml" xref="S3.SS5.p2.2.m2.1.1.3"><minus id="S3.SS5.p2.2.m2.1.1.3.1.cmml" xref="S3.SS5.p2.2.m2.1.1.3.1"></minus><ci id="S3.SS5.p2.2.m2.1.1.3.2.cmml" xref="S3.SS5.p2.2.m2.1.1.3.2">𝑡</ci><cn id="S3.SS5.p2.2.m2.1.1.3.3.cmml" type="integer" xref="S3.SS5.p2.2.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.2.m2.1c">M_{t-1}</annotation></semantics></math>보다 훨씬 큰 초기 손실을 초래하여 불안정한 훈련으로 이어질 수 있다. 주요 이유는 DPO 훈련이 일반적으로 참조 모델과 대상 모델이 동일한 곳에서 수행되기 때문이다. 대조적으로, 타겟 모델을 <math alttext="S" class="ltx_Math" display="inline" id="S3.SS5.p2.3.m3.1"><semantics id="S3.SS5.p2.3.m3.1a"><mi id="S3.SS5.p2.3.m3.1.1" xref="S3.SS5.p2.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.3.m3.1b"><ci id="S3.SS5.p2.3.m3.1.1.cmml" xref="S3.SS5.p2.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.3.m3.1c">S</annotation></semantics></math>로 초기화하는 것은 기준 및 타겟 모델에 미분을 생성하며, 이는 단계가 진행됨에 따라 증폭될 수 있다. 따라서 안정적인 훈련을 위해 sDPO에는 <math alttext="M_{t-1}" class="ltx_Math" display="inline" id="S3.SS5.p2.4.m4.1"><semantics id="S3.SS5.p2.4.m4.1a"><msub id="S3.SS5.p2.4.m4.1.1" xref="S3.SS5.p2.4.m4.1.1.cmml"><mi id="S3.SS5.p2.4.m4.1.1.2" xref="S3.SS5.p2.4.m4.1.1.2.cmml">M</mi><mrow id="S3.SS5.p2.4.m4.1.1.3" xref="S3.SS5.p2.4.m4.1.1.3.cmml"><mi id="S3.SS5.p2.4.m4.1.1.3.2" xref="S3.SS5.p2.4.m4.1.1.3.2.cmml">t</mi><mo id="S3.SS5.p2.4.m4.1.1.3.1" xref="S3.SS5.p2.4.m4.1.1.3.1.cmml">−</mo><mn id="S3.SS5.p2.4.m4.1.1.3.3" xref="S3.SS5.p2.4.m4.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.4.m4.1b"><apply id="S3.SS5.p2.4.m4.1.1.cmml" xref="S3.SS5.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.4.m4.1.1.1.cmml" xref="S3.SS5.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS5.p2.4.m4.1.1.2.cmml" xref="S3.SS5.p2.4.m4.1.1.2">𝑀</ci><apply id="S3.SS5.p2.4.m4.1.1.3.cmml" xref="S3.SS5.p2.4.m4.1.1.3"><minus id="S3.SS5.p2.4.m4.1.1.3.1.cmml" xref="S3.SS5.p2.4.m4.1.1.3.1"></minus><ci id="S3.SS5.p2.4.m4.1.1.3.2.cmml" xref="S3.SS5.p2.4.m4.1.1.3.2">𝑡</ci><cn id="S3.SS5.p2.4.m4.1.1.3.3.cmml" type="integer" xref="S3.SS5.p2.4.m4.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.4.m4.1c">M_{t-1}</annotation></semantics></math>로 타겟 모델을 초기화하는 것이 선택되었다.</p>
</div>
<figure id="S3.F3" class="ltx_figure">
<div id="S3.F3.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:368.6pt;height:151.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(44.0pt,-18.1pt) scale(1.31368174121967,1.31368174121967) ;"><img src="https://ar5iv.labs.arxiv.org/html/2403.19270/assets/x3.png" id="S3.F3.1.g1" class="ltx_graphics ltx_img_landscape" width="292" height="123" alt="Refer to caption">
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">그림 3:</span>타겟 모델의 상이한 초기화에 대한 sDPO의 단계 2에서의 손실 곡선 비교.</figcaption>
</figure>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Conclusion</h2>

<div id="S4.p1" class="ltx_para">
<p class="ltx_p" id="S4.p1.1">우리는 선호도 데이터를 한 번에 사용하지 않고 단계적으로 사용하는 sDPO를 제안한다. 우리는 sDPO를 적용하면 H4 점수 측면에서 DPO보다 더 많은 성능 모델이 생성된다는 것을 보여준다. 또한 평균 <math alttext="\gamma_{\pi_{ref}}" class="ltx_Math" display="inline" id="S4.p1.1.m1.1"><semantics id="S4.p1.1.m1.1a"><msub id="S4.p1.1.m1.1.1" xref="S4.p1.1.m1.1.1.cmml"><mi id="S4.p1.1.m1.1.1.2" xref="S4.p1.1.m1.1.1.2.cmml">γ</mi><msub id="S4.p1.1.m1.1.1.3" xref="S4.p1.1.m1.1.1.3.cmml"><mi id="S4.p1.1.m1.1.1.3.2" xref="S4.p1.1.m1.1.1.3.2.cmml">π</mi><mrow id="S4.p1.1.m1.1.1.3.3" xref="S4.p1.1.m1.1.1.3.3.cmml"><mi id="S4.p1.1.m1.1.1.3.3.2" xref="S4.p1.1.m1.1.1.3.3.2.cmml">r</mi><mo id="S4.p1.1.m1.1.1.3.3.1" lspace="0em" rspace="0em" xref="S4.p1.1.m1.1.1.3.3.1.cmml">​</mo><mi id="S4.p1.1.m1.1.1.3.3.3" xref="S4.p1.1.m1.1.1.3.3.3.cmml">e</mi><mo id="S4.p1.1.m1.1.1.3.3.1a" lspace="0em" rspace="0em" xref="S4.p1.1.m1.1.1.3.3.1.cmml">​</mo><mi id="S4.p1.1.m1.1.1.3.3.4" xref="S4.p1.1.m1.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S4.p1.1.m1.1b"><apply id="S4.p1.1.m1.1.1.cmml" xref="S4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.p1.1.m1.1.1.1.cmml" xref="S4.p1.1.m1.1.1">subscript</csymbol><ci id="S4.p1.1.m1.1.1.2.cmml" xref="S4.p1.1.m1.1.1.2">𝛾</ci><apply id="S4.p1.1.m1.1.1.3.cmml" xref="S4.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.p1.1.m1.1.1.3.1.cmml" xref="S4.p1.1.m1.1.1.3">subscript</csymbol><ci id="S4.p1.1.m1.1.1.3.2.cmml" xref="S4.p1.1.m1.1.1.3.2">𝜋</ci><apply id="S4.p1.1.m1.1.1.3.3.cmml" xref="S4.p1.1.m1.1.1.3.3"><times id="S4.p1.1.m1.1.1.3.3.1.cmml" xref="S4.p1.1.m1.1.1.3.3.1"></times><ci id="S4.p1.1.m1.1.1.3.3.2.cmml" xref="S4.p1.1.m1.1.1.3.3.2">𝑟</ci><ci id="S4.p1.1.m1.1.1.3.3.3.cmml" xref="S4.p1.1.m1.1.1.3.3.3">𝑒</ci><ci id="S4.p1.1.m1.1.1.3.3.4.cmml" xref="S4.p1.1.m1.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.1.m1.1c">\gamma_{\pi_{ref}}</annotation></semantics></math>를 비교하여 sDPO가 더 정렬된 참조 모델을 생성한다는 것을 경험적으로 보여준다.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Limitations</h2>

<div id="Sx1.p1" class="ltx_para">
<p class="ltx_p" id="Sx1.p1.1">sDPO의 별개의 단계에서 서로 다른 데이터 세트를 사용하는 효과를 입증했지만 더 복잡한 DPO 데이터 모음을 분할하기 위한 최적의 전략을 식별하는 것은 추가 탐색을 위한 영역으로 남아 있다. 이 작업은 이러한 데이터 세트 내의 복잡성으로 인해 특히 어렵다. 우리의 접근법은 유망하지만 데이터 세트 특성과 sDPO의 성능에 미치는 영향에 대한 더 깊은 이해가 필요하다.</p>
</div>
<div id="Sx1.p2" class="ltx_para">
<p class="ltx_p" id="Sx1.p2.1">또한, 우리의 실험은 고유한 107억 매개변수 크기와 함께 실험 당시 최첨단 성능에 의해 주도된 SOLAR 10.7B 모델을 주로 활용했다. SOLAR 10.7B 모델의 고유한 크기는 참조 모델로 채택할 수 있는 오픈 소스 LLM이 훨씬 적기 때문에 sDPO의 사용을 더 필요로 했다.</p>
</div>
<div id="Sx1.p3" class="ltx_para">
<p class="ltx_p" id="Sx1.p3.1">또한 LLM에 대한 대부분의 연구와 마찬가지로 계산 리소스의 한계 내에서 작동했다. 이 초점은 상당한 통찰력을 얻었지만 광범위한 대규모 언어 모델(LLM)을 통합하기 위해 실험 프레임워크를 확장하면 sDPO의 강점과 한계에 대한 보다 포괄적인 이해도를 잠재적으로 공개할 수 있다. 이러한 확장은 다양한 모델 아키텍처와 크기에 걸쳐 보다 강력한 비교를 가능하게 하여 연구 결과를 더욱 풍부하게 할 것이다.</p>
</div>
<div id="Sx1.p4" class="ltx_para">
<p class="ltx_p" id="Sx1.p4.1">LLM의 효능을 평가하는 것은 이 분야에서 진화하는 도전이다. 우리의 연구에서 우리는 평가를 위한 벤치마크로 Huggingface Open LLM 리더보드의 작업을 주로 사용했다. 이는 비교 결과를 제공했지만 향후 연구는 광범위한 작업 및 벤치마크를 통합하는 데 도움이 될 수 있다. 여기에는 실제 인간 또는 강력한 AI 선호도 정렬을 판단하는 작업이 포함될 수 있다. 이러한 추가 평가는 연구 결과의 타당성을 향상시킬 뿐만 아니라 LLM 평가 방법론에 대한 광범위한 담론에 기여할 것이다.</p>
</div>
</section>
<section id="Sx2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Ethics Statement</h2>

<div id="Sx2.p1" class="ltx_para">
<p class="ltx_p" id="Sx2.p1.1">이 연구에서 우리는 연구 수행에서 윤리 기준을 엄격하게 준수했다. 우리의 실험은 투명성과 접근성을 보장하기 위해 완전히 개방형 모델과 개방형 데이터 세트를 기반으로 했다. 편향이나 데이터 오염을 방지하기 위해 세심한 주의를 기울여 연구 프로세스의 무결성을 유지했다. 실험 환경은 객관적으로 엄격하게 설계되어 수행된 모든 비교가 공정하고 공정하도록 했다. 이 접근법은 연구 결과의 신뢰성과 타당성을 강화하여 가장 높은 윤리적 기준을 유지하면서 현장에 긍정적으로 기여한다. 실험에 사용된 모든 데이터에 라이선스 문제가 없음을 확인했다.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Anil et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Rohan Anil, Andrew&nbsp;M Dai, Orhan Firat, Melvin Johnson, Dmitry Lepikhin, Alexandre Passos, Siamak Shakeri, Emanuel Taropa, Paige Bailey, Zhifeng Chen, et&nbsp;al. 2023.

</span>
<span class="ltx_bibblock">Palm 2 technical report.

</span>
<span class="ltx_bibblock"><em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2305.10403</em>.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bai et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Yuntao Bai, Saurav Kadavath, Sandipan Kundu, Amanda Askell, Jackson Kernion, Andy Jones, Anna Chen, Anna Goldie, Azalia Mirhoseini, Cameron McKinnon, et&nbsp;al. 2022.

</span>
<span class="ltx_bibblock">Constitutional ai: Harmlessness from ai feedback.

</span>
<span class="ltx_bibblock"><em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2212.08073</em>.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Beeching et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Edward Beeching, Clémentine Fourrier, Nathan Habib, Sheon Han, Nathan Lambert, Nazneen Rajani, Omar Sanseviero, Lewis Tunstall, and Thomas Wolf. 2023.

</span>
<span class="ltx_bibblock">Open llm leaderboard.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://huggingface.co/spaces/HuggingFaceH4/open_llm_leaderboard" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://huggingface.co/spaces/HuggingFaceH4/open_llm_leaderboard</a>.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et&nbsp;al. (2020)</span>
<span class="ltx_bibblock">
Tom Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared&nbsp;D Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell, et&nbsp;al. 2020.

</span>
<span class="ltx_bibblock">Language models are few-shot learners.

</span>
<span class="ltx_bibblock"><em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">Advances in neural information processing systems</em>, 33:1877–1901.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Christiano et&nbsp;al. (2017)</span>
<span class="ltx_bibblock">
Paul&nbsp;F Christiano, Jan Leike, Tom Brown, Miljan Martic, Shane Legg, and Dario Amodei. 2017.

</span>
<span class="ltx_bibblock">Deep reinforcement learning from human preferences.

</span>
<span class="ltx_bibblock"><em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">Advances in neural information processing systems</em>, 30.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Clark et&nbsp;al. (2018)</span>
<span class="ltx_bibblock">
Peter Clark, Isaac Cowhey, Oren Etzioni, Tushar Khot, Ashish Sabharwal, Carissa Schoenick, and Oyvind Tafjord. 2018.

</span>
<span class="ltx_bibblock">Think you have solved question answering? try arc, the ai2 reasoning challenge.

</span>
<span class="ltx_bibblock"><em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1803.05457</em>.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cobbe et&nbsp;al. (2021)</span>
<span class="ltx_bibblock">
Karl Cobbe, Vineet Kosaraju, Mohammad Bavarian, Mark Chen, Heewoo Jun, Lukasz Kaiser, Matthias Plappert, Jerry Tworek, Jacob Hilton, Reiichiro Nakano, et&nbsp;al. 2021.

</span>
<span class="ltx_bibblock">Training verifiers to solve math word problems.

</span>
<span class="ltx_bibblock"><em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2110.14168</em>.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cui et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Ganqu Cui, Lifan Yuan, Ning Ding, Guanming Yao, Wei Zhu, Yuan Ni, Guotong Xie, Zhiyuan Liu, and Maosong Sun. 2023.

</span>
<span class="ltx_bibblock">Ultrafeedback: Boosting language models with high-quality feedback.

</span>
<span class="ltx_bibblock"><em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2310.01377</em>.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dong et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Hanze Dong, Wei Xiong, Deepanshu Goyal, Rui Pan, Shizhe Diao, Jipeng Zhang, Kashun Shum, and Tong Zhang. 2023.

</span>
<span class="ltx_bibblock">Raft: Reward ranked finetuning for generative foundation model alignment.

</span>
<span class="ltx_bibblock"><em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2304.06767</em>.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hendrycks et&nbsp;al. (2020)</span>
<span class="ltx_bibblock">
Dan Hendrycks, Collin Burns, Steven Basart, Andy Zou, Mantas Mazeika, Dawn Song, and Jacob Steinhardt. 2020.

</span>
<span class="ltx_bibblock">Measuring massive multitask language understanding.

</span>
<span class="ltx_bibblock">In <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hernandez et&nbsp;al. (2021)</span>
<span class="ltx_bibblock">
Danny Hernandez, Jared Kaplan, Tom Henighan, and Sam McCandlish. 2021.

</span>
<span class="ltx_bibblock">Scaling laws for transfer.

</span>
<span class="ltx_bibblock"><em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2102.01293</em>.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Intel (2023a)</span>
<span class="ltx_bibblock">
Intel. 2023a.

</span>
<span class="ltx_bibblock">Intel/neural-chat-7b-v3-1.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://huggingface.co/Intel/neural-chat-7b-v3-1" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://huggingface.co/Intel/neural-chat-7b-v3-1</a>.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Intel (2023b)</span>
<span class="ltx_bibblock">
Intel. 2023b.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://medium.com/intel-analytics-software/the-practice-of-supervised-finetuning-and-direct-preference-optimization-on-habana-gaudi2-a1197d8a3cd3" title="" class="ltx_ref ltx_href">Supervised fine-tuning and direct preference optimization on intel gaudi2</a>.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ivison et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Hamish Ivison, Yizhong Wang, Valentina Pyatkin, Nathan Lambert, Matthew Peters, Pradeep Dasigi, Joel Jang, David Wadden, Noah&nbsp;A. Smith, Iz&nbsp;Beltagy, and Hannaneh Hajishirzi. 2023.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://arxiv.org/abs/2311.10702" title="" class="ltx_ref ltx_href">Camels in a changing climate: Enhancing lm adaptation with tulu 2</a>.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kaplan et&nbsp;al. (2020)</span>
<span class="ltx_bibblock">
Jared Kaplan, Sam McCandlish, Tom Henighan, Tom&nbsp;B Brown, Benjamin Chess, Rewon Child, Scott Gray, Alec Radford, Jeffrey Wu, and Dario Amodei. 2020.

</span>
<span class="ltx_bibblock">Scaling laws for neural language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2001.08361</em>.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kim et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Dahyun Kim, Chanjun Park, Sanghoon Kim, Wonsung Lee, Wonho Song, Yunsu Kim, Hyeonwoo Kim, Yungi Kim, Hyeonju Lee, Jihoo Kim, Changbae Ahn, Seonghoon Yang, Sukyung Lee, Hyunbyung Park, Gyoungjin Gim, Mikyoung Cha, Hwalsuk Lee, and Sunghun Kim. 2023.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://arxiv.org/abs/2312.15166" title="" class="ltx_ref ltx_href">Solar 10.7b: Scaling large language models with simple yet effective depth up-scaling</a>.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lian et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Wing Lian, Bleys Goodson, Guan Wang, Eugene Pentland, Austin Cook, Chanvichet Vong, and "Teknium". 2023.

</span>
<span class="ltx_bibblock">Mistralorca: Mistral-7b model instruct-tuned on filtered openorcav1 gpt-4 dataset.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://huggingface.co/Open-Orca/Mistral-7B-OpenOrca" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://huggingface.co/Open-Orca/Mistral-7B-OpenOrca</a>.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Stephanie Lin, Jacob Hilton, and Owain Evans. 2022.

</span>
<span class="ltx_bibblock">Truthfulqa: Measuring how models mimic human falsehoods.

</span>
<span class="ltx_bibblock">In <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 60th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pages 3214–3252.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mukherjee et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Subhabrata Mukherjee, Arindam Mitra, Ganesh Jawahar, Sahaj Agarwal, Hamid Palangi, and Ahmed Awadallah. 2023.

</span>
<span class="ltx_bibblock">Orca: Progressive learning from complex explanation traces of gpt-4.

</span>
<span class="ltx_bibblock"><em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2306.02707</em>.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI (2023)</span>
<span class="ltx_bibblock">
OpenAI. 2023.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://arxiv.org/abs/2303.08774" title="" class="ltx_ref ltx_href">Gpt-4 technical report</a>.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et&nbsp;al. (2019)</span>
<span class="ltx_bibblock">
Alec Radford, Jeffrey Wu, Rewon Child, David Luan, Dario Amodei, Ilya Sutskever, et&nbsp;al. 2019.

</span>
<span class="ltx_bibblock">Language models are unsupervised multitask learners.

</span>
<span class="ltx_bibblock"><em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">OpenAI blog</em>, 1(8):9.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rafailov et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Rafael Rafailov, Archit Sharma, Eric Mitchell, Stefano Ermon, Christopher&nbsp;D Manning, and Chelsea Finn. 2023.

</span>
<span class="ltx_bibblock">Direct preference optimization: Your language model is secretly a reward model.

</span>
<span class="ltx_bibblock"><em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2305.18290</em>.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sakaguchi et&nbsp;al. (2021)</span>
<span class="ltx_bibblock">
Keisuke Sakaguchi, Ronan&nbsp;Le Bras, Chandra Bhagavatula, and Yejin Choi. 2021.

</span>
<span class="ltx_bibblock">Winogrande: An adversarial winograd schema challenge at scale.

</span>
<span class="ltx_bibblock"><em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">Communications of the ACM</em>, 64(9):99–106.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schulman et&nbsp;al. (2017)</span>
<span class="ltx_bibblock">
John Schulman, Filip Wolski, Prafulla Dhariwal, Alec Radford, and Oleg Klimov. 2017.

</span>
<span class="ltx_bibblock">Proximal policy optimization algorithms.

</span>
<span class="ltx_bibblock"><em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1707.06347</em>.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Teknium (2023)</span>
<span class="ltx_bibblock">
Teknium. 2023.

</span>
<span class="ltx_bibblock">teknium/openhermes-2.5-mistral-7b.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://huggingface.co/teknium/OpenHermes-2.5-Mistral-7B" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://huggingface.co/teknium/OpenHermes-2.5-Mistral-7B</a>.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tunstall et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Lewis Tunstall, Edward Beeching, Nathan Lambert, Nazneen Rajani, Kashif Rasul, Younes Belkada, Shengyi Huang, Leandro von Werra, Clémentine Fourrier, Nathan Habib, et&nbsp;al. 2023.

</span>
<span class="ltx_bibblock">Zephyr: Direct distillation of lm alignment.

</span>
<span class="ltx_bibblock"><em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2310.16944</em>.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Upstage (2023)</span>
<span class="ltx_bibblock">
Upstage. 2023.

</span>
<span class="ltx_bibblock">upstage/solar-0-70b-16bit.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://huggingface.co/upstage/SOLAR-0-70b-16bit" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://huggingface.co/upstage/SOLAR-0-70b-16bit</a>.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Jason Wei, Yi&nbsp;Tay, Rishi Bommasani, Colin Raffel, Barret Zoph, Sebastian Borgeaud, Dani Yogatama, Maarten Bosma, Denny Zhou, Donald Metzler, et&nbsp;al. 2022.

</span>
<span class="ltx_bibblock">Emergent abilities of large language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2206.07682</em>.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Weizhe Yuan, Richard&nbsp;Yuanzhe Pang, Kyunghyun Cho, Sainbayar Sukhbaatar, Jing Xu, and Jason Weston. 2024.

</span>
<span class="ltx_bibblock">Self-rewarding language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2401.10020</em>.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Zheng Yuan, Hongyi Yuan, Chuanqi Tan, Wei Wang, Songfang Huang, and Fei Huang. 2023.

</span>
<span class="ltx_bibblock">Rrhf: Rank responses to align language models with human feedback without tears.

</span>
<span class="ltx_bibblock"><em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2304.05302</em>.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zellers et&nbsp;al. (2019)</span>
<span class="ltx_bibblock">
Rowan Zellers, Ari Holtzman, Yonatan Bisk, Ali Farhadi, and Yejin Choi. 2019.

</span>
<span class="ltx_bibblock">Hellaswag: Can a machine really finish your sentence?

</span>
<span class="ltx_bibblock">In <em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 57th Annual Meeting of the Association for Computational Linguistics</em>, pages 4791–4800.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ziegler et&nbsp;al. (2019)</span>
<span class="ltx_bibblock">
Daniel&nbsp;M Ziegler, Nisan Stiennon, Jeffrey Wu, Tom&nbsp;B Brown, Alec Radford, Dario Amodei, Paul Christiano, and Geoffrey Irving. 2019.

</span>
<span class="ltx_bibblock">Fine-tuning language models from human preferences.

</span>
<span class="ltx_bibblock"><em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1909.08593</em>.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Related Work</h2>

<section id="A1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Large Language Models</h3>

<div id="A1.SS1.p1" class="ltx_para">
<p class="ltx_p" id="A1.SS1.p1.1">최근 연구에서는 문맥 기반 언어 모델 <cite class="ltx_cite ltx_citemacro_cite">Kaplan et al. (<a class="ltx_ref" href="#bib.bib15" title="">2020</a>); Hernandez et al. (<a class="ltx_ref" href="#bib.bib11" title="">2021</a>); Anil et al. (<a class="ltx_ref" href="#bib.bib1" title="">2023</a>)</cite> 분야에서 "스케일링 법칙"을 강조하여 모델의 크기와 학습 데이터 간의 비례 관계를 보여주고 있다. 결과적으로, 이것은 대규모 언어 모델(LLM)의 출현으로 이어졌다. 이전 모델과 달리 LLM은 제로 샷 학습 <cite class="ltx_cite ltx_citemacro_cite">Radford et al. (<a class="ltx_ref" href="#bib.bib21" title="">2019</a>)</cite> 및 소수의 샷 학습 <cite class="ltx_cite ltx_citemacro_cite">Brown et al. (<a class="ltx_ref" href="#bib.bib4" title="">2020</a>)</cite>와 같은 능력을 포함하는 컨텍스트 내 학습을 수행할 수 있어 가중치 조정이 필요 없이 작업을 적응하고 수행할 수 있다. LLM의 이러한 출현 능력은 더 작은 대응물에 없는 언어 모델 능력<cite class="ltx_cite ltx_citemacro_cite">Wei et al. (<a class="ltx_ref" href="#bib.bib28" title="">2022</a>)</cite>에서 상당한 진화를 나타낸다.</p>
</div>
</section>
<section id="A1.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Alignment Tuning</h3>

<div id="A1.SS2.p1" class="ltx_para">
<p class="ltx_p" id="A1.SS2.p1.1">LLM은 <cite class="ltx_cite ltx_citemacro_cite">Ziegler et al. (<a class="ltx_ref" href="#bib.bib32" title="">2019</a>)</cite>에 표시된 것처럼 사전 훈련이 인간의 의도에 대한 이해가 아니라 광범위한 도메인 특정 지식에 기반하기 때문에 인간 해석자에게 언어적으로 일관되지 않은 것처럼 보일 수 있는 텍스트를 생성하는 것으로 인식되었다. 이 문제를 바로잡고 인간의 의도를 더 잘 반영하기 위해, 선행 연구 <cite class="ltx_cite ltx_citemacro_cite">Ziegler et al. (<a class="ltx_ref" href="#bib.bib32" title="">2019</a>)</cite>는 인간 피드백과 함께 강화 학습(RLHF)의 채택을 제안했다. RLHF는 인간의 선호도와 일치하는 보상 모델을 구성하고 강화 학습을 적용하여 LLM을 가장 유리한 보상 메트릭을 얻는 선택으로 지향함으로써 LLM의 출력을 정제하고자 한다. 이 접근법은 LLM에 의해 생성된 응답의 안전, 예의 및 일반적인 우수성을 강화하기 위한 것이다. 그럼에도 불구하고 유망한 결과를 보여주었음에도 불구하고 RLHF는 광범위한 하이퍼파라미터 세트의 복잡한 처리 및 여러 모델(정책, 가치, 보상 및 참조 모델)을 통합해야 하는 필요성과 같은 문제에 직면해 있다.</p>
</div>
<div id="A1.SS2.p2" class="ltx_para">
<p class="ltx_p" id="A1.SS2.p2.1">이러한 문제를 해결하기 위해 RRHF(Human Feedback) <cite class="ltx_cite ltx_citemacro_cite">Yuan et al. (<a class="ltx_ref" href="#bib.bib30" title="">2023</a>)</cite>, RAFT(Reward rAnked FineTuning) <cite class="ltx_cite ltx_citemacro_cite">Dong et al. (<a class="ltx_ref" href="#bib.bib9" title="">2023</a>)</cite>, DPO(Direct Preference Optimization) <cite class="ltx_cite ltx_citemacro_cite">Rafailov et al. (<a class="ltx_ref" href="#bib.bib22" title="">2023</a>)</cite>와 같은 감독 미세 조정 방법론에 대한 제안이 있었다. 이러한 방법은 강화 학습에 내재된 복잡성을 우회하며 RLHF와 동등한 경험적 결과를 산출하는 것으로 나타났다. 특히, DPO 기법은 LLM이 긍정적인 반응을 선호하고 부정적인 반응을 억제하도록 쉽게 장려한다. DPO는 복잡하지 않은 훈련 절차에도 불구하고 성능이 뛰어난 학습 결과를 산출하는 것으로 관찰되었다.</p>
</div>
<div id="A1.SS2.p3" class="ltx_para">
<p class="ltx_p" id="A1.SS2.p3.1">우리의 작업과 동시에 <cite class="ltx_cite ltx_citemacro_citet">Yuan et al. (<a class="ltx_ref" href="#bib.bib29" title="">2024</a>)</cite>는 <span class="ltx_text ltx_font_italic" id="A1.SS2.p3.1.1">new</span> 선호 데이터 세트를 생성하고 결과 데이터 세트에 대해 DPO 훈련을 수행하기 위한 반복 프레임워크를 개발했다. 그들은 AlpacaEval 2.0 측면에서 반복 프레임워크의 우수성을 경험적으로 입증했다. 대조적으로, 우리의 작업은 <span class="ltx_text ltx_font_italic" id="A1.SS2.p3.1.2">current</span> 선호 데이터를 활용하는 데 중점을 두고 새로운 데이터 생성을 거치지 않는다는 점에서 위의 것과 보완적이다. 따라서 DPO 학습 부분을 sDPO를 대신 사용하는 것으로 변경하여 <cite class="ltx_cite ltx_citemacro_citet">Yuan et al. (<a class="ltx_ref" href="#bib.bib29" title="">2024</a>)</cite>에도 적용할 수 있다. 우리는 위의 조합을 흥미로운 미래 작업으로 남겨둔다. 또한 <cite class="ltx_cite ltx_citemacro_citet">Yuan et al. (<a class="ltx_ref" href="#bib.bib29" title="">2024</a>)</cite>에서 사용된 평가도 Open LLM Leaderboard의 작업을 활용하는 반면 <cite class="ltx_cite ltx_citemacro_citet">Yuan et al. (<a class="ltx_ref" href="#bib.bib29" title="">2024</a>)</cite>는 AlpacaEval 2.0을 사용하기 때문에 우리와 다르다.</p>
</div>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="https://ar5iv.labs.arxiv.org/html/2403.19269" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="https://ar5iv.labs.arxiv.org/"><img height="40" alt="ar5iv homepage" src="https://ar5iv.labs.arxiv.org/assets/ar5iv.png"></a>
    <a href="https://ar5iv.labs.arxiv.org/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="https://ar5iv.labs.arxiv.org/log/2403.19270" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&amp;title=Improve+article+2403.19270">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2403.19270" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="https://ar5iv.labs.arxiv.org/html/2403.19271" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Fri Apr  5 16:07:34 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    

</body></html>