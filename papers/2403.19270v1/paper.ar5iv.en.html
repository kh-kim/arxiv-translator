<html lang="en" data-theme="light"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2403.19270] sDPO: Don’t Use Your Data All at Once</title><meta property="og:description" content="As development of large language models (LLM) progresses, aligning them with human preferences has become increasingly important. We propose stepwise DPO (sDPO), an extension of the recently popularized direct preferen…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="sDPO: Don’t Use Your Data All at Once">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="sDPO: Don’t Use Your Data All at Once">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2403.19270">

<!--Generated on Fri Apr  5 16:07:34 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.7.9.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.7.9.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document">
<h1 class="ltx_title ltx_title_document">sDPO: Don’t Use Your Data All at Once</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Dahyun Kim, Yungi Kim, Wonho Song, Hyeonwoo Kim, Yunsu Kim, Sanghoon Kim
<br class="ltx_break"><span id="id1.1.1" class="ltx_text ltx_font_bold">Chanjun Park<sup id="id1.1.1.1" class="ltx_sup"><span id="id1.1.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic">†</span></sup>
<br class="ltx_break">
<br class="ltx_break"></span>Upstage AI, South Korea 
<br class="ltx_break"><span id="id2.2.id1" class="ltx_text ltx_font_typewriter">{kdahyun, eddie, ynot, choco_9966, yoonsoo, limerobot, chanjun.park}@upstage.ai</span>
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><sup id="footnote1.1" class="ltx_sup">†</sup> Corresponding Author</span></span></span>
<p id="id3.id1" class="ltx_p">As development of large language models (LLM) progresses, aligning them with human preferences has become increasingly important. We propose stepwise DPO (sDPO), an extension of the recently popularized direct preference optimization (DPO) for alignment tuning. This approach involves dividing the available preference datasets and utilizing them in a stepwise manner, rather than employing it all at once. We demonstrate that this method facilitates the use of more precisely aligned reference models within the DPO training framework. Furthermore, sDPO trains the final model to be more performant, even outperforming other popular LLMs with more parameters.</p>
</div>
<div id="p1" class="ltx_para ltx_noindent">
<div id="p1.1" class="ltx_block ltx_align_bottom">
<p id="p1.1.2" class="ltx_p"><span id="p1.1.2.1" class="ltx_text ltx_font_bold">sDPO: Don’t Use Your Data All at Once</span></p>
<br class="ltx_break ltx_centering">
<p id="p1.1.1" class="ltx_p ltx_align_center" style="width:433.6pt;"><span id="p1.1.1.1" class="ltx_text ltx_inline-block" style="width:0.0pt;">

<span id="p1.1.1.1.1" class="ltx_tabular ltx_align_top">
<span class="ltx_tbody">
<span id="p1.1.1.1.1.2.1" class="ltx_tr">
<span id="p1.1.1.1.1.2.1.1" class="ltx_td ltx_align_center"><span id="p1.1.1.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Dahyun Kim, Yungi Kim, Wonho Song, Hyeonwoo Kim, Yunsu Kim, Sanghoon Kim</span></span></span>
<span id="p1.1.1.1.1.1" class="ltx_tr">
<span id="p1.1.1.1.1.1.1" class="ltx_td ltx_align_center"><span id="p1.1.1.1.1.1.1.1" class="ltx_text ltx_font_bold">Chanjun Park<sup id="p1.1.1.1.1.1.1.1.1" class="ltx_sup"><span id="p1.1.1.1.1.1.1.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic">†</span></sup></span></span></span>
<span id="p1.1.1.1.1.3.2" class="ltx_tr">
<span id="p1.1.1.1.1.3.2.1" class="ltx_td ltx_align_center">Upstage AI, South Korea</span></span>
<span id="p1.1.1.1.1.4.3" class="ltx_tr">
<span id="p1.1.1.1.1.4.3.1" class="ltx_td ltx_align_center"><span id="p1.1.1.1.1.4.3.1.1" class="ltx_text ltx_font_typewriter">{kdahyun, eddie, ynot, choco_9966, yoonsoo, limerobot, chanjun.park}@upstage.ai</span></span></span>
</span>
</span></span></p>
<br class="ltx_break ltx_centering">
</div>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Large language models (LLMs) have revolutionized the field of natural language processing (NLP) through a training process that includes pre-training, supervised fine-tuning, and alignment tuning, with the latter ensuring the safety and usefulness of the model.
Thus, reinforcement learning techniques&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Christiano et&nbsp;al. (<a href="#bib.bib5" title="" class="ltx_ref">2017</a>); Bai et&nbsp;al. (<a href="#bib.bib2" title="" class="ltx_ref">2022</a>)</cite>, such as proximal policy optimization (PPO)&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Schulman et&nbsp;al. (<a href="#bib.bib24" title="" class="ltx_ref">2017</a>)</cite>, are key in this alignment phase, despite their complexity.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">To address the complicated nature of reinforcement learning in LLM training, direct preference optimization (DPO)&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Rafailov et&nbsp;al. (<a href="#bib.bib22" title="" class="ltx_ref">2023</a>)</cite>, among other methods&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Yuan et&nbsp;al. (<a href="#bib.bib30" title="" class="ltx_ref">2023</a>); Dong et&nbsp;al. (<a href="#bib.bib9" title="" class="ltx_ref">2023</a>)</cite>, have been popularized for its simplicity and effectiveness. DPO involves curating preference datasets using human or strong AI (<span id="S1.p2.1.1" class="ltx_text ltx_font_italic">e.g.,</span> GPT-4&nbsp;<cite class="ltx_cite ltx_citemacro_cite">OpenAI (<a href="#bib.bib20" title="" class="ltx_ref">2023</a>)</cite>) judgement to select chosen and rejected responses to questions. These datasets are used to train LLMs by comparing log probabilities of chosen versus rejected answers. However, obtaining these probabilities can be challenging with proprietary models like GPT-4, since they do not offer log probabilities for inputs.</p>
</div>
<figure id="S1.T1" class="ltx_table">
<div id="S1.T1.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:390.3pt;height:212.6pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(46.5pt,-25.3pt) scale(1.31263856386136,1.31263856386136) ;">
<table id="S1.T1.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S1.T1.1.1.1.1" class="ltx_tr">
<th id="S1.T1.1.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt">Model</th>
<th id="S1.T1.1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Reference Model</th>
<th id="S1.T1.1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">H4</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S1.T1.1.1.2.1" class="ltx_tr">
<th id="S1.T1.1.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">Mistral-7B-OpenOrca</th>
<td id="S1.T1.1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t">N/A</td>
<td id="S1.T1.1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t">65.84</td>
</tr>
<tr id="S1.T1.1.1.3.2" class="ltx_tr">
<th id="S1.T1.1.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Mistral-7B-OpenOrca + DPO</th>
<td id="S1.T1.1.1.3.2.2" class="ltx_td ltx_align_center">SFT Base</td>
<td id="S1.T1.1.1.3.2.3" class="ltx_td ltx_align_center">68.87</td>
</tr>
<tr id="S1.T1.1.1.4.3" class="ltx_tr">
<th id="S1.T1.1.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Mistral-7B-OpenOrca + DPO</th>
<td id="S1.T1.1.1.4.3.2" class="ltx_td ltx_align_center">SOLAR-0-70B</td>
<td id="S1.T1.1.1.4.3.3" class="ltx_td ltx_align_center">67.86</td>
</tr>
<tr id="S1.T1.1.1.5.4" class="ltx_tr">
<th id="S1.T1.1.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Mistral-7B-OpenOrca + DPO</th>
<td id="S1.T1.1.1.5.4.2" class="ltx_td ltx_align_center">Intel-7B-DPO</td>
<td id="S1.T1.1.1.5.4.3" class="ltx_td ltx_align_center"><span id="S1.T1.1.1.5.4.3.1" class="ltx_text ltx_font_bold">70.13</span></td>
</tr>
<tr id="S1.T1.1.1.6.5" class="ltx_tr">
<th id="S1.T1.1.1.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">OpenHermes-2.5-Mistral-7B</th>
<td id="S1.T1.1.1.6.5.2" class="ltx_td ltx_align_center ltx_border_t">N/A</td>
<td id="S1.T1.1.1.6.5.3" class="ltx_td ltx_align_center ltx_border_t">66.10</td>
</tr>
<tr id="S1.T1.1.1.7.6" class="ltx_tr">
<th id="S1.T1.1.1.7.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">OpenHermes-2.5-Mistral-7B + DPO</th>
<td id="S1.T1.1.1.7.6.2" class="ltx_td ltx_align_center">SFT Base</td>
<td id="S1.T1.1.1.7.6.3" class="ltx_td ltx_align_center">68.41</td>
</tr>
<tr id="S1.T1.1.1.8.7" class="ltx_tr">
<th id="S1.T1.1.1.8.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">OpenHermes-2.5-Mistral-7B + DPO</th>
<td id="S1.T1.1.1.8.7.2" class="ltx_td ltx_align_center">SOLAR-0-70B</td>
<td id="S1.T1.1.1.8.7.3" class="ltx_td ltx_align_center">68.90</td>
</tr>
<tr id="S1.T1.1.1.9.8" class="ltx_tr">
<th id="S1.T1.1.1.9.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">OpenHermes-2.5-Mistral-7B + DPO</th>
<td id="S1.T1.1.1.9.8.2" class="ltx_td ltx_align_center ltx_border_bb">Intel-7B-DPO</td>
<td id="S1.T1.1.1.9.8.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S1.T1.1.1.9.8.3.1" class="ltx_text ltx_font_bold">69.72</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>DPO results in terms of H4 scores for Mistral-7B-OpenOrca and OpenHermes-2.5-Mistral-7B with different reference models. The best results for each SFT base model are shown in bold.</figcaption>
</figure>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Thus, in most practical scenarios, the reference model is simply set as the base SFT model&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Tunstall et&nbsp;al. (<a href="#bib.bib26" title="" class="ltx_ref">2023</a>); Intel (<a href="#bib.bib13" title="" class="ltx_ref">2023b</a>); Ivison et&nbsp;al. (<a href="#bib.bib14" title="" class="ltx_ref">2023</a>)</cite>, which is a much weaker alternative with potentially misaligned preferences.
This reference model acts as <span id="S1.p3.1.1" class="ltx_text ltx_font_italic">a lower bound</span> in DPO, <span id="S1.p3.1.2" class="ltx_text ltx_font_italic">i.e.,</span> the target model is optimized to be at least as aligned as the reference model.
Thus, we argue that a reference model that is already more aligned will serve as a better lower bound for DPO training, which would be beneficial for the alignment tuning.
One option would be to utilize the plethora of open source models&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Tunstall et&nbsp;al. (<a href="#bib.bib26" title="" class="ltx_ref">2023</a>); Ivison et&nbsp;al. (<a href="#bib.bib14" title="" class="ltx_ref">2023</a>)</cite> that have already undergone alignment tuning.</p>
</div>
<figure id="S1.F1" class="ltx_figure">
<div id="S1.F1.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:390.3pt;height:95.5pt;vertical-align:-0.4pt;"><span class="ltx_transformed_inner" style="transform:translate(-245.2pt,59.8pt) scale(0.443123958646896,0.443123958646896) ;"><img src="/html/2403.19270/assets/x1.png" id="S1.F1.1.g1" class="ltx_graphics ltx_img_landscape" width="936" height="229" alt="Refer to caption">
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Overview of sDPO where preference datasets are divided to be used in multiple steps. The aligned model from the previous step is used as the reference and target models for the current step. The reference model is used to calculate the log probabilities and the target model is trained using the preference loss of DPO at each step.</figcaption>
</figure>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Note that the above may not be feasible due to the absence of such aligned models, or the fact that it renounces control over the reference model, leading to safety concerns.
Instead, we propose ‘stepwise DPO’, named sDPO, where we use the preference datasets (or subsets of a preference dataset) in <span id="S1.p4.1.1" class="ltx_text ltx_font_italic">a step-by-step manner</span> when undergoing DPO training.
The aligned model in the previous step is used as the reference model for the current step, which results in utilizing a more aligned reference model (<span id="S1.p4.1.2" class="ltx_text ltx_font_italic">i.e.</span>, a better lower bound).
Empirically, we show that using sDPO results in a more performant final aligned model as well.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">While concurrent works&nbsp;<cite class="ltx_cite ltx_citemacro_citep">(Yuan et&nbsp;al., <a href="#bib.bib29" title="" class="ltx_ref">2024</a>)</cite> that focus on an iterative pipeline of generating <span id="S1.p5.1.1" class="ltx_text ltx_font_italic">new</span> preference data have been proposed,
our method focuses on utilizing the <span id="S1.p5.1.2" class="ltx_text ltx_font_italic">currently available</span> preference datasets.
Thus, our approach is complementary as sDPO can be easily applied to any preference data and further combination with concurrent works would be an exciting future direction.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Methodology</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Preliminary Investigation on Reference Models</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">To gauge the importance of using a well-aligned reference model in DPO, we perform preliminary experiments of DPO training with the Ultrafeedback dataset&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Cui et&nbsp;al. (<a href="#bib.bib8" title="" class="ltx_ref">2023</a>)</cite> on Mistral-7B-OpenOrca&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Lian et&nbsp;al. (<a href="#bib.bib17" title="" class="ltx_ref">2023</a>)</cite> and OpenHermes-2.5-Mistral-7B&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Teknium (<a href="#bib.bib25" title="" class="ltx_ref">2023</a>)</cite> as the SFT base model, owing to their excellent performance and small size. We compare the following reference models: i) the SFT base model itself, same as the conventional DPO setup; ii) SOLAR-0-70B&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Upstage (<a href="#bib.bib27" title="" class="ltx_ref">2023</a>)</cite>, a larger and much more performant model; and iii) Intel-7B-DPO&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Intel (<a href="#bib.bib12" title="" class="ltx_ref">2023a</a>)</cite>, an already aligned reference model. The results are summarized in Tab.&nbsp;<a href="#S1.T1" title="Table 1 ‣ 1 Introduction ‣ sDPO: Don’t Use Your Data All at Once" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.1" class="ltx_p">As the table shows, using Intel-7B-DPO as the reference model results in the best performance, even better than using SOLAR-0-70B, which is a much larger model that was trained with more data.
Thus, whether the reference model is pre-aligned or not plays an important role in the resulting aligned model’s performance.
Unfortunately, it is not always possible to simply use a open sourced pre-aligned model as the reference model due to technical and safety concerns, <span id="S2.SS1.p2.1.1" class="ltx_text ltx_font_italic">i.e.,</span> such a model may not exist yet or can be susceptible to various domain-specific harmfulness and fairness criteria.
To remedy the above, we propose sDPO, which uses more aligned reference models as a part of the training framework.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Stepwise DPO</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">In sDPO, we propose to use the available preference datasets in a stepwise manner instead of using them all at once.
The comparison of the overall flow of DPO and sDPO is presented in Fig.&nbsp;<a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ sDPO: Don’t Use Your Data All at Once" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<section id="S2.SS2.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Reference model.</h4>

<div id="S2.SS2.SSS0.Px1.p1" class="ltx_para">
<p id="S2.SS2.SSS0.Px1.p1.2" class="ltx_p">The reference model is used to calculate the log probabilities of the preference dataset.
For each step, only a subset of the total data is used and the reference model is initialized as <math id="S2.SS2.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="M_{t-1}" display="inline"><semantics id="S2.SS2.SSS0.Px1.p1.1.m1.1a"><msub id="S2.SS2.SSS0.Px1.p1.1.m1.1.1" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.cmml"><mi id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.2" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.2.cmml">M</mi><mrow id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.2" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.2.cmml">t</mi><mo id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.1" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.1.cmml">−</mo><mn id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.3" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.1.m1.1b"><apply id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.2">𝑀</ci><apply id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3"><minus id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.1"></minus><ci id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.2">𝑡</ci><cn type="integer" id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.1.m1.1c">M_{t-1}</annotation></semantics></math>, <span id="S2.SS2.SSS0.Px1.p1.2.1" class="ltx_text ltx_font_italic">i.e,</span> the aligned model from the previous step.
The initial reference model is set as <math id="S2.SS2.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S2.SS2.SSS0.Px1.p1.2.m2.1a"><mi id="S2.SS2.SSS0.Px1.p1.2.m2.1.1" xref="S2.SS2.SSS0.Px1.p1.2.m2.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.2.m2.1b"><ci id="S2.SS2.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.2.m2.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.2.m2.1c">S</annotation></semantics></math>, the SFT base model.
This results in using a more aligned reference model than conventional DPO.</p>
</div>
</section>
<section id="S2.SS2.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Target model.</h4>

<div id="S2.SS2.SSS0.Px2.p1" class="ltx_para">
<p id="S2.SS2.SSS0.Px2.p1.3" class="ltx_p">For <math id="S2.SS2.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="t>1" display="inline"><semantics id="S2.SS2.SSS0.Px2.p1.1.m1.1a"><mrow id="S2.SS2.SSS0.Px2.p1.1.m1.1.1" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.2" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.2.cmml">t</mi><mo id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.1" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.1.cmml">&gt;</mo><mn id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.3" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px2.p1.1.m1.1b"><apply id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1"><gt id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.1"></gt><ci id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.2">𝑡</ci><cn type="integer" id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px2.p1.1.m1.1c">t&gt;1</annotation></semantics></math>, the target model which is trained using the preference loss of DPO in each step of sDPO is also initialized as <math id="S2.SS2.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="M_{t-1}" display="inline"><semantics id="S2.SS2.SSS0.Px2.p1.2.m2.1a"><msub id="S2.SS2.SSS0.Px2.p1.2.m2.1.1" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.cmml"><mi id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.2" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml">M</mi><mrow id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.2" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.2.cmml">t</mi><mo id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.1" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.1.cmml">−</mo><mn id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.3" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px2.p1.2.m2.1b"><apply id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.2">𝑀</ci><apply id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3"><minus id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.1"></minus><ci id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.2">𝑡</ci><cn type="integer" id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px2.p1.2.m2.1c">M_{t-1}</annotation></semantics></math> instead of <math id="S2.SS2.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S2.SS2.SSS0.Px2.p1.3.m3.1a"><mi id="S2.SS2.SSS0.Px2.p1.3.m3.1.1" xref="S2.SS2.SSS0.Px2.p1.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px2.p1.3.m3.1b"><ci id="S2.SS2.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S2.SS2.SSS0.Px2.p1.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px2.p1.3.m3.1c">S</annotation></semantics></math>.
This ensures that the final model trained with sDPO has been directly trained with the same amount data as a model trained with DPO.</p>
</div>
<figure id="S2.T2" class="ltx_table">
<div id="S2.T2.16" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:325.2pt;height:175.1pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-122.6pt,65.8pt) scale(0.570190336859309,0.570190336859309) ;">
<table id="S2.T2.16.16" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S2.T2.16.16.17.1" class="ltx_tr">
<th id="S2.T2.16.16.17.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt">Model</th>
<td id="S2.T2.16.16.17.1.2" class="ltx_td ltx_align_center ltx_border_tt">Size</td>
<td id="S2.T2.16.16.17.1.3" class="ltx_td ltx_align_center ltx_border_tt">Type</td>
<td id="S2.T2.16.16.17.1.4" class="ltx_td ltx_align_center ltx_border_tt">H4 (Avg.)</td>
<td id="S2.T2.16.16.17.1.5" class="ltx_td ltx_align_center ltx_border_tt">ARC</td>
<td id="S2.T2.16.16.17.1.6" class="ltx_td ltx_align_center ltx_border_tt">HellaSwag</td>
<td id="S2.T2.16.16.17.1.7" class="ltx_td ltx_align_center ltx_border_tt">MMLU</td>
<td id="S2.T2.16.16.17.1.8" class="ltx_td ltx_align_center ltx_border_tt">TruthfulQA</td>
</tr>
<tr id="S2.T2.1.1.1" class="ltx_tr">
<th id="S2.T2.1.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" style="background-color:#E0DBEE;"><span id="S2.T2.1.1.1.2.1" class="ltx_text" style="background-color:#E0DBEE;">SOLAR 10.7B + SFT + sDPO</span></th>
<td id="S2.T2.1.1.1.1" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E0DBEE;">
<math id="S2.T2.1.1.1.1.m1.1" class="ltx_Math" style="background-color:#E0DBEE;" alttext="\sim" display="inline"><semantics id="S2.T2.1.1.1.1.m1.1a"><mo mathbackground="#E0DBEE" id="S2.T2.1.1.1.1.m1.1.1" xref="S2.T2.1.1.1.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.1.1.1.1.m1.1b"><csymbol cd="latexml" id="S2.T2.1.1.1.1.m1.1.1.cmml" xref="S2.T2.1.1.1.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.1.1.1.1.m1.1c">\sim</annotation></semantics></math><span id="S2.T2.1.1.1.1.1" class="ltx_text" style="background-color:#E0DBEE;"> 11B</span>
</td>
<td id="S2.T2.1.1.1.3" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E0DBEE;"><span id="S2.T2.1.1.1.3.1" class="ltx_text" style="background-color:#E0DBEE;">Alignment-tuned</span></td>
<td id="S2.T2.1.1.1.4" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E0DBEE;"><span id="S2.T2.1.1.1.4.1" class="ltx_text ltx_font_bold" style="background-color:#E0DBEE;">74.31</span></td>
<td id="S2.T2.1.1.1.5" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E0DBEE;"><span id="S2.T2.1.1.1.5.1" class="ltx_text ltx_font_bold" style="background-color:#E0DBEE;">71.33</span></td>
<td id="S2.T2.1.1.1.6" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E0DBEE;"><span id="S2.T2.1.1.1.6.1" class="ltx_text" style="background-color:#E0DBEE;">88.08</span></td>
<td id="S2.T2.1.1.1.7" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E0DBEE;"><span id="S2.T2.1.1.1.7.1" class="ltx_text" style="background-color:#E0DBEE;">65.39</span></td>
<td id="S2.T2.1.1.1.8" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E0DBEE;"><span id="S2.T2.1.1.1.8.1" class="ltx_text ltx_font_bold" style="background-color:#E0DBEE;">72.45</span></td>
</tr>
<tr id="S2.T2.2.2.2" class="ltx_tr">
<th id="S2.T2.2.2.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">SOLAR 10.7B + SFT + DPO</th>
<td id="S2.T2.2.2.2.1" class="ltx_td ltx_align_center">
<math id="S2.T2.2.2.2.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.2.2.2.1.m1.1a"><mo id="S2.T2.2.2.2.1.m1.1.1" xref="S2.T2.2.2.2.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.2.2.2.1.m1.1b"><csymbol cd="latexml" id="S2.T2.2.2.2.1.m1.1.1.cmml" xref="S2.T2.2.2.2.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.2.2.2.1.m1.1c">\sim</annotation></semantics></math> 11B</td>
<td id="S2.T2.2.2.2.3" class="ltx_td ltx_align_center">Alignment-tuned</td>
<td id="S2.T2.2.2.2.4" class="ltx_td ltx_align_center">72.67</td>
<td id="S2.T2.2.2.2.5" class="ltx_td ltx_align_center">69.62</td>
<td id="S2.T2.2.2.2.6" class="ltx_td ltx_align_center">87.16</td>
<td id="S2.T2.2.2.2.7" class="ltx_td ltx_align_center">66.00</td>
<td id="S2.T2.2.2.2.8" class="ltx_td ltx_align_center">67.90</td>
</tr>
<tr id="S2.T2.3.3.3" class="ltx_tr">
<th id="S2.T2.3.3.3.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">SOLAR 10.7B + SFT + sDPO Strat.</th>
<td id="S2.T2.3.3.3.1" class="ltx_td ltx_align_center">
<math id="S2.T2.3.3.3.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.3.3.3.1.m1.1a"><mo id="S2.T2.3.3.3.1.m1.1.1" xref="S2.T2.3.3.3.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.3.3.3.1.m1.1b"><csymbol cd="latexml" id="S2.T2.3.3.3.1.m1.1.1.cmml" xref="S2.T2.3.3.3.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.3.3.3.1.m1.1c">\sim</annotation></semantics></math> 11B</td>
<td id="S2.T2.3.3.3.3" class="ltx_td ltx_align_center">Alignment-tuned</td>
<td id="S2.T2.3.3.3.4" class="ltx_td ltx_align_center">72.56</td>
<td id="S2.T2.3.3.3.5" class="ltx_td ltx_align_center">69.20</td>
<td id="S2.T2.3.3.3.6" class="ltx_td ltx_align_center">87.27</td>
<td id="S2.T2.3.3.3.7" class="ltx_td ltx_align_center">65.96</td>
<td id="S2.T2.3.3.3.8" class="ltx_td ltx_align_center">67.81</td>
</tr>
<tr id="S2.T2.4.4.4" class="ltx_tr">
<th id="S2.T2.4.4.4.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">Mixtral 8x7B-Instruct-v0.1</th>
<td id="S2.T2.4.4.4.1" class="ltx_td ltx_align_center ltx_border_t">
<math id="S2.T2.4.4.4.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.4.4.4.1.m1.1a"><mo id="S2.T2.4.4.4.1.m1.1.1" xref="S2.T2.4.4.4.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.4.4.4.1.m1.1b"><csymbol cd="latexml" id="S2.T2.4.4.4.1.m1.1.1.cmml" xref="S2.T2.4.4.4.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.4.4.4.1.m1.1c">\sim</annotation></semantics></math> 47B</td>
<td id="S2.T2.4.4.4.3" class="ltx_td ltx_align_center ltx_border_t">Alignment-tuned</td>
<td id="S2.T2.4.4.4.4" class="ltx_td ltx_align_center ltx_border_t">73.40</td>
<td id="S2.T2.4.4.4.5" class="ltx_td ltx_align_center ltx_border_t">70.22</td>
<td id="S2.T2.4.4.4.6" class="ltx_td ltx_align_center ltx_border_t">87.63</td>
<td id="S2.T2.4.4.4.7" class="ltx_td ltx_align_center ltx_border_t">71.16</td>
<td id="S2.T2.4.4.4.8" class="ltx_td ltx_align_center ltx_border_t">64.58</td>
</tr>
<tr id="S2.T2.5.5.5" class="ltx_tr">
<th id="S2.T2.5.5.5.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">SOLAR-0-70B-16bit</th>
<td id="S2.T2.5.5.5.1" class="ltx_td ltx_align_center">
<math id="S2.T2.5.5.5.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.5.5.5.1.m1.1a"><mo id="S2.T2.5.5.5.1.m1.1.1" xref="S2.T2.5.5.5.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.5.5.5.1.m1.1b"><csymbol cd="latexml" id="S2.T2.5.5.5.1.m1.1.1.cmml" xref="S2.T2.5.5.5.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.5.5.5.1.m1.1c">\sim</annotation></semantics></math> 70B</td>
<td id="S2.T2.5.5.5.3" class="ltx_td ltx_align_center">Instruction-tuned</td>
<td id="S2.T2.5.5.5.4" class="ltx_td ltx_align_center">72.93</td>
<td id="S2.T2.5.5.5.5" class="ltx_td ltx_align_center">71.08</td>
<td id="S2.T2.5.5.5.6" class="ltx_td ltx_align_center">87.89</td>
<td id="S2.T2.5.5.5.7" class="ltx_td ltx_align_center">70.58</td>
<td id="S2.T2.5.5.5.8" class="ltx_td ltx_align_center">62.25</td>
</tr>
<tr id="S2.T2.6.6.6" class="ltx_tr">
<th id="S2.T2.6.6.6.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">Qwen 72B</th>
<td id="S2.T2.6.6.6.1" class="ltx_td ltx_align_center">
<math id="S2.T2.6.6.6.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.6.6.6.1.m1.1a"><mo id="S2.T2.6.6.6.1.m1.1.1" xref="S2.T2.6.6.6.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.6.6.6.1.m1.1b"><csymbol cd="latexml" id="S2.T2.6.6.6.1.m1.1.1.cmml" xref="S2.T2.6.6.6.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.6.6.6.1.m1.1c">\sim</annotation></semantics></math> 72B</td>
<td id="S2.T2.6.6.6.3" class="ltx_td ltx_align_center">Pretrained</td>
<td id="S2.T2.6.6.6.4" class="ltx_td ltx_align_center">72.17</td>
<td id="S2.T2.6.6.6.5" class="ltx_td ltx_align_center">65.19</td>
<td id="S2.T2.6.6.6.6" class="ltx_td ltx_align_center">85.94</td>
<td id="S2.T2.6.6.6.7" class="ltx_td ltx_align_center"><span id="S2.T2.6.6.6.7.1" class="ltx_text ltx_font_bold">77.37</span></td>
<td id="S2.T2.6.6.6.8" class="ltx_td ltx_align_center">60.19</td>
</tr>
<tr id="S2.T2.7.7.7" class="ltx_tr">
<th id="S2.T2.7.7.7.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">Yi 34B</th>
<td id="S2.T2.7.7.7.1" class="ltx_td ltx_align_center">
<math id="S2.T2.7.7.7.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.7.7.7.1.m1.1a"><mo id="S2.T2.7.7.7.1.m1.1.1" xref="S2.T2.7.7.7.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.7.7.7.1.m1.1b"><csymbol cd="latexml" id="S2.T2.7.7.7.1.m1.1.1.cmml" xref="S2.T2.7.7.7.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.7.7.7.1.m1.1c">\sim</annotation></semantics></math> 34B</td>
<td id="S2.T2.7.7.7.3" class="ltx_td ltx_align_center">Pretrained</td>
<td id="S2.T2.7.7.7.4" class="ltx_td ltx_align_center">70.72</td>
<td id="S2.T2.7.7.7.5" class="ltx_td ltx_align_center">64.59</td>
<td id="S2.T2.7.7.7.6" class="ltx_td ltx_align_center">85.69</td>
<td id="S2.T2.7.7.7.7" class="ltx_td ltx_align_center">76.35</td>
<td id="S2.T2.7.7.7.8" class="ltx_td ltx_align_center">56.23</td>
</tr>
<tr id="S2.T2.8.8.8" class="ltx_tr">
<th id="S2.T2.8.8.8.2" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="background-color:#E0DBEE;"><span id="S2.T2.8.8.8.2.1" class="ltx_text" style="background-color:#E0DBEE;">SOLAR 10.7B + SFT</span></th>
<td id="S2.T2.8.8.8.1" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;">
<math id="S2.T2.8.8.8.1.m1.1" class="ltx_Math" style="background-color:#E0DBEE;" alttext="\sim" display="inline"><semantics id="S2.T2.8.8.8.1.m1.1a"><mo mathbackground="#E0DBEE" id="S2.T2.8.8.8.1.m1.1.1" xref="S2.T2.8.8.8.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.8.8.8.1.m1.1b"><csymbol cd="latexml" id="S2.T2.8.8.8.1.m1.1.1.cmml" xref="S2.T2.8.8.8.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.8.8.8.1.m1.1c">\sim</annotation></semantics></math><span id="S2.T2.8.8.8.1.1" class="ltx_text" style="background-color:#E0DBEE;"> 11B</span>
</td>
<td id="S2.T2.8.8.8.3" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.8.8.8.3.1" class="ltx_text" style="background-color:#E0DBEE;">Instruction-tuned</span></td>
<td id="S2.T2.8.8.8.4" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.8.8.8.4.1" class="ltx_text" style="background-color:#E0DBEE;">69.51</span></td>
<td id="S2.T2.8.8.8.5" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.8.8.8.5.1" class="ltx_text" style="background-color:#E0DBEE;">67.32</span></td>
<td id="S2.T2.8.8.8.6" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.8.8.8.6.1" class="ltx_text" style="background-color:#E0DBEE;">85.96</span></td>
<td id="S2.T2.8.8.8.7" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.8.8.8.7.1" class="ltx_text" style="background-color:#E0DBEE;">65.95</span></td>
<td id="S2.T2.8.8.8.8" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.8.8.8.8.1" class="ltx_text" style="background-color:#E0DBEE;">58.80</span></td>
</tr>
<tr id="S2.T2.9.9.9" class="ltx_tr">
<th id="S2.T2.9.9.9.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">Mistral 7B-Instruct-v0.2</th>
<td id="S2.T2.9.9.9.1" class="ltx_td ltx_align_center">
<math id="S2.T2.9.9.9.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.9.9.9.1.m1.1a"><mo id="S2.T2.9.9.9.1.m1.1.1" xref="S2.T2.9.9.9.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.9.9.9.1.m1.1b"><csymbol cd="latexml" id="S2.T2.9.9.9.1.m1.1.1.cmml" xref="S2.T2.9.9.9.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.9.9.9.1.m1.1c">\sim</annotation></semantics></math> 7B</td>
<td id="S2.T2.9.9.9.3" class="ltx_td ltx_align_center">Instruction-tuned</td>
<td id="S2.T2.9.9.9.4" class="ltx_td ltx_align_center">69.27</td>
<td id="S2.T2.9.9.9.5" class="ltx_td ltx_align_center">63.14</td>
<td id="S2.T2.9.9.9.6" class="ltx_td ltx_align_center">84.88</td>
<td id="S2.T2.9.9.9.7" class="ltx_td ltx_align_center">60.78</td>
<td id="S2.T2.9.9.9.8" class="ltx_td ltx_align_center">68.26</td>
</tr>
<tr id="S2.T2.10.10.10" class="ltx_tr">
<th id="S2.T2.10.10.10.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">Falcon 180B</th>
<td id="S2.T2.10.10.10.1" class="ltx_td ltx_align_center">
<math id="S2.T2.10.10.10.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.10.10.10.1.m1.1a"><mo id="S2.T2.10.10.10.1.m1.1.1" xref="S2.T2.10.10.10.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.10.10.10.1.m1.1b"><csymbol cd="latexml" id="S2.T2.10.10.10.1.m1.1.1.cmml" xref="S2.T2.10.10.10.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.10.10.10.1.m1.1c">\sim</annotation></semantics></math> 180B</td>
<td id="S2.T2.10.10.10.3" class="ltx_td ltx_align_center">Pretrained</td>
<td id="S2.T2.10.10.10.4" class="ltx_td ltx_align_center">68.57</td>
<td id="S2.T2.10.10.10.5" class="ltx_td ltx_align_center">69.45</td>
<td id="S2.T2.10.10.10.6" class="ltx_td ltx_align_center"><span id="S2.T2.10.10.10.6.1" class="ltx_text ltx_font_bold">88.86</span></td>
<td id="S2.T2.10.10.10.7" class="ltx_td ltx_align_center">70.50</td>
<td id="S2.T2.10.10.10.8" class="ltx_td ltx_align_center">45.47</td>
</tr>
<tr id="S2.T2.11.11.11" class="ltx_tr">
<th id="S2.T2.11.11.11.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">Mixtral 8x7B-v0.1</th>
<td id="S2.T2.11.11.11.1" class="ltx_td ltx_align_center">
<math id="S2.T2.11.11.11.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.11.11.11.1.m1.1a"><mo id="S2.T2.11.11.11.1.m1.1.1" xref="S2.T2.11.11.11.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.11.11.11.1.m1.1b"><csymbol cd="latexml" id="S2.T2.11.11.11.1.m1.1.1.cmml" xref="S2.T2.11.11.11.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.11.11.11.1.m1.1c">\sim</annotation></semantics></math> 47B</td>
<td id="S2.T2.11.11.11.3" class="ltx_td ltx_align_center">Pretrained</td>
<td id="S2.T2.11.11.11.4" class="ltx_td ltx_align_center">67.78</td>
<td id="S2.T2.11.11.11.5" class="ltx_td ltx_align_center">66.04</td>
<td id="S2.T2.11.11.11.6" class="ltx_td ltx_align_center">86.49</td>
<td id="S2.T2.11.11.11.7" class="ltx_td ltx_align_center">71.82</td>
<td id="S2.T2.11.11.11.8" class="ltx_td ltx_align_center">46.78</td>
</tr>
<tr id="S2.T2.12.12.12" class="ltx_tr">
<th id="S2.T2.12.12.12.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">Llama 2 70B</th>
<td id="S2.T2.12.12.12.1" class="ltx_td ltx_align_center">
<math id="S2.T2.12.12.12.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.12.12.12.1.m1.1a"><mo id="S2.T2.12.12.12.1.m1.1.1" xref="S2.T2.12.12.12.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.12.12.12.1.m1.1b"><csymbol cd="latexml" id="S2.T2.12.12.12.1.m1.1.1.cmml" xref="S2.T2.12.12.12.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.12.12.12.1.m1.1c">\sim</annotation></semantics></math> 70B</td>
<td id="S2.T2.12.12.12.3" class="ltx_td ltx_align_center">Pretrained</td>
<td id="S2.T2.12.12.12.4" class="ltx_td ltx_align_center">67.35</td>
<td id="S2.T2.12.12.12.5" class="ltx_td ltx_align_center">67.32</td>
<td id="S2.T2.12.12.12.6" class="ltx_td ltx_align_center">87.33</td>
<td id="S2.T2.12.12.12.7" class="ltx_td ltx_align_center">69.83</td>
<td id="S2.T2.12.12.12.8" class="ltx_td ltx_align_center">44.92</td>
</tr>
<tr id="S2.T2.13.13.13" class="ltx_tr">
<th id="S2.T2.13.13.13.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">Zephyr</th>
<td id="S2.T2.13.13.13.1" class="ltx_td ltx_align_center">
<math id="S2.T2.13.13.13.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.13.13.13.1.m1.1a"><mo id="S2.T2.13.13.13.1.m1.1.1" xref="S2.T2.13.13.13.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.13.13.13.1.m1.1b"><csymbol cd="latexml" id="S2.T2.13.13.13.1.m1.1.1.cmml" xref="S2.T2.13.13.13.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.13.13.13.1.m1.1c">\sim</annotation></semantics></math> 7B</td>
<td id="S2.T2.13.13.13.3" class="ltx_td ltx_align_center">Alignment-tuned</td>
<td id="S2.T2.13.13.13.4" class="ltx_td ltx_align_center">66.36</td>
<td id="S2.T2.13.13.13.5" class="ltx_td ltx_align_center">62.03</td>
<td id="S2.T2.13.13.13.6" class="ltx_td ltx_align_center">84.52</td>
<td id="S2.T2.13.13.13.7" class="ltx_td ltx_align_center">61.44</td>
<td id="S2.T2.13.13.13.8" class="ltx_td ltx_align_center">57.44</td>
</tr>
<tr id="S2.T2.14.14.14" class="ltx_tr">
<th id="S2.T2.14.14.14.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">Qwen 14B</th>
<td id="S2.T2.14.14.14.1" class="ltx_td ltx_align_center">
<math id="S2.T2.14.14.14.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.14.14.14.1.m1.1a"><mo id="S2.T2.14.14.14.1.m1.1.1" xref="S2.T2.14.14.14.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.14.14.14.1.m1.1b"><csymbol cd="latexml" id="S2.T2.14.14.14.1.m1.1.1.cmml" xref="S2.T2.14.14.14.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.14.14.14.1.m1.1c">\sim</annotation></semantics></math> 14B</td>
<td id="S2.T2.14.14.14.3" class="ltx_td ltx_align_center">Pretrained</td>
<td id="S2.T2.14.14.14.4" class="ltx_td ltx_align_center">64.85</td>
<td id="S2.T2.14.14.14.5" class="ltx_td ltx_align_center">58.28</td>
<td id="S2.T2.14.14.14.6" class="ltx_td ltx_align_center">83.99</td>
<td id="S2.T2.14.14.14.7" class="ltx_td ltx_align_center">67.70</td>
<td id="S2.T2.14.14.14.8" class="ltx_td ltx_align_center">49.43</td>
</tr>
<tr id="S2.T2.15.15.15" class="ltx_tr">
<th id="S2.T2.15.15.15.2" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="background-color:#E0DBEE;"><span id="S2.T2.15.15.15.2.1" class="ltx_text" style="background-color:#E0DBEE;">SOLAR 10.7B</span></th>
<td id="S2.T2.15.15.15.1" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;">
<math id="S2.T2.15.15.15.1.m1.1" class="ltx_Math" style="background-color:#E0DBEE;" alttext="\sim" display="inline"><semantics id="S2.T2.15.15.15.1.m1.1a"><mo mathbackground="#E0DBEE" id="S2.T2.15.15.15.1.m1.1.1" xref="S2.T2.15.15.15.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.15.15.15.1.m1.1b"><csymbol cd="latexml" id="S2.T2.15.15.15.1.m1.1.1.cmml" xref="S2.T2.15.15.15.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.15.15.15.1.m1.1c">\sim</annotation></semantics></math><span id="S2.T2.15.15.15.1.1" class="ltx_text" style="background-color:#E0DBEE;"> 11B</span>
</td>
<td id="S2.T2.15.15.15.3" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.15.15.15.3.1" class="ltx_text" style="background-color:#E0DBEE;">Pretrained</span></td>
<td id="S2.T2.15.15.15.4" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.15.15.15.4.1" class="ltx_text" style="background-color:#E0DBEE;">64.27</span></td>
<td id="S2.T2.15.15.15.5" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.15.15.15.5.1" class="ltx_text" style="background-color:#E0DBEE;">61.95</span></td>
<td id="S2.T2.15.15.15.6" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.15.15.15.6.1" class="ltx_text" style="background-color:#E0DBEE;">84.60</span></td>
<td id="S2.T2.15.15.15.7" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.15.15.15.7.1" class="ltx_text" style="background-color:#E0DBEE;">65.48</span></td>
<td id="S2.T2.15.15.15.8" class="ltx_td ltx_align_center" style="background-color:#E0DBEE;"><span id="S2.T2.15.15.15.8.1" class="ltx_text" style="background-color:#E0DBEE;">45.04</span></td>
</tr>
<tr id="S2.T2.16.16.16" class="ltx_tr">
<th id="S2.T2.16.16.16.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">Mistral 7B</th>
<td id="S2.T2.16.16.16.1" class="ltx_td ltx_align_center ltx_border_bb">
<math id="S2.T2.16.16.16.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.T2.16.16.16.1.m1.1a"><mo id="S2.T2.16.16.16.1.m1.1.1" xref="S2.T2.16.16.16.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.T2.16.16.16.1.m1.1b"><csymbol cd="latexml" id="S2.T2.16.16.16.1.m1.1.1.cmml" xref="S2.T2.16.16.16.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.16.16.16.1.m1.1c">\sim</annotation></semantics></math> 7B</td>
<td id="S2.T2.16.16.16.3" class="ltx_td ltx_align_center ltx_border_bb">Pretrained</td>
<td id="S2.T2.16.16.16.4" class="ltx_td ltx_align_center ltx_border_bb">62.40</td>
<td id="S2.T2.16.16.16.5" class="ltx_td ltx_align_center ltx_border_bb">59.98</td>
<td id="S2.T2.16.16.16.6" class="ltx_td ltx_align_center ltx_border_bb">83.31</td>
<td id="S2.T2.16.16.16.7" class="ltx_td ltx_align_center ltx_border_bb">64.16</td>
<td id="S2.T2.16.16.16.8" class="ltx_td ltx_align_center ltx_border_bb">42.15</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Performance comparison of applying sDPO (and ablated versions) to SOLAR 10.7B + SFT against various top performing models. Size is shown in units of billions of parameters and type is reported as one of {‘Pretrained’, ‘Instruction-tuned’, ‘Alignment-tuned’}. Models based on SOLAR 10.7B are shown in purple color. The best scores in each column are shown in bold.</figcaption>
</figure>
</section>
<section id="S2.SS2.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Intuitive explanation.</h4>

<div id="S2.SS2.SSS0.Px3.p1" class="ltx_para">
<p id="S2.SS2.SSS0.Px3.p1.16" class="ltx_p">To gain a deeper understanding of sDPO, we rearrange the DPO loss from &nbsp;<cite class="ltx_cite ltx_citemacro_cite">Rafailov et&nbsp;al. (<a href="#bib.bib22" title="" class="ltx_ref">2023</a>)</cite>, as follows:</p>
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center">
<div id="S2.E1.m1.1.1.1" class="ltx_inline-block ltx_markedasmath ltx_transformed_outer" style="width:368.6pt;height:73.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(79.4pt,-15.9pt) scale(1.75636805379735,1.75636805379735) ;">
<p id="S2.E1.m1.1.1.1.1" class="ltx_p"><math id="S2.E1.m1.1.1.1.1.m1.15" class="ltx_math_unparsed" alttext="\begin{aligned} &amp;\mathcal{L}_{\text{DPO}}(\pi_{\theta},\pi_{ref})\\
&amp;=-\mathbb{E}_{(x,y_{w},y_{l})\sim\mathcal{D}}\left[\log{\sigma\left(\beta\log{{\pi_{\theta}(y_{w}|x)\over\pi_{ref}(y_{w}|x)}}-\beta\log{{\pi_{\theta}(y_{l}|x)\over\pi_{ref}(y_{l}|x)}}\right)}\right]\\
&amp;=-\mathbb{E}_{(x,y_{w},y_{l})\sim\mathcal{D}}\left[\log{\sigma\left(\beta\cdot(\gamma_{\pi_{\theta}}(x,y_{w},y_{l})-\gamma_{\pi_{ref}}(x,y_{w},y_{l})\right)}\right],\end{aligned}" display="inline"><semantics id="S2.E1.m1.1.1.1.1.m1.15a"><mtable columnspacing="0pt" rowspacing="0pt" id="S2.E1.m1.1.1.1.1.m1.15.15"><mtr id="S2.E1.m1.1.1.1.1.m1.15.15a"><mtd id="S2.E1.m1.1.1.1.1.m1.15.15b"></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.1.1.1.1.m1.15.15c"><mrow id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2"><msub id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.4"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.4.2">ℒ</mi><mtext id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.4.3">DPO</mtext></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.3">​</mo><mrow id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.3">(</mo><msub id="S2.E1.m1.1.1.1.1.m1.1.1.1.1.1.1.1.1"><mi id="S2.E1.m1.1.1.1.1.m1.1.1.1.1.1.1.1.1.2">π</mi><mi id="S2.E1.m1.1.1.1.1.m1.1.1.1.1.1.1.1.1.3">θ</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.4">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2"><mi id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.2">π</mi><mrow id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.3"><mi id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.3.2">r</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.3.1">​</mo><mi id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.3.3">e</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.3.1a">​</mo><mi id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.2.3.4">f</mi></mrow></msub><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.2.2.2.2.2.2.2.5">)</mo></mrow></mrow></mtd></mtr><mtr id="S2.E1.m1.1.1.1.1.m1.15.15d"><mtd id="S2.E1.m1.1.1.1.1.m1.15.15e"></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.1.1.1.1.m1.15.15f"><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.10"></mi><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.9">=</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8"><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8a">−</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1"><msub id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.3"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.3.2">𝔼</mi><mrow id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3"><mrow id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.3">(</mo><mi id="S2.E1.m1.1.1.1.1.m1.3.3.3.1.1.1.1.1">x</mi><mo id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.4">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.4.4.4.2.2.2.2.2.1.1"><mi id="S2.E1.m1.1.1.1.1.m1.4.4.4.2.2.2.2.2.1.1.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.4.4.4.2.2.2.2.2.1.1.3">w</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.5">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.2"><mi id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.2.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.2.3">l</mi></msub><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.3.2.6">)</mo></mrow><mo id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.4">∼</mo><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.1.1.1.1.m1.5.5.5.3.3.3.3.5">𝒟</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.2">​</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1"><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.2">[</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1"><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.3"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.3.1">log</mi><mo lspace="0.167em" id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.3a">⁡</mo><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.3.2">σ</mi></mrow><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.2">​</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1"><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.2">(</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1"><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.2"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.2.2">β</mi><mo lspace="0.167em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.2.1">​</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.2.3"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.2.3.1">log</mi><mo lspace="0.167em" id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.2.3a">⁡</mo><mstyle displaystyle="true" id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5"><mfrac id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5a"><mrow id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1"><msub id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.3"><mi id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.3.2">π</mi><mi id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.3.3">θ</mi></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.2">​</mo><mrow id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.2">(</mo><mrow id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.1"><msub id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.1.2"><mi id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.1.2.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.1.2.3">w</mi></msub><mo fence="false" id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.1.1">|</mo><mi id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.1.3">x</mi></mrow><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.6.6.6.4.4.4.1.1.1.3">)</mo></mrow></mrow><mrow id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2"><msub id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3"><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.2">π</mi><mrow id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.3"><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.3.2">r</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.3.1">​</mo><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.3.3">e</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.3.1a">​</mo><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.3.3.4">f</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.2">​</mo><mrow id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.2">(</mo><mrow id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.1"><msub id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.1.2"><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.1.2.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.1.2.3">w</mi></msub><mo fence="false" id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.1.1">|</mo><mi id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.1.3">x</mi></mrow><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.7.7.7.5.5.5.2.1.1.3">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.1">−</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.3"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.3.2">β</mi><mo lspace="0.167em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.3.1">​</mo><mrow id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.3.3"><mi id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.3.3.1">log</mi><mo lspace="0.167em" id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.1.3.3a">⁡</mo><mstyle displaystyle="true" id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7"><mfrac id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7a"><mrow id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1"><msub id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.3"><mi id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.3.2">π</mi><mi id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.3.3">θ</mi></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.2">​</mo><mrow id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.2">(</mo><mrow id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.1"><msub id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.1.2"><mi id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.1.2.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.1.2.3">l</mi></msub><mo fence="false" id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.1.1">|</mo><mi id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.1.3">x</mi></mrow><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.8.8.8.6.6.6.1.1.1.3">)</mo></mrow></mrow><mrow id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2"><msub id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3"><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.2">π</mi><mrow id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.3"><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.3.2">r</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.3.1">​</mo><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.3.3">e</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.3.1a">​</mo><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.3.3.4">f</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.2">​</mo><mrow id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.2">(</mo><mrow id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.1"><msub id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.1.2"><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.1.2.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.1.2.3">l</mi></msub><mo fence="false" id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.1.1">|</mo><mi id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.1.3">x</mi></mrow><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.9.9.9.7.7.7.2.1.1.3">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow></mrow><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.1.1.1.3">)</mo></mrow></mrow><mo id="S2.E1.m1.1.1.1.1.m1.10.10.10.8.8.8.1.1.1.3">]</mo></mrow></mrow></mrow></mrow></mtd></mtr><mtr id="S2.E1.m1.1.1.1.1.m1.15.15g"><mtd id="S2.E1.m1.1.1.1.1.m1.15.15h"></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.1.1.1.1.m1.15.15i"><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5"><mo rspace="0em" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.6">=</mo><mo lspace="0em" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.7">−</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.8"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.8.2">𝔼</mi><mrow id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3"><mrow id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.3">(</mo><mi id="S2.E1.m1.1.1.1.1.m1.11.11.11.1.1.1.1.1">x</mi><mo id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.4">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.12.12.12.2.2.2.2.2.1.1"><mi id="S2.E1.m1.1.1.1.1.m1.12.12.12.2.2.2.2.2.1.1.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.12.12.12.2.2.2.2.2.1.1.3">w</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.5">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.2"><mi id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.2.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.2.3">l</mi></msub><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.3.2.6">)</mo></mrow><mo id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.4">∼</mo><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.1.1.1.1.m1.13.13.13.3.3.3.3.5">𝒟</mi></mrow></msub><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9"><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.1">[</mo><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.2">log</mi><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.3">σ</mi><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4"><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.1">(</mo><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.2">β</mi><mo lspace="0.222em" rspace="0.222em" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.3">⋅</mo><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.1">(</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.2"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.2.2">γ</mi><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.2.3"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.2.3.2">π</mi><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.2.3.3">θ</mi></msub></msub><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.1">(</mo><mi id="S2.E1.m1.1.1.1.1.m1.14.14.14.4.4.4">x</mi><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.2">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.3"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.3.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.3.3">w</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.4">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.5"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.5.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.5.3">l</mi></msub><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.3.6">)</mo></mrow><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.4">−</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.2">γ</mi><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.2">π</mi><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.3"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.3.2">r</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.3.1">​</mo><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.3.3">e</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.3.1a">​</mo><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.5.3.3.4">f</mi></mrow></msub></msub><mrow id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.1">(</mo><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.5">x</mi><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.2">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.3"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.3.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.3.3">w</mi></msub><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.4">,</mo><msub id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.5"><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.5.2">y</mi><mi id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.5.3">l</mi></msub><mo stretchy="false" id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.6.6">)</mo></mrow><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.4.7">)</mo></mrow><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.4.5">]</mo></mrow><mo id="S2.E1.m1.1.1.1.1.m1.15.15.15.5.5.9.5">,</mo></mrow></mrow></mtd></mtr></mtable><annotation encoding="application/x-tex" id="S2.E1.m1.1.1.1.1.m1.15b">\begin{aligned} &amp;\mathcal{L}_{\text{DPO}}(\pi_{\theta},\pi_{ref})\\
&amp;=-\mathbb{E}_{(x,y_{w},y_{l})\sim\mathcal{D}}\left[\log{\sigma\left(\beta\log{{\pi_{\theta}(y_{w}|x)\over\pi_{ref}(y_{w}|x)}}-\beta\log{{\pi_{\theta}(y_{l}|x)\over\pi_{ref}(y_{l}|x)}}\right)}\right]\\
&amp;=-\mathbb{E}_{(x,y_{w},y_{l})\sim\mathcal{D}}\left[\log{\sigma\left(\beta\cdot(\gamma_{\pi_{\theta}}(x,y_{w},y_{l})-\gamma_{\pi_{ref}}(x,y_{w},y_{l})\right)}\right],\end{aligned}</annotation></semantics></math></p>
</span></div>
</td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="0" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S2.SS2.SSS0.Px3.p1.15" class="ltx_p">where <math id="S2.SS2.SSS0.Px3.p1.1.m1.1" class="ltx_Math" alttext="D" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.1.m1.1a"><mi id="S2.SS2.SSS0.Px3.p1.1.m1.1.1" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.1.m1.1b"><ci id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.1.m1.1c">D</annotation></semantics></math> is the preference dataset, <math id="S2.SS2.SSS0.Px3.p1.2.m2.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.2.m2.1a"><mi id="S2.SS2.SSS0.Px3.p1.2.m2.1.1" xref="S2.SS2.SSS0.Px3.p1.2.m2.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.2.m2.1b"><ci id="S2.SS2.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.2.m2.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.2.m2.1c">x</annotation></semantics></math> is the question, <math id="S2.SS2.SSS0.Px3.p1.3.m3.1" class="ltx_Math" alttext="y_{w}" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.3.m3.1a"><msub id="S2.SS2.SSS0.Px3.p1.3.m3.1.1" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.2" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1.2.cmml">y</mi><mi id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.3" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.3.m3.1b"><apply id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1.2">𝑦</ci><ci id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.3.m3.1c">y_{w}</annotation></semantics></math> and <math id="S2.SS2.SSS0.Px3.p1.4.m4.1" class="ltx_Math" alttext="y_{l}" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.4.m4.1a"><msub id="S2.SS2.SSS0.Px3.p1.4.m4.1.1" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.2" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.2.cmml">y</mi><mi id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.3" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.4.m4.1b"><apply id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.2">𝑦</ci><ci id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.4.m4.1c">y_{l}</annotation></semantics></math> are the chosen and rejected answers respectively, <math id="S2.SS2.SSS0.Px3.p1.5.m5.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.5.m5.1a"><mi id="S2.SS2.SSS0.Px3.p1.5.m5.1.1" xref="S2.SS2.SSS0.Px3.p1.5.m5.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.5.m5.1b"><ci id="S2.SS2.SSS0.Px3.p1.5.m5.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.5.m5.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.5.m5.1c">\theta</annotation></semantics></math> is the learnable parameters of the model, and <math id="S2.SS2.SSS0.Px3.p1.6.m6.5" class="ltx_Math" alttext="\gamma_{\pi}(x,y_{w},y_{l})=\log{{\pi(y_{w}|x)\over\pi(y_{l}|x)}}" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.6.m6.5a"><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.5.5" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.cmml"><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.cmml"><msub id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.2.cmml">γ</mi><mi id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.3.cmml">π</mi></msub><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.3.cmml">​</mo><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.3.cmml"><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.3.cmml">(</mo><mi id="S2.SS2.SSS0.Px3.p1.6.m6.3.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.3.3.cmml">x</mi><mo id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.4" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.3.cmml">,</mo><msub id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.2.cmml">y</mi><mi id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.3.cmml">w</mi></msub><mo id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.5" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.3.cmml">,</mo><msub id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.2.cmml">y</mi><mi id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.3.cmml">l</mi></msub><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.6" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.3.cmml">)</mo></mrow></mrow><mo id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.3.cmml">=</mo><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.1.cmml">log</mi><mo lspace="0.167em" id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4a" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.cmml">⁡</mo><mfrac id="S2.SS2.SSS0.Px3.p1.6.m6.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.cmml"><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.3.cmml">π</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.2.cmml">​</mo><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.cmml"><msub id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.1.cmml">|</mo><mi id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.3.cmml">π</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.2.cmml">​</mo><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.cmml"><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.cmml">(</mo><mrow id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.cmml"><msub id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.2" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.2.cmml">y</mi><mi id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.1.cmml">|</mo><mi id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.3.cmml">x</mi></mrow><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.3" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.6.m6.5b"><apply id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5"><eq id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.3"></eq><apply id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2"><times id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.3"></times><apply id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.2">𝛾</ci><ci id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.4.3">𝜋</ci></apply><vector id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2"><ci id="S2.SS2.SSS0.Px3.p1.6.m6.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.3.3">𝑥</ci><apply id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.2">𝑦</ci><ci id="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.4.4.1.1.1.1.3">𝑤</ci></apply><apply id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.2">𝑦</ci><ci id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.2.2.2.2.3">𝑙</ci></apply></vector></apply><apply id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4"><log id="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.5.5.4.1"></log><apply id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2"><divide id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2"></divide><apply id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1"><times id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.2"></times><ci id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.3">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1"><csymbol cd="latexml" id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.1">conditional</csymbol><apply id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.2.3">𝑤</ci></apply><ci id="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2"><times id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.2"></times><ci id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.3">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1"><csymbol cd="latexml" id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.1">conditional</csymbol><apply id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.2">𝑦</ci><ci id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.2.3">𝑙</ci></apply><ci id="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.6.m6.2.2.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.6.m6.5c">\gamma_{\pi}(x,y_{w},y_{l})=\log{{\pi(y_{w}|x)\over\pi(y_{l}|x)}}</annotation></semantics></math>, <span id="S2.SS2.SSS0.Px3.p1.15.1" class="ltx_text ltx_font_italic">i.e.,</span> the logratio of the chosen and rejected samples w.r.t. the policy <math id="S2.SS2.SSS0.Px3.p1.7.m7.1" class="ltx_Math" alttext="\pi" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.7.m7.1a"><mi id="S2.SS2.SSS0.Px3.p1.7.m7.1.1" xref="S2.SS2.SSS0.Px3.p1.7.m7.1.1.cmml">π</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.7.m7.1b"><ci id="S2.SS2.SSS0.Px3.p1.7.m7.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.7.m7.1.1">𝜋</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.7.m7.1c">\pi</annotation></semantics></math>.
As <math id="S2.SS2.SSS0.Px3.p1.8.m8.1" class="ltx_Math" alttext="\log\sigma(\cdot)" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.8.m8.1a"><mrow id="S2.SS2.SSS0.Px3.p1.8.m8.1.2" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.cmml"><mrow id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.1" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.1.cmml">log</mi><mo lspace="0.167em" id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2a" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.cmml">⁡</mo><mi id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.2" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.2.cmml">σ</mi></mrow><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.1" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.1.cmml">​</mo><mrow id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.3.2" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.cmml"><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.3.2.1" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.8.m8.1.1" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.1.cmml">⋅</mo><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.3.2.2" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.8.m8.1b"><apply id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2"><times id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.1"></times><apply id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2"><log id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.1"></log><ci id="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.2.2.2">𝜎</ci></apply><ci id="S2.SS2.SSS0.Px3.p1.8.m8.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.8.m8.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.8.m8.1c">\log\sigma(\cdot)</annotation></semantics></math> is a monotonically increasing function and <math id="S2.SS2.SSS0.Px3.p1.9.m9.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.9.m9.1a"><msub id="S2.SS2.SSS0.Px3.p1.9.m9.1.1" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.2" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.2" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.2" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.1" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.3" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.1a" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.4" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.9.m9.1b"><apply id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3"><times id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.9.m9.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.9.m9.1c">\gamma_{\pi_{ref}}</annotation></semantics></math> is fixed before training, the minimization of <math id="S2.SS2.SSS0.Px3.p1.10.m10.2" class="ltx_Math" alttext="\mathcal{L}_{\text{DPO}}(\pi_{\theta},\pi_{ref})" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.10.m10.2a"><mrow id="S2.SS2.SSS0.Px3.p1.10.m10.2.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.cmml"><msub id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.2.cmml">ℒ</mi><mtext id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.3" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.3a.cmml">DPO</mtext></msub><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.3" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.3.cmml">​</mo><mrow id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.3.cmml"><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.3" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.3.cmml">(</mo><msub id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.2.cmml">π</mi><mi id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.3.cmml">θ</mi></msub><mo id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.4" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.3.cmml">,</mo><msub id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.2" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.1" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.3" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.1a" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.4" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.4.cmml">f</mi></mrow></msub><mo stretchy="false" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.5" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.10.m10.2b"><apply id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2"><times id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.3"></times><apply id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.1.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.2.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.2">ℒ</ci><ci id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.3a.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.3"><mtext mathsize="70%" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.3.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.4.3">DPO</mtext></ci></apply><interval closure="open" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2"><apply id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.2">𝜋</ci><ci id="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.1.1.1.1.1.3">𝜃</ci></apply><apply id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3"><times id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.10.m10.2.2.2.2.2.3.4">𝑓</ci></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.10.m10.2c">\mathcal{L}_{\text{DPO}}(\pi_{\theta},\pi_{ref})</annotation></semantics></math> leads to <math id="S2.SS2.SSS0.Px3.p1.11.m11.1" class="ltx_Math" alttext="\gamma_{\pi_{\theta}}>\gamma_{\pi_{ref}}" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.11.m11.1a"><mrow id="S2.SS2.SSS0.Px3.p1.11.m11.1.1" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.cmml"><msub id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.2" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.2" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.2.cmml">π</mi><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.3" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.3.cmml">θ</mi></msub></msub><mo id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.1" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.1.cmml">&gt;</mo><msub id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.2" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.2" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.2" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.1" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.3" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.1a" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.4" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.4.cmml">f</mi></mrow></msub></msub></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.11.m11.1b"><apply id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1"><gt id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.1"></gt><apply id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.2">𝜋</ci><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.2.3.3">𝜃</ci></apply></apply><apply id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3"><times id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.11.m11.1.1.3.3.3.4">𝑓</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.11.m11.1c">\gamma_{\pi_{\theta}}&gt;\gamma_{\pi_{ref}}</annotation></semantics></math> (on average).
Thus, <math id="S2.SS2.SSS0.Px3.p1.12.m12.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.12.m12.1a"><msub id="S2.SS2.SSS0.Px3.p1.12.m12.1.1" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.2" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.2" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.2" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.1" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.3" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.1a" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.4" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.12.m12.1b"><apply id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3"><times id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.12.m12.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.12.m12.1c">\gamma_{\pi_{ref}}</annotation></semantics></math> can be understood as a lower bound defined by the reference model, of which the target model is trained such that <math id="S2.SS2.SSS0.Px3.p1.13.m13.1" class="ltx_Math" alttext="\gamma_{\pi_{\theta}}>\gamma_{\pi_{ref}}" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.13.m13.1a"><mrow id="S2.SS2.SSS0.Px3.p1.13.m13.1.1" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.cmml"><msub id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.cmml"><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.2" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.2" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.2.cmml">π</mi><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.3" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.3.cmml">θ</mi></msub></msub><mo id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.1" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.1.cmml">&gt;</mo><msub id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.2" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.2" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.2" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.1" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.3" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.1a" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.4" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.4.cmml">f</mi></mrow></msub></msub></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.13.m13.1b"><apply id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1"><gt id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.1"></gt><apply id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.2">𝜋</ci><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.2.3.3">𝜃</ci></apply></apply><apply id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3"><times id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.13.m13.1.1.3.3.3.4">𝑓</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.13.m13.1c">\gamma_{\pi_{\theta}}&gt;\gamma_{\pi_{ref}}</annotation></semantics></math>.
In sDPO, <math id="S2.SS2.SSS0.Px3.p1.14.m14.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.14.m14.1a"><msub id="S2.SS2.SSS0.Px3.p1.14.m14.1.1" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.2" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.2" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.2" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.1" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.3" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.1a" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.4" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.14.m14.1b"><apply id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3"><times id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.14.m14.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.14.m14.1c">\gamma_{\pi_{ref}}</annotation></semantics></math> increases as the steps progress because the reference model that defines it is more and more aligned.
Hence, <math id="S2.SS2.SSS0.Px3.p1.15.m15.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.15.m15.1a"><msub id="S2.SS2.SSS0.Px3.p1.15.m15.1.1" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.cmml"><mi id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.2" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.2.cmml">γ</mi><msub id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.2" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.2.cmml">π</mi><mrow id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.2" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.1" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.3" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.1a" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.1.cmml">​</mo><mi id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.4" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.15.m15.1b"><apply id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.2">𝛾</ci><apply id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.2">𝜋</ci><apply id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3"><times id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.1"></times><ci id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.2">𝑟</ci><ci id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.3">𝑒</ci><ci id="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.4.cmml" xref="S2.SS2.SSS0.Px3.p1.15.m15.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.15.m15.1c">\gamma_{\pi_{ref}}</annotation></semantics></math> becomes a stricter lower bound as the steps pass, inducing a curriculum learning from easy to hard optimization tasks.</p>
</div>
</section>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Experiments</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Experimental Setup</h3>

<section id="S3.SS1.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Training details.</h4>

<div id="S3.SS1.SSS0.Px1.p1" class="ltx_para">
<p id="S3.SS1.SSS0.Px1.p1.5" class="ltx_p">We use a supervised fine-tuned SOLAR 10.7B&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Kim et&nbsp;al. (<a href="#bib.bib16" title="" class="ltx_ref">2023</a>)</cite> as our SFT base model <math id="S3.SS1.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.1.m1.1a"><mi id="S3.SS1.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.1.m1.1b"><ci id="S3.SS1.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.1.m1.1c">S</annotation></semantics></math> as it delivers excellent performance with its uncommon 10.7B size.
Further, the scarcity of 10.7B sized models leads to the absence of open source models that can be adopted as reference models, making the usage of sDPO more necessary.
We use OpenOrca&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Mukherjee et&nbsp;al. (<a href="#bib.bib19" title="" class="ltx_ref">2023</a>)</cite> (<math id="S3.SS1.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="\sim 12K" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.2.m2.1a"><mrow id="S3.SS1.SSS0.Px1.p1.2.m2.1.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.cmml"></mi><mo id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.cmml">∼</mo><mrow id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.cmml"><mn id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.2.cmml">12</mn><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.3.cmml">K</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.2.m2.1b"><apply id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1"><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2">absent</csymbol><apply id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3"><times id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.1"></times><cn type="integer" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.2">12</cn><ci id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.3">𝐾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.2.m2.1c">\sim 12K</annotation></semantics></math> samples) and Ultrafeedback Cleaned (<math id="S3.SS1.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="\sim 60K" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.3.m3.1a"><mrow id="S3.SS1.SSS0.Px1.p1.3.m3.1.1" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2.cmml"></mi><mo id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.1" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.1.cmml">∼</mo><mrow id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.cmml"><mn id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.2.cmml">60</mn><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.1" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.3.cmml">K</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.3.m3.1b"><apply id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1"><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2">absent</csymbol><apply id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3"><times id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.1"></times><cn type="integer" id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.2">60</cn><ci id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.3">𝐾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.3.m3.1c">\sim 60K</annotation></semantics></math> samples)&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Cui et&nbsp;al. (<a href="#bib.bib8" title="" class="ltx_ref">2023</a>); Ivison et&nbsp;al. (<a href="#bib.bib14" title="" class="ltx_ref">2023</a>)</cite> as our preference datasets.
The training hyper-parameters closely follow that of&nbsp;<cite class="ltx_cite ltx_citemacro_citet">Tunstall et&nbsp;al. (<a href="#bib.bib26" title="" class="ltx_ref">2023</a>)</cite>.
We use two steps in sDPO, where we use OpenOrca as dataset <math id="S3.SS1.SSS0.Px1.p1.4.m4.1" class="ltx_Math" alttext="D_{1}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.4.m4.1a"><msub id="S3.SS1.SSS0.Px1.p1.4.m4.1.1" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.cmml">D</mi><mn id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.4.m4.1b"><apply id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2">𝐷</ci><cn type="integer" id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.4.m4.1c">D_{1}</annotation></semantics></math> in the first step and Ultrafeedback Cleaned as dataset <math id="S3.SS1.SSS0.Px1.p1.5.m5.1" class="ltx_Math" alttext="D_{2}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.5.m5.1a"><msub id="S3.SS1.SSS0.Px1.p1.5.m5.1.1" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2.cmml">D</mi><mn id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.5.m5.1b"><apply id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2">𝐷</ci><cn type="integer" id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.5.m5.1c">D_{2}</annotation></semantics></math> in the second step.</p>
</div>
</section>
<section id="S3.SS1.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Evaluation.</h4>

<div id="S3.SS1.SSS0.Px2.p1" class="ltx_para">
<p id="S3.SS1.SSS0.Px2.p1.1" class="ltx_p">We utilize four of the six tasks in the HuggingFace Open LLM Leaderboard&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Beeching et&nbsp;al. (<a href="#bib.bib3" title="" class="ltx_ref">2023</a>)</cite>: ARC&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Clark et&nbsp;al. (<a href="#bib.bib6" title="" class="ltx_ref">2018</a>)</cite>, HellaSWAG&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Zellers et&nbsp;al. (<a href="#bib.bib31" title="" class="ltx_ref">2019</a>)</cite>, MMLU&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Hendrycks et&nbsp;al. (<a href="#bib.bib10" title="" class="ltx_ref">2020</a>)</cite>, TruthfulQA&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Lin et&nbsp;al. (<a href="#bib.bib18" title="" class="ltx_ref">2022</a>)</cite>.
We also report the average scores for the four tasks, which is denoted as H4.
Winogrande&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Sakaguchi et&nbsp;al. (<a href="#bib.bib23" title="" class="ltx_ref">2021</a>)</cite> and GSM8K&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Cobbe et&nbsp;al. (<a href="#bib.bib7" title="" class="ltx_ref">2021</a>)</cite> are excluded to control the complexity of the experiments, <span id="S3.SS1.SSS0.Px2.p1.1.1" class="ltx_text ltx_font_italic">i.e.,</span> we excluded generation tasks in contrast to multiple choice tasks.</p>
</div>
</section>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Main Results</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.4" class="ltx_p">Evaluation results for applying sDPO to the SFT base model, along with results for other top-performing models are shown in Tab.&nbsp;<a href="#S2.T2" title="Table 2 ‣ Target model. ‣ 2.2 Stepwise DPO ‣ 2 Methodology ‣ sDPO: Don’t Use Your Data All at Once" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.
Comparing the pretrained-only ‘SOLAR 10.7B’ to the instruction-tuned ‘SOLAR 10.7B + SFT’, we can see an increase of <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="+5.24" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><mrow id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml"><mo id="S3.SS2.p1.1.m1.1.1a" xref="S3.SS2.p1.1.m1.1.1.cmml">+</mo><mn id="S3.SS2.p1.1.m1.1.1.2" xref="S3.SS2.p1.1.m1.1.1.2.cmml">5.24</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><apply id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1"><plus id="S3.SS2.p1.1.m1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1"></plus><cn type="float" id="S3.SS2.p1.1.m1.1.1.2.cmml" xref="S3.SS2.p1.1.m1.1.1.2">5.24</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">+5.24</annotation></semantics></math> in terms of H4.
Applying sDPO on SOLAR 10.7B + SFT further increases the H4 score upto <math id="S3.SS2.p1.2.m2.1" class="ltx_Math" alttext="74.31" display="inline"><semantics id="S3.SS2.p1.2.m2.1a"><mn id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml">74.31</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><cn type="float" id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">74.31</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">74.31</annotation></semantics></math>, an improvement of <math id="S3.SS2.p1.3.m3.1" class="ltx_Math" alttext="+4.80" display="inline"><semantics id="S3.SS2.p1.3.m3.1a"><mrow id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml"><mo id="S3.SS2.p1.3.m3.1.1a" xref="S3.SS2.p1.3.m3.1.1.cmml">+</mo><mn id="S3.SS2.p1.3.m3.1.1.2" xref="S3.SS2.p1.3.m3.1.1.2.cmml">4.80</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><apply id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1"><plus id="S3.SS2.p1.3.m3.1.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1"></plus><cn type="float" id="S3.SS2.p1.3.m3.1.1.2.cmml" xref="S3.SS2.p1.3.m3.1.1.2">4.80</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">+4.80</annotation></semantics></math>.
Notably, ‘SOLAR 10.7B + SFT + sDPO’ outperforms other larger models such as Mixtral 8x7B-Instruct-v0.1, despite the smaller number of parameters.
This highlights that effective alignment tuning could be the key to unlocking next level performance for smaller LLMs.
Further, applying sDPO results in substantially higher score of <math id="S3.SS2.p1.4.m4.1" class="ltx_Math" alttext="72.45" display="inline"><semantics id="S3.SS2.p1.4.m4.1a"><mn id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml">72.45</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><cn type="float" id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1">72.45</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">72.45</annotation></semantics></math> for TruthfulQA, which shows the effectiveness of the alignment tuning process.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Ablation Studies</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.7" class="ltx_p">We also report evaluation results for ablated models in Tab.&nbsp;<a href="#S2.T2" title="Table 2 ‣ Target model. ‣ 2.2 Stepwise DPO ‣ 2 Methodology ‣ sDPO: Don’t Use Your Data All at Once" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.
‘SOLAR 10.7B + SFT + DPO’ uses all the DPO data at once, <span id="S3.SS3.p1.7.1" class="ltx_text ltx_font_italic">i.e.,</span> <math id="S3.SS3.p1.1.m1.1" class="ltx_Math" alttext="D_{1}+D_{2}" display="inline"><semantics id="S3.SS3.p1.1.m1.1a"><mrow id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml"><msub id="S3.SS3.p1.1.m1.1.1.2" xref="S3.SS3.p1.1.m1.1.1.2.cmml"><mi id="S3.SS3.p1.1.m1.1.1.2.2" xref="S3.SS3.p1.1.m1.1.1.2.2.cmml">D</mi><mn id="S3.SS3.p1.1.m1.1.1.2.3" xref="S3.SS3.p1.1.m1.1.1.2.3.cmml">1</mn></msub><mo id="S3.SS3.p1.1.m1.1.1.1" xref="S3.SS3.p1.1.m1.1.1.1.cmml">+</mo><msub id="S3.SS3.p1.1.m1.1.1.3" xref="S3.SS3.p1.1.m1.1.1.3.cmml"><mi id="S3.SS3.p1.1.m1.1.1.3.2" xref="S3.SS3.p1.1.m1.1.1.3.2.cmml">D</mi><mn id="S3.SS3.p1.1.m1.1.1.3.3" xref="S3.SS3.p1.1.m1.1.1.3.3.cmml">2</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><apply id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1"><plus id="S3.SS3.p1.1.m1.1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1.1"></plus><apply id="S3.SS3.p1.1.m1.1.1.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.2.1.cmml" xref="S3.SS3.p1.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.2.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2.2">𝐷</ci><cn type="integer" id="S3.SS3.p1.1.m1.1.1.2.3.cmml" xref="S3.SS3.p1.1.m1.1.1.2.3">1</cn></apply><apply id="S3.SS3.p1.1.m1.1.1.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.3.1.cmml" xref="S3.SS3.p1.1.m1.1.1.3">subscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.3.2.cmml" xref="S3.SS3.p1.1.m1.1.1.3.2">𝐷</ci><cn type="integer" id="S3.SS3.p1.1.m1.1.1.3.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">D_{1}+D_{2}</annotation></semantics></math>, same as the conventional DPO training setup.
‘SOLAR 10.7B + SFT + sDPO Strat.’ uses stratified sampling to sample <math id="S3.SS3.p1.2.m2.1" class="ltx_Math" alttext="\sim 16.67\%" display="inline"><semantics id="S3.SS3.p1.2.m2.1a"><mrow id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml"><mi id="S3.SS3.p1.2.m2.1.1.2" xref="S3.SS3.p1.2.m2.1.1.2.cmml"></mi><mo id="S3.SS3.p1.2.m2.1.1.1" xref="S3.SS3.p1.2.m2.1.1.1.cmml">∼</mo><mrow id="S3.SS3.p1.2.m2.1.1.3" xref="S3.SS3.p1.2.m2.1.1.3.cmml"><mn id="S3.SS3.p1.2.m2.1.1.3.2" xref="S3.SS3.p1.2.m2.1.1.3.2.cmml">16.67</mn><mo id="S3.SS3.p1.2.m2.1.1.3.1" xref="S3.SS3.p1.2.m2.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b"><apply id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1"><csymbol cd="latexml" id="S3.SS3.p1.2.m2.1.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S3.SS3.p1.2.m2.1.1.2.cmml" xref="S3.SS3.p1.2.m2.1.1.2">absent</csymbol><apply id="S3.SS3.p1.2.m2.1.1.3.cmml" xref="S3.SS3.p1.2.m2.1.1.3"><csymbol cd="latexml" id="S3.SS3.p1.2.m2.1.1.3.1.cmml" xref="S3.SS3.p1.2.m2.1.1.3.1">percent</csymbol><cn type="float" id="S3.SS3.p1.2.m2.1.1.3.2.cmml" xref="S3.SS3.p1.2.m2.1.1.3.2">16.67</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">\sim 16.67\%</annotation></semantics></math> of the data points from the union of OpenOrca and Ultrafeedback Cleaned to form <math id="S3.SS3.p1.3.m3.1" class="ltx_Math" alttext="D_{1}" display="inline"><semantics id="S3.SS3.p1.3.m3.1a"><msub id="S3.SS3.p1.3.m3.1.1" xref="S3.SS3.p1.3.m3.1.1.cmml"><mi id="S3.SS3.p1.3.m3.1.1.2" xref="S3.SS3.p1.3.m3.1.1.2.cmml">D</mi><mn id="S3.SS3.p1.3.m3.1.1.3" xref="S3.SS3.p1.3.m3.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.1b"><apply id="S3.SS3.p1.3.m3.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.1.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p1.3.m3.1.1.2.cmml" xref="S3.SS3.p1.3.m3.1.1.2">𝐷</ci><cn type="integer" id="S3.SS3.p1.3.m3.1.1.3.cmml" xref="S3.SS3.p1.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.1c">D_{1}</annotation></semantics></math> and use the remaining <math id="S3.SS3.p1.4.m4.1" class="ltx_Math" alttext="\sim 83.33\%" display="inline"><semantics id="S3.SS3.p1.4.m4.1a"><mrow id="S3.SS3.p1.4.m4.1.1" xref="S3.SS3.p1.4.m4.1.1.cmml"><mi id="S3.SS3.p1.4.m4.1.1.2" xref="S3.SS3.p1.4.m4.1.1.2.cmml"></mi><mo id="S3.SS3.p1.4.m4.1.1.1" xref="S3.SS3.p1.4.m4.1.1.1.cmml">∼</mo><mrow id="S3.SS3.p1.4.m4.1.1.3" xref="S3.SS3.p1.4.m4.1.1.3.cmml"><mn id="S3.SS3.p1.4.m4.1.1.3.2" xref="S3.SS3.p1.4.m4.1.1.3.2.cmml">83.33</mn><mo id="S3.SS3.p1.4.m4.1.1.3.1" xref="S3.SS3.p1.4.m4.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.4.m4.1b"><apply id="S3.SS3.p1.4.m4.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1"><csymbol cd="latexml" id="S3.SS3.p1.4.m4.1.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S3.SS3.p1.4.m4.1.1.2.cmml" xref="S3.SS3.p1.4.m4.1.1.2">absent</csymbol><apply id="S3.SS3.p1.4.m4.1.1.3.cmml" xref="S3.SS3.p1.4.m4.1.1.3"><csymbol cd="latexml" id="S3.SS3.p1.4.m4.1.1.3.1.cmml" xref="S3.SS3.p1.4.m4.1.1.3.1">percent</csymbol><cn type="float" id="S3.SS3.p1.4.m4.1.1.3.2.cmml" xref="S3.SS3.p1.4.m4.1.1.3.2">83.33</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.4.m4.1c">\sim 83.33\%</annotation></semantics></math> as <math id="S3.SS3.p1.5.m5.1" class="ltx_Math" alttext="D_{2}" display="inline"><semantics id="S3.SS3.p1.5.m5.1a"><msub id="S3.SS3.p1.5.m5.1.1" xref="S3.SS3.p1.5.m5.1.1.cmml"><mi id="S3.SS3.p1.5.m5.1.1.2" xref="S3.SS3.p1.5.m5.1.1.2.cmml">D</mi><mn id="S3.SS3.p1.5.m5.1.1.3" xref="S3.SS3.p1.5.m5.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.5.m5.1b"><apply id="S3.SS3.p1.5.m5.1.1.cmml" xref="S3.SS3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.5.m5.1.1.1.cmml" xref="S3.SS3.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS3.p1.5.m5.1.1.2.cmml" xref="S3.SS3.p1.5.m5.1.1.2">𝐷</ci><cn type="integer" id="S3.SS3.p1.5.m5.1.1.3.cmml" xref="S3.SS3.p1.5.m5.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.5.m5.1c">D_{2}</annotation></semantics></math> to mirror the dataset size of <math id="S3.SS3.p1.6.m6.1" class="ltx_Math" alttext="D_{1}" display="inline"><semantics id="S3.SS3.p1.6.m6.1a"><msub id="S3.SS3.p1.6.m6.1.1" xref="S3.SS3.p1.6.m6.1.1.cmml"><mi id="S3.SS3.p1.6.m6.1.1.2" xref="S3.SS3.p1.6.m6.1.1.2.cmml">D</mi><mn id="S3.SS3.p1.6.m6.1.1.3" xref="S3.SS3.p1.6.m6.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.6.m6.1b"><apply id="S3.SS3.p1.6.m6.1.1.cmml" xref="S3.SS3.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.6.m6.1.1.1.cmml" xref="S3.SS3.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS3.p1.6.m6.1.1.2.cmml" xref="S3.SS3.p1.6.m6.1.1.2">𝐷</ci><cn type="integer" id="S3.SS3.p1.6.m6.1.1.3.cmml" xref="S3.SS3.p1.6.m6.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.6.m6.1c">D_{1}</annotation></semantics></math> and <math id="S3.SS3.p1.7.m7.1" class="ltx_Math" alttext="D_{2}" display="inline"><semantics id="S3.SS3.p1.7.m7.1a"><msub id="S3.SS3.p1.7.m7.1.1" xref="S3.SS3.p1.7.m7.1.1.cmml"><mi id="S3.SS3.p1.7.m7.1.1.2" xref="S3.SS3.p1.7.m7.1.1.2.cmml">D</mi><mn id="S3.SS3.p1.7.m7.1.1.3" xref="S3.SS3.p1.7.m7.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.7.m7.1b"><apply id="S3.SS3.p1.7.m7.1.1.cmml" xref="S3.SS3.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.7.m7.1.1.1.cmml" xref="S3.SS3.p1.7.m7.1.1">subscript</csymbol><ci id="S3.SS3.p1.7.m7.1.1.2.cmml" xref="S3.SS3.p1.7.m7.1.1.2">𝐷</ci><cn type="integer" id="S3.SS3.p1.7.m7.1.1.3.cmml" xref="S3.SS3.p1.7.m7.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.7.m7.1c">D_{2}</annotation></semantics></math> used in SOLAR 10.7B + SFT + sDPO.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.3" class="ltx_p">Comparing SOLAR 10.7B + SFT + DPO and SOLAR 10.7B + SFT + sDPO, we can see that using sDPO over DPO results in a higher H4 score overall, with noticeable improvements in ARC and TruthfulQA scores.
Therefore, we believe sDPO could function as a drop-in replacement for DPO training with better performance.
Looking at SOLAR 10.7B + SFT + sDPO and SOLAR 10.7B + SFT + sDPO Strat., we see that the specific way of splitting the available DPO data into multiple <math id="S3.SS3.p2.1.m1.1" class="ltx_Math" alttext="D_{t}" display="inline"><semantics id="S3.SS3.p2.1.m1.1a"><msub id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml"><mi id="S3.SS3.p2.1.m1.1.1.2" xref="S3.SS3.p2.1.m1.1.1.2.cmml">D</mi><mi id="S3.SS3.p2.1.m1.1.1.3" xref="S3.SS3.p2.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><apply id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p2.1.m1.1.1.2.cmml" xref="S3.SS3.p2.1.m1.1.1.2">𝐷</ci><ci id="S3.SS3.p2.1.m1.1.1.3.cmml" xref="S3.SS3.p2.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">D_{t}</annotation></semantics></math> can also impact performance.
We find that the natural split of using different preference datasets as <math id="S3.SS3.p2.2.m2.1" class="ltx_Math" alttext="D_{t}" display="inline"><semantics id="S3.SS3.p2.2.m2.1a"><msub id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml"><mi id="S3.SS3.p2.2.m2.1.1.2" xref="S3.SS3.p2.2.m2.1.1.2.cmml">D</mi><mi id="S3.SS3.p2.2.m2.1.1.3" xref="S3.SS3.p2.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><apply id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.2.m2.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p2.2.m2.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.2">𝐷</ci><ci id="S3.SS3.p2.2.m2.1.1.3.cmml" xref="S3.SS3.p2.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">D_{t}</annotation></semantics></math> works best in our experiments.
We believe further exploration of how to define <math id="S3.SS3.p2.3.m3.1" class="ltx_Math" alttext="D_{t}" display="inline"><semantics id="S3.SS3.p2.3.m3.1a"><msub id="S3.SS3.p2.3.m3.1.1" xref="S3.SS3.p2.3.m3.1.1.cmml"><mi id="S3.SS3.p2.3.m3.1.1.2" xref="S3.SS3.p2.3.m3.1.1.2.cmml">D</mi><mi id="S3.SS3.p2.3.m3.1.1.3" xref="S3.SS3.p2.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m3.1b"><apply id="S3.SS3.p2.3.m3.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.1.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p2.3.m3.1.1.2.cmml" xref="S3.SS3.p2.3.m3.1.1.2">𝐷</ci><ci id="S3.SS3.p2.3.m3.1.1.3.cmml" xref="S3.SS3.p2.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m3.1c">D_{t}</annotation></semantics></math> is an interesting direction for future research.</p>
</div>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>Reference Models in sDPO</h3>

<figure id="S3.F2" class="ltx_figure">
<div id="S3.F2.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:368.6pt;height:147pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(41.1pt,-16.4pt) scale(1.2871577595115,1.2871577595115) ;"><img src="/html/2403.19270/assets/x2.png" id="S3.F2.1.g1" class="ltx_graphics ltx_img_landscape" width="298" height="122" alt="Refer to caption">
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Mean <math id="S3.F2.5.m1.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S3.F2.5.m1.1b"><msub id="S3.F2.5.m1.1.1" xref="S3.F2.5.m1.1.1.cmml"><mi id="S3.F2.5.m1.1.1.2" xref="S3.F2.5.m1.1.1.2.cmml">γ</mi><msub id="S3.F2.5.m1.1.1.3" xref="S3.F2.5.m1.1.1.3.cmml"><mi id="S3.F2.5.m1.1.1.3.2" xref="S3.F2.5.m1.1.1.3.2.cmml">π</mi><mrow id="S3.F2.5.m1.1.1.3.3" xref="S3.F2.5.m1.1.1.3.3.cmml"><mi id="S3.F2.5.m1.1.1.3.3.2" xref="S3.F2.5.m1.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.F2.5.m1.1.1.3.3.1" xref="S3.F2.5.m1.1.1.3.3.1.cmml">​</mo><mi id="S3.F2.5.m1.1.1.3.3.3" xref="S3.F2.5.m1.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.F2.5.m1.1.1.3.3.1b" xref="S3.F2.5.m1.1.1.3.3.1.cmml">​</mo><mi id="S3.F2.5.m1.1.1.3.3.4" xref="S3.F2.5.m1.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.F2.5.m1.1c"><apply id="S3.F2.5.m1.1.1.cmml" xref="S3.F2.5.m1.1.1"><csymbol cd="ambiguous" id="S3.F2.5.m1.1.1.1.cmml" xref="S3.F2.5.m1.1.1">subscript</csymbol><ci id="S3.F2.5.m1.1.1.2.cmml" xref="S3.F2.5.m1.1.1.2">𝛾</ci><apply id="S3.F2.5.m1.1.1.3.cmml" xref="S3.F2.5.m1.1.1.3"><csymbol cd="ambiguous" id="S3.F2.5.m1.1.1.3.1.cmml" xref="S3.F2.5.m1.1.1.3">subscript</csymbol><ci id="S3.F2.5.m1.1.1.3.2.cmml" xref="S3.F2.5.m1.1.1.3.2">𝜋</ci><apply id="S3.F2.5.m1.1.1.3.3.cmml" xref="S3.F2.5.m1.1.1.3.3"><times id="S3.F2.5.m1.1.1.3.3.1.cmml" xref="S3.F2.5.m1.1.1.3.3.1"></times><ci id="S3.F2.5.m1.1.1.3.3.2.cmml" xref="S3.F2.5.m1.1.1.3.3.2">𝑟</ci><ci id="S3.F2.5.m1.1.1.3.3.3.cmml" xref="S3.F2.5.m1.1.1.3.3.3">𝑒</ci><ci id="S3.F2.5.m1.1.1.3.3.4.cmml" xref="S3.F2.5.m1.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.5.m1.1d">\gamma_{\pi_{ref}}</annotation></semantics></math> on Ultrafeedback Cleaned dataset for different reference models <math id="S3.F2.6.m2.2" class="ltx_Math" alttext="S,M_{1}," display="inline"><semantics id="S3.F2.6.m2.2b"><mrow id="S3.F2.6.m2.2.2.1"><mrow id="S3.F2.6.m2.2.2.1.1.1" xref="S3.F2.6.m2.2.2.1.1.2.cmml"><mi id="S3.F2.6.m2.1.1" xref="S3.F2.6.m2.1.1.cmml">S</mi><mo id="S3.F2.6.m2.2.2.1.1.1.2" xref="S3.F2.6.m2.2.2.1.1.2.cmml">,</mo><msub id="S3.F2.6.m2.2.2.1.1.1.1" xref="S3.F2.6.m2.2.2.1.1.1.1.cmml"><mi id="S3.F2.6.m2.2.2.1.1.1.1.2" xref="S3.F2.6.m2.2.2.1.1.1.1.2.cmml">M</mi><mn id="S3.F2.6.m2.2.2.1.1.1.1.3" xref="S3.F2.6.m2.2.2.1.1.1.1.3.cmml">1</mn></msub></mrow><mo id="S3.F2.6.m2.2.2.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.F2.6.m2.2c"><list id="S3.F2.6.m2.2.2.1.1.2.cmml" xref="S3.F2.6.m2.2.2.1.1.1"><ci id="S3.F2.6.m2.1.1.cmml" xref="S3.F2.6.m2.1.1">𝑆</ci><apply id="S3.F2.6.m2.2.2.1.1.1.1.cmml" xref="S3.F2.6.m2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.F2.6.m2.2.2.1.1.1.1.1.cmml" xref="S3.F2.6.m2.2.2.1.1.1.1">subscript</csymbol><ci id="S3.F2.6.m2.2.2.1.1.1.1.2.cmml" xref="S3.F2.6.m2.2.2.1.1.1.1.2">𝑀</ci><cn type="integer" id="S3.F2.6.m2.2.2.1.1.1.1.3.cmml" xref="S3.F2.6.m2.2.2.1.1.1.1.3">1</cn></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.6.m2.2d">S,M_{1},</annotation></semantics></math> and <math id="S3.F2.7.m3.1" class="ltx_Math" alttext="M_{2}" display="inline"><semantics id="S3.F2.7.m3.1b"><msub id="S3.F2.7.m3.1.1" xref="S3.F2.7.m3.1.1.cmml"><mi id="S3.F2.7.m3.1.1.2" xref="S3.F2.7.m3.1.1.2.cmml">M</mi><mn id="S3.F2.7.m3.1.1.3" xref="S3.F2.7.m3.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.F2.7.m3.1c"><apply id="S3.F2.7.m3.1.1.cmml" xref="S3.F2.7.m3.1.1"><csymbol cd="ambiguous" id="S3.F2.7.m3.1.1.1.cmml" xref="S3.F2.7.m3.1.1">subscript</csymbol><ci id="S3.F2.7.m3.1.1.2.cmml" xref="S3.F2.7.m3.1.1.2">𝑀</ci><cn type="integer" id="S3.F2.7.m3.1.1.3.cmml" xref="S3.F2.7.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.7.m3.1d">M_{2}</annotation></semantics></math>. Note that the x-axis is in log scale.</figcaption>
</figure>
<section id="S3.SS4.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Effectiveness of sDPO in terms of alignment tuning.</h4>

<div id="S3.SS4.SSS0.Px1.p1" class="ltx_para">
<p id="S3.SS4.SSS0.Px1.p1.12" class="ltx_p">In Sec.&nbsp;<a href="#S2.SS2" title="2.2 Stepwise DPO ‣ 2 Methodology ‣ sDPO: Don’t Use Your Data All at Once" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.2</span></a>, we explain that the reference models in sDPO are more aligned, resulting in higher <math id="S3.SS4.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.1.m1.1a"><msub id="S3.SS4.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.2" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.2" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.1" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.3" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.1a" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.4" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.1.m1.1b"><apply id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3"><times id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.1.m1.1c">\gamma_{\pi_{ref}}</annotation></semantics></math>, <span id="S3.SS4.SSS0.Px1.p1.12.1" class="ltx_text ltx_font_italic">i.e.,</span> a stricter lower bound.
We verify the above empirically in Fig.&nbsp;<a href="#S3.F2" title="Figure 2 ‣ 3.4 Reference Models in sDPO ‣ 3 Experiments ‣ sDPO: Don’t Use Your Data All at Once" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> by comparing the mean <math id="S3.SS4.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.2.m2.1a"><msub id="S3.SS4.SSS0.Px1.p1.2.m2.1.1" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.2" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.2" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.1" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.3" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.1a" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.4" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.2.m2.1b"><apply id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3"><times id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px1.p1.2.m2.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.2.m2.1c">\gamma_{\pi_{ref}}</annotation></semantics></math> on the Ultrafeedback Cleaned dataset for the reference models in steps 1 and 2 of sDPO, <span id="S3.SS4.SSS0.Px1.p1.12.2" class="ltx_text ltx_font_italic">i.e.,</span> <math id="S3.SS4.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.3.m3.1a"><mi id="S3.SS4.SSS0.Px1.p1.3.m3.1.1" xref="S3.SS4.SSS0.Px1.p1.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.3.m3.1b"><ci id="S3.SS4.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.3.m3.1c">S</annotation></semantics></math> and <math id="S3.SS4.SSS0.Px1.p1.4.m4.1" class="ltx_Math" alttext="M_{1}" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.4.m4.1a"><msub id="S3.SS4.SSS0.Px1.p1.4.m4.1.1" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.2" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.3" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.4.m4.1b"><apply id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px1.p1.4.m4.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.4.m4.1c">M_{1}</annotation></semantics></math>.
Note that these two models have not been trained on the aforementioned dataset.
Using the SFT base model <math id="S3.SS4.SSS0.Px1.p1.5.m5.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.5.m5.1a"><mi id="S3.SS4.SSS0.Px1.p1.5.m5.1.1" xref="S3.SS4.SSS0.Px1.p1.5.m5.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.5.m5.1b"><ci id="S3.SS4.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.5.m5.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.5.m5.1c">S</annotation></semantics></math> as the reference model, the mean of <math id="S3.SS4.SSS0.Px1.p1.6.m6.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.6.m6.1a"><msub id="S3.SS4.SSS0.Px1.p1.6.m6.1.1" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.2" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.1" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.3" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.1a" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.4" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.6.m6.1b"><apply id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3"><times id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px1.p1.6.m6.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.6.m6.1c">\gamma_{\pi_{ref}}</annotation></semantics></math> is <math id="S3.SS4.SSS0.Px1.p1.7.m7.1" class="ltx_Math" alttext="-38.60" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.7.m7.1a"><mrow id="S3.SS4.SSS0.Px1.p1.7.m7.1.1" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1.cmml"><mo id="S3.SS4.SSS0.Px1.p1.7.m7.1.1a" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1.cmml">−</mo><mn id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.2" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1.2.cmml">38.60</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.7.m7.1b"><apply id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1"><minus id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1"></minus><cn type="float" id="S3.SS4.SSS0.Px1.p1.7.m7.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.7.m7.1.1.2">38.60</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.7.m7.1c">-38.60</annotation></semantics></math>.
On the other hand, using the aligned model <math id="S3.SS4.SSS0.Px1.p1.8.m8.1" class="ltx_Math" alttext="M_{1}" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.8.m8.1a"><msub id="S3.SS4.SSS0.Px1.p1.8.m8.1.1" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.2" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.3" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.8.m8.1b"><apply id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px1.p1.8.m8.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.8.m8.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.8.m8.1c">M_{1}</annotation></semantics></math> from step 1 of sDPO as the reference model, the mean of <math id="S3.SS4.SSS0.Px1.p1.9.m9.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.9.m9.1a"><msub id="S3.SS4.SSS0.Px1.p1.9.m9.1.1" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.2" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.1" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.3" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.1a" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.4" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.9.m9.1b"><apply id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3"><times id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px1.p1.9.m9.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.9.m9.1c">\gamma_{\pi_{ref}}</annotation></semantics></math> is <math id="S3.SS4.SSS0.Px1.p1.10.m10.1" class="ltx_Math" alttext="-25.10" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.10.m10.1a"><mrow id="S3.SS4.SSS0.Px1.p1.10.m10.1.1" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.cmml"><mo id="S3.SS4.SSS0.Px1.p1.10.m10.1.1a" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.cmml">−</mo><mn id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.2" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.2.cmml">25.10</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.10.m10.1b"><apply id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1"><minus id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1"></minus><cn type="float" id="S3.SS4.SSS0.Px1.p1.10.m10.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.10.m10.1.1.2">25.10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.10.m10.1c">-25.10</annotation></semantics></math>, an increase of <math id="S3.SS4.SSS0.Px1.p1.11.m11.1" class="ltx_Math" alttext="13.50" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.11.m11.1a"><mn id="S3.SS4.SSS0.Px1.p1.11.m11.1.1" xref="S3.SS4.SSS0.Px1.p1.11.m11.1.1.cmml">13.50</mn><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.11.m11.1b"><cn type="float" id="S3.SS4.SSS0.Px1.p1.11.m11.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.11.m11.1.1">13.50</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.11.m11.1c">13.50</annotation></semantics></math> in <span id="S3.SS4.SSS0.Px1.p1.12.3" class="ltx_text ltx_font_italic">log scale</span>.
Thus, a single step of sDPO greatly increases <math id="S3.SS4.SSS0.Px1.p1.12.m12.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S3.SS4.SSS0.Px1.p1.12.m12.1a"><msub id="S3.SS4.SSS0.Px1.p1.12.m12.1.1" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.cmml"><mi id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.2" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.2" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.2" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.1" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.3" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.1a" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.4" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px1.p1.12.m12.1b"><apply id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.1.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.2.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3"><times id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px1.p1.12.m12.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px1.p1.12.m12.1c">\gamma_{\pi_{ref}}</annotation></semantics></math>, which results in a more performant aligned model as seen in Tab.&nbsp;<a href="#S2.T2" title="Table 2 ‣ Target model. ‣ 2.2 Stepwise DPO ‣ 2 Methodology ‣ sDPO: Don’t Use Your Data All at Once" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
</section>
<section id="S3.SS4.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Adopting open source models as reference models could be dangerous.</h4>

<div id="S3.SS4.SSS0.Px2.p1" class="ltx_para">
<p id="S3.SS4.SSS0.Px2.p1.13" class="ltx_p">We also show mean <math id="S3.SS4.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.1.m1.1a"><msub id="S3.SS4.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.2" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.2" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.2" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.3" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1a" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.4" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.1.m1.1b"><apply id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3"><times id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.1.m1.1c">\gamma_{\pi_{ref}}</annotation></semantics></math> of <math id="S3.SS4.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="M_{2}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.2.m2.1a"><msub id="S3.SS4.SSS0.Px2.p1.2.m2.1.1" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.2" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.3" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.2.m2.1b"><apply id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.2.m2.1c">M_{2}</annotation></semantics></math>, the aligned model from step 2 of sDPO.
Unlike <math id="S3.SS4.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.3.m3.1a"><mi id="S3.SS4.SSS0.Px2.p1.3.m3.1.1" xref="S3.SS4.SSS0.Px2.p1.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.3.m3.1b"><ci id="S3.SS4.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.3.m3.1c">S</annotation></semantics></math> and <math id="S3.SS4.SSS0.Px2.p1.4.m4.1" class="ltx_Math" alttext="M_{1}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.4.m4.1a"><msub id="S3.SS4.SSS0.Px2.p1.4.m4.1.1" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.2" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.3" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.4.m4.1b"><apply id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.4.m4.1c">M_{1}</annotation></semantics></math>, <math id="S3.SS4.SSS0.Px2.p1.5.m5.1" class="ltx_Math" alttext="M_{2}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.5.m5.1a"><msub id="S3.SS4.SSS0.Px2.p1.5.m5.1.1" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.2" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.3" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.5.m5.1b"><apply id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.5.m5.1c">M_{2}</annotation></semantics></math> is trained on the Ultrafeedback Cleaned dataset, <span id="S3.SS4.SSS0.Px2.p1.13.1" class="ltx_text ltx_font_italic">i.e.,</span> <math id="S3.SS4.SSS0.Px2.p1.6.m6.1" class="ltx_Math" alttext="M_{2}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.6.m6.1a"><msub id="S3.SS4.SSS0.Px2.p1.6.m6.1.1" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.2" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.3" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.6.m6.1b"><apply id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px2.p1.6.m6.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.6.m6.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.6.m6.1c">M_{2}</annotation></semantics></math> is used as a reference model on data that was already used to train it.
Note that such a case could happen commonly when adopting various open source models as reference models.
This is because the datasets that were used in training those models are often unclear and could overlap with the preference datasets unintentionally.
Mean <math id="S3.SS4.SSS0.Px2.p1.7.m7.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.7.m7.1a"><msub id="S3.SS4.SSS0.Px2.p1.7.m7.1.1" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.2" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.2.cmml">γ</mi><msub id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.2" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.2.cmml">π</mi><mrow id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.cmml"><mi id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.2" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.1" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.3" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.1a" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.1.cmml">​</mo><mi id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.4" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.7.m7.1b"><apply id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.2">𝛾</ci><apply id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.2">𝜋</ci><apply id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3"><times id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.1"></times><ci id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.2">𝑟</ci><ci id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.3">𝑒</ci><ci id="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.4.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m7.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.7.m7.1c">\gamma_{\pi_{ref}}</annotation></semantics></math> of <math id="S3.SS4.SSS0.Px2.p1.8.m8.1" class="ltx_Math" alttext="M_{2}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.8.m8.1a"><msub id="S3.SS4.SSS0.Px2.p1.8.m8.1.1" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.2" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.3" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.8.m8.1b"><apply id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px2.p1.8.m8.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.8.m8.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.8.m8.1c">M_{2}</annotation></semantics></math> is <math id="S3.SS4.SSS0.Px2.p1.9.m9.1" class="ltx_Math" alttext="84.35" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.9.m9.1a"><mn id="S3.SS4.SSS0.Px2.p1.9.m9.1.1" xref="S3.SS4.SSS0.Px2.p1.9.m9.1.1.cmml">84.35</mn><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.9.m9.1b"><cn type="float" id="S3.SS4.SSS0.Px2.p1.9.m9.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.9.m9.1.1">84.35</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.9.m9.1c">84.35</annotation></semantics></math>, which is staggeringly higher than either <math id="S3.SS4.SSS0.Px2.p1.10.m10.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.10.m10.1a"><mi id="S3.SS4.SSS0.Px2.p1.10.m10.1.1" xref="S3.SS4.SSS0.Px2.p1.10.m10.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.10.m10.1b"><ci id="S3.SS4.SSS0.Px2.p1.10.m10.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.10.m10.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.10.m10.1c">S</annotation></semantics></math> or <math id="S3.SS4.SSS0.Px2.p1.11.m11.1" class="ltx_Math" alttext="M_{1}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.11.m11.1a"><msub id="S3.SS4.SSS0.Px2.p1.11.m11.1.1" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.2" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.3" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.11.m11.1b"><apply id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px2.p1.11.m11.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.11.m11.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.11.m11.1c">M_{1}</annotation></semantics></math>.
The strikingly high value for <math id="S3.SS4.SSS0.Px2.p1.12.m12.1" class="ltx_Math" alttext="M_{2}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.12.m12.1a"><msub id="S3.SS4.SSS0.Px2.p1.12.m12.1.1" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.2" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.3" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.12.m12.1b"><apply id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px2.p1.12.m12.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.12.m12.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.12.m12.1c">M_{2}</annotation></semantics></math> likely points to overfitting of <math id="S3.SS4.SSS0.Px2.p1.13.m13.1" class="ltx_Math" alttext="M_{2}" display="inline"><semantics id="S3.SS4.SSS0.Px2.p1.13.m13.1a"><msub id="S3.SS4.SSS0.Px2.p1.13.m13.1.1" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.2" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1.2.cmml">M</mi><mn id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.3" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.13.m13.1b"><apply id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1.2">𝑀</ci><cn type="integer" id="S3.SS4.SSS0.Px2.p1.13.m13.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.13.m13.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.13.m13.1c">M_{2}</annotation></semantics></math> to the Ultrafeedback Cleaned dataset.
This result highlights the potential danger of merely adopting open source models as reference models instead of using sDPO.</p>
</div>
</section>
</section>
<section id="S3.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.5 </span>Target Model Initialization in sDPO</h3>

<div id="S3.SS5.p1" class="ltx_para">
<p id="S3.SS5.p1.2" class="ltx_p">The target model in each step of sDPO is also initialized with <math id="S3.SS5.p1.1.m1.1" class="ltx_Math" alttext="M_{t-1}" display="inline"><semantics id="S3.SS5.p1.1.m1.1a"><msub id="S3.SS5.p1.1.m1.1.1" xref="S3.SS5.p1.1.m1.1.1.cmml"><mi id="S3.SS5.p1.1.m1.1.1.2" xref="S3.SS5.p1.1.m1.1.1.2.cmml">M</mi><mrow id="S3.SS5.p1.1.m1.1.1.3" xref="S3.SS5.p1.1.m1.1.1.3.cmml"><mi id="S3.SS5.p1.1.m1.1.1.3.2" xref="S3.SS5.p1.1.m1.1.1.3.2.cmml">t</mi><mo id="S3.SS5.p1.1.m1.1.1.3.1" xref="S3.SS5.p1.1.m1.1.1.3.1.cmml">−</mo><mn id="S3.SS5.p1.1.m1.1.1.3.3" xref="S3.SS5.p1.1.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.1.m1.1b"><apply id="S3.SS5.p1.1.m1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p1.1.m1.1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS5.p1.1.m1.1.1.2.cmml" xref="S3.SS5.p1.1.m1.1.1.2">𝑀</ci><apply id="S3.SS5.p1.1.m1.1.1.3.cmml" xref="S3.SS5.p1.1.m1.1.1.3"><minus id="S3.SS5.p1.1.m1.1.1.3.1.cmml" xref="S3.SS5.p1.1.m1.1.1.3.1"></minus><ci id="S3.SS5.p1.1.m1.1.1.3.2.cmml" xref="S3.SS5.p1.1.m1.1.1.3.2">𝑡</ci><cn type="integer" id="S3.SS5.p1.1.m1.1.1.3.3.cmml" xref="S3.SS5.p1.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.1.m1.1c">M_{t-1}</annotation></semantics></math>, the aligned model from the last step.
This ensures that the final model in sDPO has undergone training with the same amount of data as the final model in DPO.
On the other hand, one concern of such design choice is that it may become increasingly difficult to stabilize the training of the target model as the steps progress, since it has already undergone training with a decreasing learning rate schedule in the preceding steps.
Thus, another option is to use the initial SFT base model <math id="S3.SS5.p1.2.m2.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S3.SS5.p1.2.m2.1a"><mi id="S3.SS5.p1.2.m2.1.1" xref="S3.SS5.p1.2.m2.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.2.m2.1b"><ci id="S3.SS5.p1.2.m2.1.1.cmml" xref="S3.SS5.p1.2.m2.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.2.m2.1c">S</annotation></semantics></math> as the target model for all steps of sDPO.</p>
</div>
<div id="S3.SS5.p2" class="ltx_para">
<p id="S3.SS5.p2.4" class="ltx_p">However, as shown in Fig.&nbsp;<a href="#S3.F3" title="Figure 3 ‣ 3.5 Target Model Initialization in sDPO ‣ 3 Experiments ‣ sDPO: Don’t Use Your Data All at Once" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, initializing the target model as <math id="S3.SS5.p2.1.m1.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S3.SS5.p2.1.m1.1a"><mi id="S3.SS5.p2.1.m1.1.1" xref="S3.SS5.p2.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.1.m1.1b"><ci id="S3.SS5.p2.1.m1.1.1.cmml" xref="S3.SS5.p2.1.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.1.m1.1c">S</annotation></semantics></math> results in a much bigger initial loss than that of <math id="S3.SS5.p2.2.m2.1" class="ltx_Math" alttext="M_{t-1}" display="inline"><semantics id="S3.SS5.p2.2.m2.1a"><msub id="S3.SS5.p2.2.m2.1.1" xref="S3.SS5.p2.2.m2.1.1.cmml"><mi id="S3.SS5.p2.2.m2.1.1.2" xref="S3.SS5.p2.2.m2.1.1.2.cmml">M</mi><mrow id="S3.SS5.p2.2.m2.1.1.3" xref="S3.SS5.p2.2.m2.1.1.3.cmml"><mi id="S3.SS5.p2.2.m2.1.1.3.2" xref="S3.SS5.p2.2.m2.1.1.3.2.cmml">t</mi><mo id="S3.SS5.p2.2.m2.1.1.3.1" xref="S3.SS5.p2.2.m2.1.1.3.1.cmml">−</mo><mn id="S3.SS5.p2.2.m2.1.1.3.3" xref="S3.SS5.p2.2.m2.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.2.m2.1b"><apply id="S3.SS5.p2.2.m2.1.1.cmml" xref="S3.SS5.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.2.m2.1.1.1.cmml" xref="S3.SS5.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS5.p2.2.m2.1.1.2.cmml" xref="S3.SS5.p2.2.m2.1.1.2">𝑀</ci><apply id="S3.SS5.p2.2.m2.1.1.3.cmml" xref="S3.SS5.p2.2.m2.1.1.3"><minus id="S3.SS5.p2.2.m2.1.1.3.1.cmml" xref="S3.SS5.p2.2.m2.1.1.3.1"></minus><ci id="S3.SS5.p2.2.m2.1.1.3.2.cmml" xref="S3.SS5.p2.2.m2.1.1.3.2">𝑡</ci><cn type="integer" id="S3.SS5.p2.2.m2.1.1.3.3.cmml" xref="S3.SS5.p2.2.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.2.m2.1c">M_{t-1}</annotation></semantics></math>, which could lead to an unstable training.
The main reason is that DPO training is usually done where the reference and target models are the same.
In contrast, initializing the target model as <math id="S3.SS5.p2.3.m3.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S3.SS5.p2.3.m3.1a"><mi id="S3.SS5.p2.3.m3.1.1" xref="S3.SS5.p2.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.3.m3.1b"><ci id="S3.SS5.p2.3.m3.1.1.cmml" xref="S3.SS5.p2.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.3.m3.1c">S</annotation></semantics></math> creates a differential in the reference and target models, which may be amplified as the steps progress.
Thus, for stable training, initializing the target model as <math id="S3.SS5.p2.4.m4.1" class="ltx_Math" alttext="M_{t-1}" display="inline"><semantics id="S3.SS5.p2.4.m4.1a"><msub id="S3.SS5.p2.4.m4.1.1" xref="S3.SS5.p2.4.m4.1.1.cmml"><mi id="S3.SS5.p2.4.m4.1.1.2" xref="S3.SS5.p2.4.m4.1.1.2.cmml">M</mi><mrow id="S3.SS5.p2.4.m4.1.1.3" xref="S3.SS5.p2.4.m4.1.1.3.cmml"><mi id="S3.SS5.p2.4.m4.1.1.3.2" xref="S3.SS5.p2.4.m4.1.1.3.2.cmml">t</mi><mo id="S3.SS5.p2.4.m4.1.1.3.1" xref="S3.SS5.p2.4.m4.1.1.3.1.cmml">−</mo><mn id="S3.SS5.p2.4.m4.1.1.3.3" xref="S3.SS5.p2.4.m4.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.4.m4.1b"><apply id="S3.SS5.p2.4.m4.1.1.cmml" xref="S3.SS5.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.4.m4.1.1.1.cmml" xref="S3.SS5.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS5.p2.4.m4.1.1.2.cmml" xref="S3.SS5.p2.4.m4.1.1.2">𝑀</ci><apply id="S3.SS5.p2.4.m4.1.1.3.cmml" xref="S3.SS5.p2.4.m4.1.1.3"><minus id="S3.SS5.p2.4.m4.1.1.3.1.cmml" xref="S3.SS5.p2.4.m4.1.1.3.1"></minus><ci id="S3.SS5.p2.4.m4.1.1.3.2.cmml" xref="S3.SS5.p2.4.m4.1.1.3.2">𝑡</ci><cn type="integer" id="S3.SS5.p2.4.m4.1.1.3.3.cmml" xref="S3.SS5.p2.4.m4.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.4.m4.1c">M_{t-1}</annotation></semantics></math> was chosen for sDPO.</p>
</div>
<figure id="S3.F3" class="ltx_figure">
<div id="S3.F3.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:368.6pt;height:151.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(44.0pt,-18.1pt) scale(1.31368174121967,1.31368174121967) ;"><img src="/html/2403.19270/assets/x3.png" id="S3.F3.1.g1" class="ltx_graphics ltx_img_landscape" width="292" height="123" alt="Refer to caption">
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Loss curve comparison in step 2 of sDPO for different initializations of the target model.</figcaption>
</figure>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Conclusion</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">We propose sDPO where we use the preference data in a stepwise way instead of all at once.
We show that applying sDPO results in more performant models than DPO in terms of H4 score.
We also empirically exhibit that sDPO results in more aligned reference models by comparing mean <math id="S4.p1.1.m1.1" class="ltx_Math" alttext="\gamma_{\pi_{ref}}" display="inline"><semantics id="S4.p1.1.m1.1a"><msub id="S4.p1.1.m1.1.1" xref="S4.p1.1.m1.1.1.cmml"><mi id="S4.p1.1.m1.1.1.2" xref="S4.p1.1.m1.1.1.2.cmml">γ</mi><msub id="S4.p1.1.m1.1.1.3" xref="S4.p1.1.m1.1.1.3.cmml"><mi id="S4.p1.1.m1.1.1.3.2" xref="S4.p1.1.m1.1.1.3.2.cmml">π</mi><mrow id="S4.p1.1.m1.1.1.3.3" xref="S4.p1.1.m1.1.1.3.3.cmml"><mi id="S4.p1.1.m1.1.1.3.3.2" xref="S4.p1.1.m1.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.p1.1.m1.1.1.3.3.1" xref="S4.p1.1.m1.1.1.3.3.1.cmml">​</mo><mi id="S4.p1.1.m1.1.1.3.3.3" xref="S4.p1.1.m1.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S4.p1.1.m1.1.1.3.3.1a" xref="S4.p1.1.m1.1.1.3.3.1.cmml">​</mo><mi id="S4.p1.1.m1.1.1.3.3.4" xref="S4.p1.1.m1.1.1.3.3.4.cmml">f</mi></mrow></msub></msub><annotation-xml encoding="MathML-Content" id="S4.p1.1.m1.1b"><apply id="S4.p1.1.m1.1.1.cmml" xref="S4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.p1.1.m1.1.1.1.cmml" xref="S4.p1.1.m1.1.1">subscript</csymbol><ci id="S4.p1.1.m1.1.1.2.cmml" xref="S4.p1.1.m1.1.1.2">𝛾</ci><apply id="S4.p1.1.m1.1.1.3.cmml" xref="S4.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.p1.1.m1.1.1.3.1.cmml" xref="S4.p1.1.m1.1.1.3">subscript</csymbol><ci id="S4.p1.1.m1.1.1.3.2.cmml" xref="S4.p1.1.m1.1.1.3.2">𝜋</ci><apply id="S4.p1.1.m1.1.1.3.3.cmml" xref="S4.p1.1.m1.1.1.3.3"><times id="S4.p1.1.m1.1.1.3.3.1.cmml" xref="S4.p1.1.m1.1.1.3.3.1"></times><ci id="S4.p1.1.m1.1.1.3.3.2.cmml" xref="S4.p1.1.m1.1.1.3.3.2">𝑟</ci><ci id="S4.p1.1.m1.1.1.3.3.3.cmml" xref="S4.p1.1.m1.1.1.3.3.3">𝑒</ci><ci id="S4.p1.1.m1.1.1.3.3.4.cmml" xref="S4.p1.1.m1.1.1.3.3.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.1.m1.1c">\gamma_{\pi_{ref}}</annotation></semantics></math>.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Limitations</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">While we have demonstrated the effectiveness of employing different datasets in distinct stages of sDPO, identifying an optimal strategy for segmenting more intricate DPO data collections remains an area for further exploration. This task is particularly challenging due to the complexities within these datasets. Our approach, while promising, necessitates a more deeper understanding of dataset characteristics and their impact on the performance of sDPO.</p>
</div>
<div id="Sx1.p2" class="ltx_para">
<p id="Sx1.p2.1" class="ltx_p">Furthermore, our experiments predominantly utilized SOLAR 10.7B models, driven by the state-of-the-art performance at the time of experimentation along with its unique 10.7 billion parameter size.
The unique size of SOLAR 10.7B models made the usage of sDPO more necessary as there are far fewer open source LLMs that can be adopted as reference models.</p>
</div>
<div id="Sx1.p3" class="ltx_para">
<p id="Sx1.p3.1" class="ltx_p">Additionally, as with most research on LLMs, we operated within our limitations in computational resources. Although this focus has yielded significant insights, expanding our experimental framework to incorporate a broader range of Large Language Models (LLMs) could potentially unveil more comprehensive understanding of the strengths and limitations of sDPO. Such an expansion would allow for a more robust comparison across different model architectures and sizes, further enriching our findings.</p>
</div>
<div id="Sx1.p4" class="ltx_para">
<p id="Sx1.p4.1" class="ltx_p">Evaluating the efficacy of LLMs is an evolving challenge in the field. In our study, we primarily employed tasks from the Huggingface Open LLM Leaderboard as benchmarks for evaluation. While this provided comparative results, future research could benefit from incorporating a wider array of tasks and benchmarks. These could include tasks that judge actual human or strong AI preference alignment. Such additional evaluation would not only enhance the validity of our findings but also contribute to the broader discourse on LLM assessment methodologies.</p>
</div>
</section>
<section id="Sx2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Ethics Statement</h2>

<div id="Sx2.p1" class="ltx_para">
<p id="Sx2.p1.1" class="ltx_p">In this study, we strictly adhered to ethical standards in the conduct of our research. Our experiments were based entirely on open models and open datasets, ensuring transparency and accessibility. We took meticulous care to avoid any biases or data contamination, thereby maintaining the integrity of our research process. The experimental environment was rigorously designed to be objective, ensuring that all comparisons conducted were fair and impartial. This approach reinforces the reliability and validity of our findings, contributing positively to the field while upholding the highest ethical standards. We confirmed that all the data used in our experiments were free of licensing issues.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Anil et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Rohan Anil, Andrew&nbsp;M Dai, Orhan Firat, Melvin Johnson, Dmitry Lepikhin, Alexandre Passos, Siamak Shakeri, Emanuel Taropa, Paige Bailey, Zhifeng Chen, et&nbsp;al. 2023.

</span>
<span class="ltx_bibblock">Palm 2 technical report.

</span>
<span class="ltx_bibblock"><em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2305.10403</em>.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bai et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Yuntao Bai, Saurav Kadavath, Sandipan Kundu, Amanda Askell, Jackson Kernion, Andy Jones, Anna Chen, Anna Goldie, Azalia Mirhoseini, Cameron McKinnon, et&nbsp;al. 2022.

</span>
<span class="ltx_bibblock">Constitutional ai: Harmlessness from ai feedback.

</span>
<span class="ltx_bibblock"><em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2212.08073</em>.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Beeching et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Edward Beeching, Clémentine Fourrier, Nathan Habib, Sheon Han, Nathan Lambert, Nazneen Rajani, Omar Sanseviero, Lewis Tunstall, and Thomas Wolf. 2023.

</span>
<span class="ltx_bibblock">Open llm leaderboard.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://huggingface.co/spaces/HuggingFaceH4/open_llm_leaderboard" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://huggingface.co/spaces/HuggingFaceH4/open_llm_leaderboard</a>.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et&nbsp;al. (2020)</span>
<span class="ltx_bibblock">
Tom Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared&nbsp;D Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell, et&nbsp;al. 2020.

</span>
<span class="ltx_bibblock">Language models are few-shot learners.

</span>
<span class="ltx_bibblock"><em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">Advances in neural information processing systems</em>, 33:1877–1901.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Christiano et&nbsp;al. (2017)</span>
<span class="ltx_bibblock">
Paul&nbsp;F Christiano, Jan Leike, Tom Brown, Miljan Martic, Shane Legg, and Dario Amodei. 2017.

</span>
<span class="ltx_bibblock">Deep reinforcement learning from human preferences.

</span>
<span class="ltx_bibblock"><em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">Advances in neural information processing systems</em>, 30.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Clark et&nbsp;al. (2018)</span>
<span class="ltx_bibblock">
Peter Clark, Isaac Cowhey, Oren Etzioni, Tushar Khot, Ashish Sabharwal, Carissa Schoenick, and Oyvind Tafjord. 2018.

</span>
<span class="ltx_bibblock">Think you have solved question answering? try arc, the ai2 reasoning challenge.

</span>
<span class="ltx_bibblock"><em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1803.05457</em>.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cobbe et&nbsp;al. (2021)</span>
<span class="ltx_bibblock">
Karl Cobbe, Vineet Kosaraju, Mohammad Bavarian, Mark Chen, Heewoo Jun, Lukasz Kaiser, Matthias Plappert, Jerry Tworek, Jacob Hilton, Reiichiro Nakano, et&nbsp;al. 2021.

</span>
<span class="ltx_bibblock">Training verifiers to solve math word problems.

</span>
<span class="ltx_bibblock"><em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2110.14168</em>.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cui et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Ganqu Cui, Lifan Yuan, Ning Ding, Guanming Yao, Wei Zhu, Yuan Ni, Guotong Xie, Zhiyuan Liu, and Maosong Sun. 2023.

</span>
<span class="ltx_bibblock">Ultrafeedback: Boosting language models with high-quality feedback.

</span>
<span class="ltx_bibblock"><em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2310.01377</em>.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dong et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Hanze Dong, Wei Xiong, Deepanshu Goyal, Rui Pan, Shizhe Diao, Jipeng Zhang, Kashun Shum, and Tong Zhang. 2023.

</span>
<span class="ltx_bibblock">Raft: Reward ranked finetuning for generative foundation model alignment.

</span>
<span class="ltx_bibblock"><em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2304.06767</em>.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hendrycks et&nbsp;al. (2020)</span>
<span class="ltx_bibblock">
Dan Hendrycks, Collin Burns, Steven Basart, Andy Zou, Mantas Mazeika, Dawn Song, and Jacob Steinhardt. 2020.

</span>
<span class="ltx_bibblock">Measuring massive multitask language understanding.

</span>
<span class="ltx_bibblock">In <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hernandez et&nbsp;al. (2021)</span>
<span class="ltx_bibblock">
Danny Hernandez, Jared Kaplan, Tom Henighan, and Sam McCandlish. 2021.

</span>
<span class="ltx_bibblock">Scaling laws for transfer.

</span>
<span class="ltx_bibblock"><em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2102.01293</em>.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Intel (2023a)</span>
<span class="ltx_bibblock">
Intel. 2023a.

</span>
<span class="ltx_bibblock">Intel/neural-chat-7b-v3-1.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://huggingface.co/Intel/neural-chat-7b-v3-1" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://huggingface.co/Intel/neural-chat-7b-v3-1</a>.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Intel (2023b)</span>
<span class="ltx_bibblock">
Intel. 2023b.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://medium.com/intel-analytics-software/the-practice-of-supervised-finetuning-and-direct-preference-optimization-on-habana-gaudi2-a1197d8a3cd3" title="" class="ltx_ref ltx_href">Supervised fine-tuning and direct preference optimization on intel gaudi2</a>.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ivison et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Hamish Ivison, Yizhong Wang, Valentina Pyatkin, Nathan Lambert, Matthew Peters, Pradeep Dasigi, Joel Jang, David Wadden, Noah&nbsp;A. Smith, Iz&nbsp;Beltagy, and Hannaneh Hajishirzi. 2023.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://arxiv.org/abs/2311.10702" title="" class="ltx_ref ltx_href">Camels in a changing climate: Enhancing lm adaptation with tulu 2</a>.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kaplan et&nbsp;al. (2020)</span>
<span class="ltx_bibblock">
Jared Kaplan, Sam McCandlish, Tom Henighan, Tom&nbsp;B Brown, Benjamin Chess, Rewon Child, Scott Gray, Alec Radford, Jeffrey Wu, and Dario Amodei. 2020.

</span>
<span class="ltx_bibblock">Scaling laws for neural language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2001.08361</em>.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kim et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Dahyun Kim, Chanjun Park, Sanghoon Kim, Wonsung Lee, Wonho Song, Yunsu Kim, Hyeonwoo Kim, Yungi Kim, Hyeonju Lee, Jihoo Kim, Changbae Ahn, Seonghoon Yang, Sukyung Lee, Hyunbyung Park, Gyoungjin Gim, Mikyoung Cha, Hwalsuk Lee, and Sunghun Kim. 2023.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://arxiv.org/abs/2312.15166" title="" class="ltx_ref ltx_href">Solar 10.7b: Scaling large language models with simple yet effective depth up-scaling</a>.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lian et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Wing Lian, Bleys Goodson, Guan Wang, Eugene Pentland, Austin Cook, Chanvichet Vong, and "Teknium". 2023.

</span>
<span class="ltx_bibblock">Mistralorca: Mistral-7b model instruct-tuned on filtered openorcav1 gpt-4 dataset.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://huggingface.co/Open-Orca/Mistral-7B-OpenOrca" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://huggingface.co/Open-Orca/Mistral-7B-OpenOrca</a>.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Stephanie Lin, Jacob Hilton, and Owain Evans. 2022.

</span>
<span class="ltx_bibblock">Truthfulqa: Measuring how models mimic human falsehoods.

</span>
<span class="ltx_bibblock">In <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 60th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pages 3214–3252.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mukherjee et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Subhabrata Mukherjee, Arindam Mitra, Ganesh Jawahar, Sahaj Agarwal, Hamid Palangi, and Ahmed Awadallah. 2023.

</span>
<span class="ltx_bibblock">Orca: Progressive learning from complex explanation traces of gpt-4.

</span>
<span class="ltx_bibblock"><em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2306.02707</em>.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI (2023)</span>
<span class="ltx_bibblock">
OpenAI. 2023.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://arxiv.org/abs/2303.08774" title="" class="ltx_ref ltx_href">Gpt-4 technical report</a>.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et&nbsp;al. (2019)</span>
<span class="ltx_bibblock">
Alec Radford, Jeffrey Wu, Rewon Child, David Luan, Dario Amodei, Ilya Sutskever, et&nbsp;al. 2019.

</span>
<span class="ltx_bibblock">Language models are unsupervised multitask learners.

</span>
<span class="ltx_bibblock"><em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">OpenAI blog</em>, 1(8):9.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rafailov et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Rafael Rafailov, Archit Sharma, Eric Mitchell, Stefano Ermon, Christopher&nbsp;D Manning, and Chelsea Finn. 2023.

</span>
<span class="ltx_bibblock">Direct preference optimization: Your language model is secretly a reward model.

</span>
<span class="ltx_bibblock"><em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2305.18290</em>.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sakaguchi et&nbsp;al. (2021)</span>
<span class="ltx_bibblock">
Keisuke Sakaguchi, Ronan&nbsp;Le Bras, Chandra Bhagavatula, and Yejin Choi. 2021.

</span>
<span class="ltx_bibblock">Winogrande: An adversarial winograd schema challenge at scale.

</span>
<span class="ltx_bibblock"><em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">Communications of the ACM</em>, 64(9):99–106.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schulman et&nbsp;al. (2017)</span>
<span class="ltx_bibblock">
John Schulman, Filip Wolski, Prafulla Dhariwal, Alec Radford, and Oleg Klimov. 2017.

</span>
<span class="ltx_bibblock">Proximal policy optimization algorithms.

</span>
<span class="ltx_bibblock"><em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1707.06347</em>.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Teknium (2023)</span>
<span class="ltx_bibblock">
Teknium. 2023.

</span>
<span class="ltx_bibblock">teknium/openhermes-2.5-mistral-7b.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://huggingface.co/teknium/OpenHermes-2.5-Mistral-7B" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://huggingface.co/teknium/OpenHermes-2.5-Mistral-7B</a>.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tunstall et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Lewis Tunstall, Edward Beeching, Nathan Lambert, Nazneen Rajani, Kashif Rasul, Younes Belkada, Shengyi Huang, Leandro von Werra, Clémentine Fourrier, Nathan Habib, et&nbsp;al. 2023.

</span>
<span class="ltx_bibblock">Zephyr: Direct distillation of lm alignment.

</span>
<span class="ltx_bibblock"><em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2310.16944</em>.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Upstage (2023)</span>
<span class="ltx_bibblock">
Upstage. 2023.

</span>
<span class="ltx_bibblock">upstage/solar-0-70b-16bit.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://huggingface.co/upstage/SOLAR-0-70b-16bit" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://huggingface.co/upstage/SOLAR-0-70b-16bit</a>.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Jason Wei, Yi&nbsp;Tay, Rishi Bommasani, Colin Raffel, Barret Zoph, Sebastian Borgeaud, Dani Yogatama, Maarten Bosma, Denny Zhou, Donald Metzler, et&nbsp;al. 2022.

</span>
<span class="ltx_bibblock">Emergent abilities of large language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2206.07682</em>.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Weizhe Yuan, Richard&nbsp;Yuanzhe Pang, Kyunghyun Cho, Sainbayar Sukhbaatar, Jing Xu, and Jason Weston. 2024.

</span>
<span class="ltx_bibblock">Self-rewarding language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2401.10020</em>.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Zheng Yuan, Hongyi Yuan, Chuanqi Tan, Wei Wang, Songfang Huang, and Fei Huang. 2023.

</span>
<span class="ltx_bibblock">Rrhf: Rank responses to align language models with human feedback without tears.

</span>
<span class="ltx_bibblock"><em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2304.05302</em>.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zellers et&nbsp;al. (2019)</span>
<span class="ltx_bibblock">
Rowan Zellers, Ari Holtzman, Yonatan Bisk, Ali Farhadi, and Yejin Choi. 2019.

</span>
<span class="ltx_bibblock">Hellaswag: Can a machine really finish your sentence?

</span>
<span class="ltx_bibblock">In <em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 57th Annual Meeting of the Association for Computational Linguistics</em>, pages 4791–4800.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ziegler et&nbsp;al. (2019)</span>
<span class="ltx_bibblock">
Daniel&nbsp;M Ziegler, Nisan Stiennon, Jeffrey Wu, Tom&nbsp;B Brown, Alec Radford, Dario Amodei, Paul Christiano, and Geoffrey Irving. 2019.

</span>
<span class="ltx_bibblock">Fine-tuning language models from human preferences.

</span>
<span class="ltx_bibblock"><em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1909.08593</em>.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Related Work</h2>

<section id="A1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Large Language Models</h3>

<div id="A1.SS1.p1" class="ltx_para">
<p id="A1.SS1.p1.1" class="ltx_p">Recent research has highlighted a "scaling law" in the field of context-based language models&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Kaplan et&nbsp;al. (<a href="#bib.bib15" title="" class="ltx_ref">2020</a>); Hernandez et&nbsp;al. (<a href="#bib.bib11" title="" class="ltx_ref">2021</a>); Anil et&nbsp;al. (<a href="#bib.bib1" title="" class="ltx_ref">2023</a>)</cite>, showing a proportional relationship between the size of the model plus the training data and the resulting performance improvements. Consequently, this has led to the advent of Large Language Models (LLMs). In contrast to earlier models, LLMs can perform in-context learning, which includes abilities such as zero-shot learning&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Radford et&nbsp;al. (<a href="#bib.bib21" title="" class="ltx_ref">2019</a>)</cite> and few-shot learning&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Brown et&nbsp;al. (<a href="#bib.bib4" title="" class="ltx_ref">2020</a>)</cite>, allowing them to adapt and perform tasks without the need for weight adjustments. These emergent abilities of LLMs, absent in their smaller counterparts, signal a significant evolution in language model capabilities&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Wei et&nbsp;al. (<a href="#bib.bib28" title="" class="ltx_ref">2022</a>)</cite>.</p>
</div>
</section>
<section id="A1.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Alignment Tuning</h3>

<div id="A1.SS2.p1" class="ltx_para">
<p id="A1.SS2.p1.1" class="ltx_p">LLMs have been recognized to produce text that may seem linguistically inconsistent to human interpreters because their pretraining is based not on an understanding of human intentions but on a broad spectrum of domain-specific knowledge, as indicated in&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Ziegler et&nbsp;al. (<a href="#bib.bib32" title="" class="ltx_ref">2019</a>)</cite>. In an effort to rectify this issue and better mirror human intentions, prior research&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Ziegler et&nbsp;al. (<a href="#bib.bib32" title="" class="ltx_ref">2019</a>)</cite> has suggested the adoption of Reinforcement Learning with Human Feedback (RLHF). RLHF seeks to refine the LLM’s output by constructing a reward model that aligns with human preferences and applying reinforcement learning to direct the LLM towards selections that garner the most favorable reward metrics. This approach is intended to bolster the safety, decorum, and general excellence of the responses produced by the LLM. Nonetheless, despite showing promising results, RLHF is confronted with challenges, such as the intricate handling of an extensive set of hyperparameters and the necessity to amalgamate several models (policy, value, reward, and reference models).</p>
</div>
<div id="A1.SS2.p2" class="ltx_para">
<p id="A1.SS2.p2.1" class="ltx_p">To address these issues, there have been proposals for supervised fine-tuning methodologies such as Rank Responses to align Human Feedback (RRHF)&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Yuan et&nbsp;al. (<a href="#bib.bib30" title="" class="ltx_ref">2023</a>)</cite>, Reward rAnked FineTuning (RAFT)&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Dong et&nbsp;al. (<a href="#bib.bib9" title="" class="ltx_ref">2023</a>)</cite>, and Direct Preference Optimization (DPO)&nbsp;<cite class="ltx_cite ltx_citemacro_cite">Rafailov et&nbsp;al. (<a href="#bib.bib22" title="" class="ltx_ref">2023</a>)</cite>. These methods circumvent the intricacies inherent in reinforcement learning and have been shown to yield empirical results on par with RLHF. Notably, the DPO technique straightforwardly encourages the LLM to favor positive responses and discourage negative ones. DPO has been observed to yield performant learning outcomes, in spite of its uncomplicated training procedure.</p>
</div>
<div id="A1.SS2.p3" class="ltx_para">
<p id="A1.SS2.p3.1" class="ltx_p">Concurrent to our work, <cite class="ltx_cite ltx_citemacro_citet">Yuan et&nbsp;al. (<a href="#bib.bib29" title="" class="ltx_ref">2024</a>)</cite> have developed an iterative framework for generating <span id="A1.SS2.p3.1.1" class="ltx_text ltx_font_italic">new</span> preference datasets and performing DPO training on the resulting datasets. They empirically demonstrated the superiority of their iterative framework in terms of AlpacaEval 2.0.
In contrast, our work is complementary to the above in the sense that we focus on utilizing the <span id="A1.SS2.p3.1.2" class="ltx_text ltx_font_italic">current</span> preference data and does not undergo new data generation.
Thus, our method can also be applied to <cite class="ltx_cite ltx_citemacro_citet">Yuan et&nbsp;al. (<a href="#bib.bib29" title="" class="ltx_ref">2024</a>)</cite> by changing the DPO training part to using sDPO instead.
We leave the above combination as an interesting future work.
Additionally, the evaluation used in <cite class="ltx_cite ltx_citemacro_citet">Yuan et&nbsp;al. (<a href="#bib.bib29" title="" class="ltx_ref">2024</a>)</cite> is also different to ours as we utilize tasks from Open LLM Leaderboard whereas <cite class="ltx_cite ltx_citemacro_citet">Yuan et&nbsp;al. (<a href="#bib.bib29" title="" class="ltx_ref">2024</a>)</cite> uses AlpacaEval 2.0.</p>
</div>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2403.19269" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2403.19270" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&amp;title=Improve+article+2403.19270">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2403.19270" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2403.19271" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Fri Apr  5 16:07:34 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    

</body></html>