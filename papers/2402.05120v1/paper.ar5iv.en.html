<html lang="en" data-theme="light"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2402.05120] More Agents Is All You Need</title><meta property="og:description" content="We find that, simply via a sampling-and-voting method, the performance of large language models (LLMs) scales with the number of agents instantiated. Also, this method is orthogonal to existing complicated methods to f…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="More Agents Is All You Need">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="More Agents Is All You Need">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2402.05120">

<!--Generated on Tue Mar  5 16:29:31 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="Machine Learning,  ICML">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.7.9.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.7.9.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document">
<h1 class="ltx_title ltx_title_document">More Agents Is All You Need</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Junyou Li
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Qin Zhang
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yangbin Yu
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Qiang Fu
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Deheng Ye
</span></span>
</div>

<h1 class="ltx_title ltx_title_document">More Agents Is All You Need</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Junyou Li
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Qin Zhang
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yangbin Yu
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Qiang Fu
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Deheng Ye
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">We find that, simply via a sampling-and-voting method, the performance of large language models (LLMs) scales with the number of agents instantiated. Also, this method is orthogonal to existing complicated methods to further enhance LLMs, while the degree of enhancement is correlated to the task difficulty. We conduct comprehensive experiments on a wide range of LLM benchmarks to verify the presence of our finding, and to study the properties that can facilitate its occurrence. Our code is publicly available at:
<a target="_blank" href="https://anonymous.4open.science/r/more_agent_is_all_you_need" title="" class="ltx_ref ltx_href">Git</a>.</p>
</div>
<div class="ltx_keywords">Machine Learning, ICML
</div>
<div id="p1" class="ltx_para">
<br class="ltx_break">
</div>
<div id="p3" class="ltx_para">
<br class="ltx_break">
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Although large language models (LLMs) demonstrate remarkable capabilities in variety of applications <cite class="ltx_cite ltx_citemacro_citep">(Zhao et&nbsp;al., <a href="#bib.bib38" title="" class="ltx_ref">2023</a>)</cite>, such as language generation, understanding, and reasoning, they struggle to provide accurate answers when faced with complicated tasks. To improve the performance of LLMs, some of recent studies focus on ensemble methods <cite class="ltx_cite ltx_citemacro_citep">(Wang et&nbsp;al., <a href="#bib.bib32" title="" class="ltx_ref">2023b</a>; Wan et&nbsp;al., <a href="#bib.bib30" title="" class="ltx_ref">2024</a>)</cite> and multiple LLM-Agents collaboration frameworks <cite class="ltx_cite ltx_citemacro_citep">(Du et&nbsp;al., <a href="#bib.bib7" title="" class="ltx_ref">2023</a>; Wu et&nbsp;al., <a href="#bib.bib35" title="" class="ltx_ref">2023</a>)</cite>.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">In these works, multiple LLM agents are used to improve the performance of LLMs. For instance, LLM-Debate <cite class="ltx_cite ltx_citemacro_citep">(Du et&nbsp;al., <a href="#bib.bib7" title="" class="ltx_ref">2023</a>)</cite> employs multiple LLM agents in a debate form. The reasoning performance is improved by creating a framework that allows more than one agent to “debate” the final answer of arithmetic tasks. They show performance improvements compared to using one single agent.
Similarly, CoT-SC <cite class="ltx_cite ltx_citemacro_citep">(Wang et&nbsp;al., <a href="#bib.bib32" title="" class="ltx_ref">2023b</a>)</cite> generates multiple thought chains and picks the most self-consistent one as the final answer.
The reasoning performance is improved by involving more thought chains compared to chain-of-thought (CoT) <cite class="ltx_cite ltx_citemacro_citep">(Wei et&nbsp;al., <a href="#bib.bib34" title="" class="ltx_ref">2022</a>)</cite> which employs a single thought chain.
Incidentally, from the data analysis of these works, we can notice the effects of putting multiple agents together, to some extent, can lead to a performance improvement in certain problems.
For example, in Table 10 of Section 3.3 of LLM-Debate <cite class="ltx_cite ltx_citemacro_citep">(Du et&nbsp;al., <a href="#bib.bib7" title="" class="ltx_ref">2023</a>)</cite>, the authors have reported a preliminary curve: the accuracy of a math problem increases with the number of debating agents (although the number was simply increased from 1 to 7).
Also, in <cite class="ltx_cite ltx_citemacro_citet">Wang et&nbsp;al. (<a href="#bib.bib32" title="" class="ltx_ref">2023b</a>)</cite>, involving more chains-of-thought pipelines (termed as a “sample-and-marginalize” decoding procedure), can lead to a performance gain.
We realize that the LLM performance may likely be improved by a brute-force scaling up the number of agents instantiated.
However, since the scaling property of “raw” agents is not the focus of these works, the scenarios/tasks and experiments considered are limited.
So far, there lacks a dedicated in-depth study on this phenomenon.
Hence, a natural question arises:
<span id="S1.p2.1.1" class="ltx_text ltx_font_italic">Does this phenomenon generally exist?</span></p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2402.05120/assets/fig/intro_finding.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="479" height="383" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>The accuracy increases with ensemble size across Llama2-13B, Llama2-70B and GPT-3.5-Turbo in GSM8K. When the ensemble size scales up to <math id="S1.F1.4.m1.1" class="ltx_Math" alttext="15" display="inline"><semantics id="S1.F1.4.m1.1b"><mn id="S1.F1.4.m1.1.1" xref="S1.F1.4.m1.1.1.cmml">15</mn><annotation-xml encoding="MathML-Content" id="S1.F1.4.m1.1c"><cn type="integer" id="S1.F1.4.m1.1.1.cmml" xref="S1.F1.4.m1.1.1">15</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.4.m1.1d">15</annotation></semantics></math>, Llama2-13B achieves comparable accuracy with Llama2-70B. Similarly, When the ensemble size scales up to <math id="S1.F1.5.m2.1" class="ltx_Math" alttext="15" display="inline"><semantics id="S1.F1.5.m2.1b"><mn id="S1.F1.5.m2.1.1" xref="S1.F1.5.m2.1.1.cmml">15</mn><annotation-xml encoding="MathML-Content" id="S1.F1.5.m2.1c"><cn type="integer" id="S1.F1.5.m2.1.1.cmml" xref="S1.F1.5.m2.1.1">15</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.5.m2.1d">15</annotation></semantics></math> and <math id="S1.F1.6.m3.1" class="ltx_Math" alttext="20" display="inline"><semantics id="S1.F1.6.m3.1b"><mn id="S1.F1.6.m3.1.1" xref="S1.F1.6.m3.1.1.cmml">20</mn><annotation-xml encoding="MathML-Content" id="S1.F1.6.m3.1c"><cn type="integer" id="S1.F1.6.m3.1.1.cmml" xref="S1.F1.6.m3.1.1">20</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.6.m3.1d">20</annotation></semantics></math>, Llama2-70B and GPT-3.5-Turbo achieve comparable accuracy with their more powerful counterparts.</figcaption>
</figure>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">To answer the research question above, we conduct the first comprehensive study on the <span id="S1.p3.1.1" class="ltx_text ltx_font_italic">scaling property</span> of LLM agents.
To dig out the potential of multiple agents, we propose to use a simple(st) sampling-and-voting method, which involves two phases.
First, the query of the task, i.e., the input to an LLM, is iteratively fed into a single LLM, or a multiple LLM-Agents collaboration framework, to generate multiple outputs. Subsequently, majority voting is used to determine the final result.
The procedure is inspired by that of the CoT-SC, but it does not rely on designing complex CoT paths.
In fact, it can be used as a plug-in to further enhance CoT-based methods, as will be shown in our evaluations.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">The experiments are conducted by using various LLMs of different sizes on diverse datasets covering reasoning and generation. The result indicates that LLM performance can generally be improved by increasing the ensemble size, i.e., the number of agents, across a wide range of tasks. Surprisingly, a brute-force ensemble of smaller LLMs can achieve comparable or superior performance to larger LLMs, with a nutshell shown in Figure <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, which will be further expanded in later sections.
Moreover, by combining our method with other existing methods, we find the performance can be further improved. By comparing with the performance of complicated methods, the result shows that employing our method solely can achieve comparable performance in most cases.
This implies that comparable performance can be achieved without the need for additional handcraft prompt design or complex collaboration frameworks.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">Additionally, the experimental results indicate a correlation between the efficacy of the performance improvements and the difficulty of the problems addressed. To understand the reasons behind these performance improvements, we analyze the influence of problem difficulty on the effectiveness of our method. We classify difficulty into three dimensions: the inherent difficulty, the length of reasoning steps, and the prior probability of the correct answer. Through a series of experiments, we adjust these dimensions and observe their effects independently.
We observe and summarize a few properties, based on which, we further develop optimization strategies that can intrigue the power of “More Agents”.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">Our contributions are summarized as follows:</p>
</div>
<div id="S1.p7" class="ltx_para">
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">We present the first systematic study on the scaling property of raw agents instantiated by LLMs. We find that the performance scales with the increase of agents, using the simple(st) way of sampling and voting.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We explore the compatibility of our method with existing complicated methods that stimulate the potential of LLMs, revealing that our method can enhance these methods to achieve further performance improvements.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">We analyze the effectiveness of our method in tackling problems at varying difficulties and then distill the properties behind, based upon which, we propose further optimization methods that can facilitate the occurrence of our finding.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">Related works can be categorized into three parts: 1) LLM self-ensemble <cite class="ltx_cite ltx_citemacro_citep">(Wang et&nbsp;al., <a href="#bib.bib32" title="" class="ltx_ref">2023b</a>)</cite>, which attempts to harness multiple outputs from homogeneous LLMs to assemble the final answer; 2) heterogeneous LLM ensemble, which focuses on combining heterogeneous LLMs through supervised learning to improve performance across various downstream applications; and 3) multiple LLM agents collaboration, which improves performance through interactions among LLM agents. We discuss these works below.</p>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.1" class="ltx_p"><span id="S2.p2.1.1" class="ltx_text ltx_font_bold">LLM Self-Ensemble.</span> CoT-SC <cite class="ltx_cite ltx_citemacro_citep">(Wang et&nbsp;al., <a href="#bib.bib32" title="" class="ltx_ref">2023b</a>)</cite> harnesses diverse chain-of-thought <cite class="ltx_cite ltx_citemacro_citep">(Wei et&nbsp;al., <a href="#bib.bib34" title="" class="ltx_ref">2022</a>)</cite> prompts to elicit a variety of reasoning processes from a single LLM and select the final answer through majority voting. <cite class="ltx_cite ltx_citemacro_citet">Fu et&nbsp;al. (<a href="#bib.bib9" title="" class="ltx_ref">2023</a>); Li et&nbsp;al. (<a href="#bib.bib16" title="" class="ltx_ref">2023b</a>); Cobbe et&nbsp;al. (<a href="#bib.bib6" title="" class="ltx_ref">2021b</a>); Thoppilan et&nbsp;al. (<a href="#bib.bib28" title="" class="ltx_ref">2022</a>); Lin et&nbsp;al. (<a href="#bib.bib18" title="" class="ltx_ref">2023</a>)</cite> can be considered as the extensions of CoT-SC. These methods mainly focus on reasoning tasks and exclusively investigate the compatibility with CoT. In contrast, our method not only validates effectiveness in reasoning tasks but also in generation tasks. Moreover, our method is compatible with a broader range of methods, such as prompt engineering (including CoT) and multiple LLM agents collaboration. Very recently, <cite class="ltx_cite ltx_citemacro_citet">Lu et&nbsp;al. (<a href="#bib.bib21" title="" class="ltx_ref">2024</a>)</cite> proposes a method named Blended that utilizes multiple LLMs for chat scenarios. In contrast, Blended focuses on utilizing the power of multiple LLMs, whereas our focus is on the scaling trend of adding more LLMs. Also, Blended is only for limited chat scenarios evaluated via human annotations. Furthermore, we explore orthogonality with other methods.</p>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.1" class="ltx_p"><span id="S2.p3.1.1" class="ltx_text ltx_font_bold">Heterogeneous LLM Ensemble. </span> <cite class="ltx_cite ltx_citemacro_citet">Wan et&nbsp;al. (<a href="#bib.bib30" title="" class="ltx_ref">2024</a>)</cite> conducts a supervised LLM fusion framework to distill multiple heterogeneous LLMs into a single model and surpasses each of these LLMs. <cite class="ltx_cite ltx_citemacro_citet">Jiang et&nbsp;al. (<a href="#bib.bib13" title="" class="ltx_ref">2023</a>)</cite> introduces a supervised ensembling framework based on multiple heterogeneous LLMs. <cite class="ltx_cite ltx_citemacro_citet">Chen et&nbsp;al. (<a href="#bib.bib2" title="" class="ltx_ref">2023b</a>)</cite> proposes a sequential inference method for LLMs that halts when the output quality is deemed adequate. <cite class="ltx_cite ltx_citemacro_citet">Wang et&nbsp;al. (<a href="#bib.bib31" title="" class="ltx_ref">2023a</a>)</cite> addresses the fusion-of-experts problem by integrating outputs from models with distinct knowledge domains through supervised learning. <cite class="ltx_cite ltx_citemacro_citet">Shnitzer et&nbsp;al. (<a href="#bib.bib27" title="" class="ltx_ref">2023</a>)</cite> and <cite class="ltx_cite ltx_citemacro_citet">Lu et&nbsp;al. (<a href="#bib.bib20" title="" class="ltx_ref">2023</a>)</cite> select the most suitable LLM for new tasks by training a reward-guided router. These approaches primarily employ supervised learning, necessitating task-specific annotated data, and exhibit limited generalizability. In contrast, our method is unsupervised, without the need for additional training data.</p>
</div>
<div id="S2.p4" class="ltx_para">
<p id="S2.p4.1" class="ltx_p"><span id="S2.p4.1.1" class="ltx_text ltx_font_bold">Multiple LLM Agents Collaboration. </span> Studies explore various multiple LLM agents interaction architectures, with employing static debate-style engagements among LLMs for enhanced reasoning <cite class="ltx_cite ltx_citemacro_citep">(Du et&nbsp;al., <a href="#bib.bib7" title="" class="ltx_ref">2023</a>; Liang et&nbsp;al., <a href="#bib.bib17" title="" class="ltx_ref">2023</a>; Xiong et&nbsp;al., <a href="#bib.bib36" title="" class="ltx_ref">2023</a>)</cite>. <cite class="ltx_cite ltx_citemacro_citet">Liu et&nbsp;al. (<a href="#bib.bib19" title="" class="ltx_ref">2023</a>)</cite> enables agents to interact for multiple rounds in a dynamic architecture. <cite class="ltx_cite ltx_citemacro_citet">Li et&nbsp;al. (<a href="#bib.bib15" title="" class="ltx_ref">2023a</a>); Hong et&nbsp;al. (<a href="#bib.bib12" title="" class="ltx_ref">2023</a>); Wu et&nbsp;al. (<a href="#bib.bib35" title="" class="ltx_ref">2023</a>); Chen et&nbsp;al. (<a href="#bib.bib4" title="" class="ltx_ref">2023c</a>, <a href="#bib.bib1" title="" class="ltx_ref">a</a>)</cite> offer several multi-agent frameworks that enable the development of LLM applications or enhance task-solving capabilities. However, these methods primarily focus on the interaction structures between LLM agents, rather than the relationship between the number of agents and performance. We also select representative methods <cite class="ltx_cite ltx_citemacro_citep">(Du et&nbsp;al., <a href="#bib.bib7" title="" class="ltx_ref">2023</a>; Shinn et&nbsp;al., <a href="#bib.bib26" title="" class="ltx_ref">2023</a>)</cite> to combine with our method, achieving further enhancements.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Method</h2>

<figure id="S3.F2" class="ltx_figure"><img src="/html/2402.05120/assets/x1.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="368" height="255" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Illustration of our method. The two-phase process begins by feeding the task query, either alone or combined with prompt engineering methods, into LLM agents to generate answers. Subsequently, majority voting is applied to these answers to determine the final answer. Specifically, an LLM agent refers to a single LLM or a multiple LLM-Agents collaboration framework.</figcaption>
</figure>
<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">In this section, we introduce our method which is implemented through a two-phase process: sampling and voting. The overview of our method is shown in Figure <a href="#S3.F2" title="Figure 2 ‣ 3 Method ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<div id="S3.p2" class="ltx_para">
<p id="S3.p2.10" class="ltx_p"><span id="S3.p2.10.1" class="ltx_text ltx_font_bold">Sampling.</span> Let <math id="S3.p2.1.m1.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S3.p2.1.m1.1a"><mi id="S3.p2.1.m1.1.1" xref="S3.p2.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.p2.1.m1.1b"><ci id="S3.p2.1.m1.1.1.cmml" xref="S3.p2.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.1.m1.1c">x</annotation></semantics></math> represent the task query and <math id="S3.p2.2.m2.1" class="ltx_Math" alttext="\mathcal{M}" display="inline"><semantics id="S3.p2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.p2.2.m2.1.1" xref="S3.p2.2.m2.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S3.p2.2.m2.1b"><ci id="S3.p2.2.m2.1.1.cmml" xref="S3.p2.2.m2.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.2.m2.1c">\mathcal{M}</annotation></semantics></math> denote an LLM. In this phase, we generate <math id="S3.p2.3.m3.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.p2.3.m3.1a"><mi id="S3.p2.3.m3.1.1" xref="S3.p2.3.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.p2.3.m3.1b"><ci id="S3.p2.3.m3.1.1.cmml" xref="S3.p2.3.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.3.m3.1c">N</annotation></semantics></math> samples by solely querying the LLM <math id="S3.p2.4.m4.1" class="ltx_Math" alttext="\mathcal{M}" display="inline"><semantics id="S3.p2.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S3.p2.4.m4.1.1" xref="S3.p2.4.m4.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S3.p2.4.m4.1b"><ci id="S3.p2.4.m4.1.1.cmml" xref="S3.p2.4.m4.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.4.m4.1c">\mathcal{M}</annotation></semantics></math> <math id="S3.p2.5.m5.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.p2.5.m5.1a"><mi id="S3.p2.5.m5.1.1" xref="S3.p2.5.m5.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.p2.5.m5.1b"><ci id="S3.p2.5.m5.1.1.cmml" xref="S3.p2.5.m5.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.5.m5.1c">N</annotation></semantics></math> times with each sample represented as <math id="S3.p2.6.m6.1" class="ltx_Math" alttext="s=\mathcal{M}(x)" display="inline"><semantics id="S3.p2.6.m6.1a"><mrow id="S3.p2.6.m6.1.2" xref="S3.p2.6.m6.1.2.cmml"><mi id="S3.p2.6.m6.1.2.2" xref="S3.p2.6.m6.1.2.2.cmml">s</mi><mo id="S3.p2.6.m6.1.2.1" xref="S3.p2.6.m6.1.2.1.cmml">=</mo><mrow id="S3.p2.6.m6.1.2.3" xref="S3.p2.6.m6.1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p2.6.m6.1.2.3.2" xref="S3.p2.6.m6.1.2.3.2.cmml">ℳ</mi><mo lspace="0em" rspace="0em" id="S3.p2.6.m6.1.2.3.1" xref="S3.p2.6.m6.1.2.3.1.cmml">​</mo><mrow id="S3.p2.6.m6.1.2.3.3.2" xref="S3.p2.6.m6.1.2.3.cmml"><mo stretchy="false" id="S3.p2.6.m6.1.2.3.3.2.1" xref="S3.p2.6.m6.1.2.3.cmml">(</mo><mi id="S3.p2.6.m6.1.1" xref="S3.p2.6.m6.1.1.cmml">x</mi><mo stretchy="false" id="S3.p2.6.m6.1.2.3.3.2.2" xref="S3.p2.6.m6.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.6.m6.1b"><apply id="S3.p2.6.m6.1.2.cmml" xref="S3.p2.6.m6.1.2"><eq id="S3.p2.6.m6.1.2.1.cmml" xref="S3.p2.6.m6.1.2.1"></eq><ci id="S3.p2.6.m6.1.2.2.cmml" xref="S3.p2.6.m6.1.2.2">𝑠</ci><apply id="S3.p2.6.m6.1.2.3.cmml" xref="S3.p2.6.m6.1.2.3"><times id="S3.p2.6.m6.1.2.3.1.cmml" xref="S3.p2.6.m6.1.2.3.1"></times><ci id="S3.p2.6.m6.1.2.3.2.cmml" xref="S3.p2.6.m6.1.2.3.2">ℳ</ci><ci id="S3.p2.6.m6.1.1.cmml" xref="S3.p2.6.m6.1.1">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.6.m6.1c">s=\mathcal{M}(x)</annotation></semantics></math> or by integrating with other methods <math id="S3.p2.7.m7.1" class="ltx_Math" alttext="f_{\mathcal{M}}" display="inline"><semantics id="S3.p2.7.m7.1a"><msub id="S3.p2.7.m7.1.1" xref="S3.p2.7.m7.1.1.cmml"><mi id="S3.p2.7.m7.1.1.2" xref="S3.p2.7.m7.1.1.2.cmml">f</mi><mi class="ltx_font_mathcaligraphic" id="S3.p2.7.m7.1.1.3" xref="S3.p2.7.m7.1.1.3.cmml">ℳ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p2.7.m7.1b"><apply id="S3.p2.7.m7.1.1.cmml" xref="S3.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S3.p2.7.m7.1.1.1.cmml" xref="S3.p2.7.m7.1.1">subscript</csymbol><ci id="S3.p2.7.m7.1.1.2.cmml" xref="S3.p2.7.m7.1.1.2">𝑓</ci><ci id="S3.p2.7.m7.1.1.3.cmml" xref="S3.p2.7.m7.1.1.3">ℳ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.7.m7.1c">f_{\mathcal{M}}</annotation></semantics></math> with <math id="S3.p2.8.m8.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.p2.8.m8.1a"><mi id="S3.p2.8.m8.1.1" xref="S3.p2.8.m8.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.p2.8.m8.1b"><ci id="S3.p2.8.m8.1.1.cmml" xref="S3.p2.8.m8.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.8.m8.1c">N</annotation></semantics></math> times executions where each sample is denoted as <math id="S3.p2.9.m9.1" class="ltx_Math" alttext="s=f_{\mathcal{M}}(x)" display="inline"><semantics id="S3.p2.9.m9.1a"><mrow id="S3.p2.9.m9.1.2" xref="S3.p2.9.m9.1.2.cmml"><mi id="S3.p2.9.m9.1.2.2" xref="S3.p2.9.m9.1.2.2.cmml">s</mi><mo id="S3.p2.9.m9.1.2.1" xref="S3.p2.9.m9.1.2.1.cmml">=</mo><mrow id="S3.p2.9.m9.1.2.3" xref="S3.p2.9.m9.1.2.3.cmml"><msub id="S3.p2.9.m9.1.2.3.2" xref="S3.p2.9.m9.1.2.3.2.cmml"><mi id="S3.p2.9.m9.1.2.3.2.2" xref="S3.p2.9.m9.1.2.3.2.2.cmml">f</mi><mi class="ltx_font_mathcaligraphic" id="S3.p2.9.m9.1.2.3.2.3" xref="S3.p2.9.m9.1.2.3.2.3.cmml">ℳ</mi></msub><mo lspace="0em" rspace="0em" id="S3.p2.9.m9.1.2.3.1" xref="S3.p2.9.m9.1.2.3.1.cmml">​</mo><mrow id="S3.p2.9.m9.1.2.3.3.2" xref="S3.p2.9.m9.1.2.3.cmml"><mo stretchy="false" id="S3.p2.9.m9.1.2.3.3.2.1" xref="S3.p2.9.m9.1.2.3.cmml">(</mo><mi id="S3.p2.9.m9.1.1" xref="S3.p2.9.m9.1.1.cmml">x</mi><mo stretchy="false" id="S3.p2.9.m9.1.2.3.3.2.2" xref="S3.p2.9.m9.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.9.m9.1b"><apply id="S3.p2.9.m9.1.2.cmml" xref="S3.p2.9.m9.1.2"><eq id="S3.p2.9.m9.1.2.1.cmml" xref="S3.p2.9.m9.1.2.1"></eq><ci id="S3.p2.9.m9.1.2.2.cmml" xref="S3.p2.9.m9.1.2.2">𝑠</ci><apply id="S3.p2.9.m9.1.2.3.cmml" xref="S3.p2.9.m9.1.2.3"><times id="S3.p2.9.m9.1.2.3.1.cmml" xref="S3.p2.9.m9.1.2.3.1"></times><apply id="S3.p2.9.m9.1.2.3.2.cmml" xref="S3.p2.9.m9.1.2.3.2"><csymbol cd="ambiguous" id="S3.p2.9.m9.1.2.3.2.1.cmml" xref="S3.p2.9.m9.1.2.3.2">subscript</csymbol><ci id="S3.p2.9.m9.1.2.3.2.2.cmml" xref="S3.p2.9.m9.1.2.3.2.2">𝑓</ci><ci id="S3.p2.9.m9.1.2.3.2.3.cmml" xref="S3.p2.9.m9.1.2.3.2.3">ℳ</ci></apply><ci id="S3.p2.9.m9.1.1.cmml" xref="S3.p2.9.m9.1.1">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.9.m9.1c">s=f_{\mathcal{M}}(x)</annotation></semantics></math>. We obtain a set of samples <math id="S3.p2.10.m10.4" class="ltx_Math" alttext="S=\{s_{1},s_{2},...,s_{N}\}" display="inline"><semantics id="S3.p2.10.m10.4a"><mrow id="S3.p2.10.m10.4.4" xref="S3.p2.10.m10.4.4.cmml"><mi id="S3.p2.10.m10.4.4.5" xref="S3.p2.10.m10.4.4.5.cmml">S</mi><mo id="S3.p2.10.m10.4.4.4" xref="S3.p2.10.m10.4.4.4.cmml">=</mo><mrow id="S3.p2.10.m10.4.4.3.3" xref="S3.p2.10.m10.4.4.3.4.cmml"><mo stretchy="false" id="S3.p2.10.m10.4.4.3.3.4" xref="S3.p2.10.m10.4.4.3.4.cmml">{</mo><msub id="S3.p2.10.m10.2.2.1.1.1" xref="S3.p2.10.m10.2.2.1.1.1.cmml"><mi id="S3.p2.10.m10.2.2.1.1.1.2" xref="S3.p2.10.m10.2.2.1.1.1.2.cmml">s</mi><mn id="S3.p2.10.m10.2.2.1.1.1.3" xref="S3.p2.10.m10.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.p2.10.m10.4.4.3.3.5" xref="S3.p2.10.m10.4.4.3.4.cmml">,</mo><msub id="S3.p2.10.m10.3.3.2.2.2" xref="S3.p2.10.m10.3.3.2.2.2.cmml"><mi id="S3.p2.10.m10.3.3.2.2.2.2" xref="S3.p2.10.m10.3.3.2.2.2.2.cmml">s</mi><mn id="S3.p2.10.m10.3.3.2.2.2.3" xref="S3.p2.10.m10.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.p2.10.m10.4.4.3.3.6" xref="S3.p2.10.m10.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S3.p2.10.m10.1.1" xref="S3.p2.10.m10.1.1.cmml">…</mi><mo id="S3.p2.10.m10.4.4.3.3.7" xref="S3.p2.10.m10.4.4.3.4.cmml">,</mo><msub id="S3.p2.10.m10.4.4.3.3.3" xref="S3.p2.10.m10.4.4.3.3.3.cmml"><mi id="S3.p2.10.m10.4.4.3.3.3.2" xref="S3.p2.10.m10.4.4.3.3.3.2.cmml">s</mi><mi id="S3.p2.10.m10.4.4.3.3.3.3" xref="S3.p2.10.m10.4.4.3.3.3.3.cmml">N</mi></msub><mo stretchy="false" id="S3.p2.10.m10.4.4.3.3.8" xref="S3.p2.10.m10.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.10.m10.4b"><apply id="S3.p2.10.m10.4.4.cmml" xref="S3.p2.10.m10.4.4"><eq id="S3.p2.10.m10.4.4.4.cmml" xref="S3.p2.10.m10.4.4.4"></eq><ci id="S3.p2.10.m10.4.4.5.cmml" xref="S3.p2.10.m10.4.4.5">𝑆</ci><set id="S3.p2.10.m10.4.4.3.4.cmml" xref="S3.p2.10.m10.4.4.3.3"><apply id="S3.p2.10.m10.2.2.1.1.1.cmml" xref="S3.p2.10.m10.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.p2.10.m10.2.2.1.1.1.1.cmml" xref="S3.p2.10.m10.2.2.1.1.1">subscript</csymbol><ci id="S3.p2.10.m10.2.2.1.1.1.2.cmml" xref="S3.p2.10.m10.2.2.1.1.1.2">𝑠</ci><cn type="integer" id="S3.p2.10.m10.2.2.1.1.1.3.cmml" xref="S3.p2.10.m10.2.2.1.1.1.3">1</cn></apply><apply id="S3.p2.10.m10.3.3.2.2.2.cmml" xref="S3.p2.10.m10.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.p2.10.m10.3.3.2.2.2.1.cmml" xref="S3.p2.10.m10.3.3.2.2.2">subscript</csymbol><ci id="S3.p2.10.m10.3.3.2.2.2.2.cmml" xref="S3.p2.10.m10.3.3.2.2.2.2">𝑠</ci><cn type="integer" id="S3.p2.10.m10.3.3.2.2.2.3.cmml" xref="S3.p2.10.m10.3.3.2.2.2.3">2</cn></apply><ci id="S3.p2.10.m10.1.1.cmml" xref="S3.p2.10.m10.1.1">…</ci><apply id="S3.p2.10.m10.4.4.3.3.3.cmml" xref="S3.p2.10.m10.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.p2.10.m10.4.4.3.3.3.1.cmml" xref="S3.p2.10.m10.4.4.3.3.3">subscript</csymbol><ci id="S3.p2.10.m10.4.4.3.3.3.2.cmml" xref="S3.p2.10.m10.4.4.3.3.3.2">𝑠</ci><ci id="S3.p2.10.m10.4.4.3.3.3.3.cmml" xref="S3.p2.10.m10.4.4.3.3.3.3">𝑁</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.10.m10.4c">S=\{s_{1},s_{2},...,s_{N}\}</annotation></semantics></math> at the end of this phase.</p>
</div>
<div id="S3.p3" class="ltx_para">
<p id="S3.p3.5" class="ltx_p"><span id="S3.p3.5.1" class="ltx_text ltx_font_bold">Voting</span>. Let <math id="S3.p3.1.m1.1" class="ltx_Math" alttext="A" display="inline"><semantics id="S3.p3.1.m1.1a"><mi id="S3.p3.1.m1.1.1" xref="S3.p3.1.m1.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S3.p3.1.m1.1b"><ci id="S3.p3.1.m1.1.1.cmml" xref="S3.p3.1.m1.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.1.m1.1c">A</annotation></semantics></math> represent the final answer. In this phase, we employ majority voting to consolidate the response sample set <math id="S3.p3.2.m2.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S3.p3.2.m2.1a"><mi id="S3.p3.2.m2.1.1" xref="S3.p3.2.m2.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.p3.2.m2.1b"><ci id="S3.p3.2.m2.1.1.cmml" xref="S3.p3.2.m2.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.2.m2.1c">S</annotation></semantics></math> into the final answer <math id="S3.p3.3.m3.1" class="ltx_Math" alttext="A" display="inline"><semantics id="S3.p3.3.m3.1a"><mi id="S3.p3.3.m3.1.1" xref="S3.p3.3.m3.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S3.p3.3.m3.1b"><ci id="S3.p3.3.m3.1.1.cmml" xref="S3.p3.3.m3.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.3.m3.1c">A</annotation></semantics></math>. This involves calculating the cumulative similarity for each sample relative to the others, denoted as <math id="S3.p3.4.m4.5" class="ltx_Math" alttext="V(s_{i})=\sum_{j=1,j\neq i}^{N}sim(s_{i},s_{j})" display="inline"><semantics id="S3.p3.4.m4.5a"><mrow id="S3.p3.4.m4.5.5" xref="S3.p3.4.m4.5.5.cmml"><mrow id="S3.p3.4.m4.3.3.1" xref="S3.p3.4.m4.3.3.1.cmml"><mi id="S3.p3.4.m4.3.3.1.3" xref="S3.p3.4.m4.3.3.1.3.cmml">V</mi><mo lspace="0em" rspace="0em" id="S3.p3.4.m4.3.3.1.2" xref="S3.p3.4.m4.3.3.1.2.cmml">​</mo><mrow id="S3.p3.4.m4.3.3.1.1.1" xref="S3.p3.4.m4.3.3.1.1.1.1.cmml"><mo stretchy="false" id="S3.p3.4.m4.3.3.1.1.1.2" xref="S3.p3.4.m4.3.3.1.1.1.1.cmml">(</mo><msub id="S3.p3.4.m4.3.3.1.1.1.1" xref="S3.p3.4.m4.3.3.1.1.1.1.cmml"><mi id="S3.p3.4.m4.3.3.1.1.1.1.2" xref="S3.p3.4.m4.3.3.1.1.1.1.2.cmml">s</mi><mi id="S3.p3.4.m4.3.3.1.1.1.1.3" xref="S3.p3.4.m4.3.3.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.p3.4.m4.3.3.1.1.1.3" xref="S3.p3.4.m4.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S3.p3.4.m4.5.5.4" xref="S3.p3.4.m4.5.5.4.cmml">=</mo><mrow id="S3.p3.4.m4.5.5.3" xref="S3.p3.4.m4.5.5.3.cmml"><msubsup id="S3.p3.4.m4.5.5.3.3" xref="S3.p3.4.m4.5.5.3.3.cmml"><mo id="S3.p3.4.m4.5.5.3.3.2.2" xref="S3.p3.4.m4.5.5.3.3.2.2.cmml">∑</mo><mrow id="S3.p3.4.m4.2.2.2.2" xref="S3.p3.4.m4.2.2.2.3.cmml"><mrow id="S3.p3.4.m4.1.1.1.1.1" xref="S3.p3.4.m4.1.1.1.1.1.cmml"><mi id="S3.p3.4.m4.1.1.1.1.1.2" xref="S3.p3.4.m4.1.1.1.1.1.2.cmml">j</mi><mo id="S3.p3.4.m4.1.1.1.1.1.1" xref="S3.p3.4.m4.1.1.1.1.1.1.cmml">=</mo><mn id="S3.p3.4.m4.1.1.1.1.1.3" xref="S3.p3.4.m4.1.1.1.1.1.3.cmml">1</mn></mrow><mo id="S3.p3.4.m4.2.2.2.2.3" xref="S3.p3.4.m4.2.2.2.3a.cmml">,</mo><mrow id="S3.p3.4.m4.2.2.2.2.2" xref="S3.p3.4.m4.2.2.2.2.2.cmml"><mi id="S3.p3.4.m4.2.2.2.2.2.2" xref="S3.p3.4.m4.2.2.2.2.2.2.cmml">j</mi><mo id="S3.p3.4.m4.2.2.2.2.2.1" xref="S3.p3.4.m4.2.2.2.2.2.1.cmml">≠</mo><mi id="S3.p3.4.m4.2.2.2.2.2.3" xref="S3.p3.4.m4.2.2.2.2.2.3.cmml">i</mi></mrow></mrow><mi id="S3.p3.4.m4.5.5.3.3.3" xref="S3.p3.4.m4.5.5.3.3.3.cmml">N</mi></msubsup><mrow id="S3.p3.4.m4.5.5.3.2" xref="S3.p3.4.m4.5.5.3.2.cmml"><mi id="S3.p3.4.m4.5.5.3.2.4" xref="S3.p3.4.m4.5.5.3.2.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.p3.4.m4.5.5.3.2.3" xref="S3.p3.4.m4.5.5.3.2.3.cmml">​</mo><mi id="S3.p3.4.m4.5.5.3.2.5" xref="S3.p3.4.m4.5.5.3.2.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.p3.4.m4.5.5.3.2.3a" xref="S3.p3.4.m4.5.5.3.2.3.cmml">​</mo><mi id="S3.p3.4.m4.5.5.3.2.6" xref="S3.p3.4.m4.5.5.3.2.6.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.p3.4.m4.5.5.3.2.3b" xref="S3.p3.4.m4.5.5.3.2.3.cmml">​</mo><mrow id="S3.p3.4.m4.5.5.3.2.2.2" xref="S3.p3.4.m4.5.5.3.2.2.3.cmml"><mo stretchy="false" id="S3.p3.4.m4.5.5.3.2.2.2.3" xref="S3.p3.4.m4.5.5.3.2.2.3.cmml">(</mo><msub id="S3.p3.4.m4.4.4.2.1.1.1.1" xref="S3.p3.4.m4.4.4.2.1.1.1.1.cmml"><mi id="S3.p3.4.m4.4.4.2.1.1.1.1.2" xref="S3.p3.4.m4.4.4.2.1.1.1.1.2.cmml">s</mi><mi id="S3.p3.4.m4.4.4.2.1.1.1.1.3" xref="S3.p3.4.m4.4.4.2.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.p3.4.m4.5.5.3.2.2.2.4" xref="S3.p3.4.m4.5.5.3.2.2.3.cmml">,</mo><msub id="S3.p3.4.m4.5.5.3.2.2.2.2" xref="S3.p3.4.m4.5.5.3.2.2.2.2.cmml"><mi id="S3.p3.4.m4.5.5.3.2.2.2.2.2" xref="S3.p3.4.m4.5.5.3.2.2.2.2.2.cmml">s</mi><mi id="S3.p3.4.m4.5.5.3.2.2.2.2.3" xref="S3.p3.4.m4.5.5.3.2.2.2.2.3.cmml">j</mi></msub><mo stretchy="false" id="S3.p3.4.m4.5.5.3.2.2.2.5" xref="S3.p3.4.m4.5.5.3.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.4.m4.5b"><apply id="S3.p3.4.m4.5.5.cmml" xref="S3.p3.4.m4.5.5"><eq id="S3.p3.4.m4.5.5.4.cmml" xref="S3.p3.4.m4.5.5.4"></eq><apply id="S3.p3.4.m4.3.3.1.cmml" xref="S3.p3.4.m4.3.3.1"><times id="S3.p3.4.m4.3.3.1.2.cmml" xref="S3.p3.4.m4.3.3.1.2"></times><ci id="S3.p3.4.m4.3.3.1.3.cmml" xref="S3.p3.4.m4.3.3.1.3">𝑉</ci><apply id="S3.p3.4.m4.3.3.1.1.1.1.cmml" xref="S3.p3.4.m4.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.p3.4.m4.3.3.1.1.1.1.1.cmml" xref="S3.p3.4.m4.3.3.1.1.1">subscript</csymbol><ci id="S3.p3.4.m4.3.3.1.1.1.1.2.cmml" xref="S3.p3.4.m4.3.3.1.1.1.1.2">𝑠</ci><ci id="S3.p3.4.m4.3.3.1.1.1.1.3.cmml" xref="S3.p3.4.m4.3.3.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S3.p3.4.m4.5.5.3.cmml" xref="S3.p3.4.m4.5.5.3"><apply id="S3.p3.4.m4.5.5.3.3.cmml" xref="S3.p3.4.m4.5.5.3.3"><csymbol cd="ambiguous" id="S3.p3.4.m4.5.5.3.3.1.cmml" xref="S3.p3.4.m4.5.5.3.3">superscript</csymbol><apply id="S3.p3.4.m4.5.5.3.3.2.cmml" xref="S3.p3.4.m4.5.5.3.3"><csymbol cd="ambiguous" id="S3.p3.4.m4.5.5.3.3.2.1.cmml" xref="S3.p3.4.m4.5.5.3.3">subscript</csymbol><sum id="S3.p3.4.m4.5.5.3.3.2.2.cmml" xref="S3.p3.4.m4.5.5.3.3.2.2"></sum><apply id="S3.p3.4.m4.2.2.2.3.cmml" xref="S3.p3.4.m4.2.2.2.2"><csymbol cd="ambiguous" id="S3.p3.4.m4.2.2.2.3a.cmml" xref="S3.p3.4.m4.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.p3.4.m4.1.1.1.1.1.cmml" xref="S3.p3.4.m4.1.1.1.1.1"><eq id="S3.p3.4.m4.1.1.1.1.1.1.cmml" xref="S3.p3.4.m4.1.1.1.1.1.1"></eq><ci id="S3.p3.4.m4.1.1.1.1.1.2.cmml" xref="S3.p3.4.m4.1.1.1.1.1.2">𝑗</ci><cn type="integer" id="S3.p3.4.m4.1.1.1.1.1.3.cmml" xref="S3.p3.4.m4.1.1.1.1.1.3">1</cn></apply><apply id="S3.p3.4.m4.2.2.2.2.2.cmml" xref="S3.p3.4.m4.2.2.2.2.2"><neq id="S3.p3.4.m4.2.2.2.2.2.1.cmml" xref="S3.p3.4.m4.2.2.2.2.2.1"></neq><ci id="S3.p3.4.m4.2.2.2.2.2.2.cmml" xref="S3.p3.4.m4.2.2.2.2.2.2">𝑗</ci><ci id="S3.p3.4.m4.2.2.2.2.2.3.cmml" xref="S3.p3.4.m4.2.2.2.2.2.3">𝑖</ci></apply></apply></apply><ci id="S3.p3.4.m4.5.5.3.3.3.cmml" xref="S3.p3.4.m4.5.5.3.3.3">𝑁</ci></apply><apply id="S3.p3.4.m4.5.5.3.2.cmml" xref="S3.p3.4.m4.5.5.3.2"><times id="S3.p3.4.m4.5.5.3.2.3.cmml" xref="S3.p3.4.m4.5.5.3.2.3"></times><ci id="S3.p3.4.m4.5.5.3.2.4.cmml" xref="S3.p3.4.m4.5.5.3.2.4">𝑠</ci><ci id="S3.p3.4.m4.5.5.3.2.5.cmml" xref="S3.p3.4.m4.5.5.3.2.5">𝑖</ci><ci id="S3.p3.4.m4.5.5.3.2.6.cmml" xref="S3.p3.4.m4.5.5.3.2.6">𝑚</ci><interval closure="open" id="S3.p3.4.m4.5.5.3.2.2.3.cmml" xref="S3.p3.4.m4.5.5.3.2.2.2"><apply id="S3.p3.4.m4.4.4.2.1.1.1.1.cmml" xref="S3.p3.4.m4.4.4.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.p3.4.m4.4.4.2.1.1.1.1.1.cmml" xref="S3.p3.4.m4.4.4.2.1.1.1.1">subscript</csymbol><ci id="S3.p3.4.m4.4.4.2.1.1.1.1.2.cmml" xref="S3.p3.4.m4.4.4.2.1.1.1.1.2">𝑠</ci><ci id="S3.p3.4.m4.4.4.2.1.1.1.1.3.cmml" xref="S3.p3.4.m4.4.4.2.1.1.1.1.3">𝑖</ci></apply><apply id="S3.p3.4.m4.5.5.3.2.2.2.2.cmml" xref="S3.p3.4.m4.5.5.3.2.2.2.2"><csymbol cd="ambiguous" id="S3.p3.4.m4.5.5.3.2.2.2.2.1.cmml" xref="S3.p3.4.m4.5.5.3.2.2.2.2">subscript</csymbol><ci id="S3.p3.4.m4.5.5.3.2.2.2.2.2.cmml" xref="S3.p3.4.m4.5.5.3.2.2.2.2.2">𝑠</ci><ci id="S3.p3.4.m4.5.5.3.2.2.2.2.3.cmml" xref="S3.p3.4.m4.5.5.3.2.2.2.2.3">𝑗</ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.4.m4.5c">V(s_{i})=\sum_{j=1,j\neq i}^{N}sim(s_{i},s_{j})</annotation></semantics></math>. For open-ended generation tasks such as code generation, the BLEU score <cite class="ltx_cite ltx_citemacro_citep">(Papineni et&nbsp;al., <a href="#bib.bib23" title="" class="ltx_ref">2002</a>)</cite> is utilized to quantify similarity. Conversely, for close-ended tasks like multiple-choice questions, similarity is measured by occurrence frequency. The sample that exhibits the highest cumulative similarity is then chosen as the final answer denoted as <math id="S3.p3.5.m5.1" class="ltx_Math" alttext="A=\operatorname*{arg\,max}_{s_{i}\in S}V(s_{i})" display="inline"><semantics id="S3.p3.5.m5.1a"><mrow id="S3.p3.5.m5.1.1" xref="S3.p3.5.m5.1.1.cmml"><mi id="S3.p3.5.m5.1.1.3" xref="S3.p3.5.m5.1.1.3.cmml">A</mi><mo id="S3.p3.5.m5.1.1.2" xref="S3.p3.5.m5.1.1.2.cmml">=</mo><mrow id="S3.p3.5.m5.1.1.1" xref="S3.p3.5.m5.1.1.1.cmml"><mrow id="S3.p3.5.m5.1.1.1.3" xref="S3.p3.5.m5.1.1.1.3.cmml"><munder id="S3.p3.5.m5.1.1.1.3.1" xref="S3.p3.5.m5.1.1.1.3.1.cmml"><mrow id="S3.p3.5.m5.1.1.1.3.1.2" xref="S3.p3.5.m5.1.1.1.3.1.2.cmml"><mi id="S3.p3.5.m5.1.1.1.3.1.2.2" xref="S3.p3.5.m5.1.1.1.3.1.2.2.cmml">arg</mi><mo lspace="0.170em" rspace="0em" id="S3.p3.5.m5.1.1.1.3.1.2.1" xref="S3.p3.5.m5.1.1.1.3.1.2.1.cmml">​</mo><mi id="S3.p3.5.m5.1.1.1.3.1.2.3" xref="S3.p3.5.m5.1.1.1.3.1.2.3.cmml">max</mi></mrow><mrow id="S3.p3.5.m5.1.1.1.3.1.3" xref="S3.p3.5.m5.1.1.1.3.1.3.cmml"><msub id="S3.p3.5.m5.1.1.1.3.1.3.2" xref="S3.p3.5.m5.1.1.1.3.1.3.2.cmml"><mi id="S3.p3.5.m5.1.1.1.3.1.3.2.2" xref="S3.p3.5.m5.1.1.1.3.1.3.2.2.cmml">s</mi><mi id="S3.p3.5.m5.1.1.1.3.1.3.2.3" xref="S3.p3.5.m5.1.1.1.3.1.3.2.3.cmml">i</mi></msub><mo id="S3.p3.5.m5.1.1.1.3.1.3.1" xref="S3.p3.5.m5.1.1.1.3.1.3.1.cmml">∈</mo><mi id="S3.p3.5.m5.1.1.1.3.1.3.3" xref="S3.p3.5.m5.1.1.1.3.1.3.3.cmml">S</mi></mrow></munder><mo id="S3.p3.5.m5.1.1.1.3a" xref="S3.p3.5.m5.1.1.1.3.cmml">⁡</mo><mi id="S3.p3.5.m5.1.1.1.3.2" xref="S3.p3.5.m5.1.1.1.3.2.cmml">V</mi></mrow><mo lspace="0em" rspace="0em" id="S3.p3.5.m5.1.1.1.2" xref="S3.p3.5.m5.1.1.1.2.cmml">​</mo><mrow id="S3.p3.5.m5.1.1.1.1.1" xref="S3.p3.5.m5.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.p3.5.m5.1.1.1.1.1.2" xref="S3.p3.5.m5.1.1.1.1.1.1.cmml">(</mo><msub id="S3.p3.5.m5.1.1.1.1.1.1" xref="S3.p3.5.m5.1.1.1.1.1.1.cmml"><mi id="S3.p3.5.m5.1.1.1.1.1.1.2" xref="S3.p3.5.m5.1.1.1.1.1.1.2.cmml">s</mi><mi id="S3.p3.5.m5.1.1.1.1.1.1.3" xref="S3.p3.5.m5.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.p3.5.m5.1.1.1.1.1.3" xref="S3.p3.5.m5.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.5.m5.1b"><apply id="S3.p3.5.m5.1.1.cmml" xref="S3.p3.5.m5.1.1"><eq id="S3.p3.5.m5.1.1.2.cmml" xref="S3.p3.5.m5.1.1.2"></eq><ci id="S3.p3.5.m5.1.1.3.cmml" xref="S3.p3.5.m5.1.1.3">𝐴</ci><apply id="S3.p3.5.m5.1.1.1.cmml" xref="S3.p3.5.m5.1.1.1"><times id="S3.p3.5.m5.1.1.1.2.cmml" xref="S3.p3.5.m5.1.1.1.2"></times><apply id="S3.p3.5.m5.1.1.1.3.cmml" xref="S3.p3.5.m5.1.1.1.3"><apply id="S3.p3.5.m5.1.1.1.3.1.cmml" xref="S3.p3.5.m5.1.1.1.3.1"><csymbol cd="ambiguous" id="S3.p3.5.m5.1.1.1.3.1.1.cmml" xref="S3.p3.5.m5.1.1.1.3.1">subscript</csymbol><apply id="S3.p3.5.m5.1.1.1.3.1.2.cmml" xref="S3.p3.5.m5.1.1.1.3.1.2"><times id="S3.p3.5.m5.1.1.1.3.1.2.1.cmml" xref="S3.p3.5.m5.1.1.1.3.1.2.1"></times><ci id="S3.p3.5.m5.1.1.1.3.1.2.2.cmml" xref="S3.p3.5.m5.1.1.1.3.1.2.2">arg</ci><ci id="S3.p3.5.m5.1.1.1.3.1.2.3.cmml" xref="S3.p3.5.m5.1.1.1.3.1.2.3">max</ci></apply><apply id="S3.p3.5.m5.1.1.1.3.1.3.cmml" xref="S3.p3.5.m5.1.1.1.3.1.3"><in id="S3.p3.5.m5.1.1.1.3.1.3.1.cmml" xref="S3.p3.5.m5.1.1.1.3.1.3.1"></in><apply id="S3.p3.5.m5.1.1.1.3.1.3.2.cmml" xref="S3.p3.5.m5.1.1.1.3.1.3.2"><csymbol cd="ambiguous" id="S3.p3.5.m5.1.1.1.3.1.3.2.1.cmml" xref="S3.p3.5.m5.1.1.1.3.1.3.2">subscript</csymbol><ci id="S3.p3.5.m5.1.1.1.3.1.3.2.2.cmml" xref="S3.p3.5.m5.1.1.1.3.1.3.2.2">𝑠</ci><ci id="S3.p3.5.m5.1.1.1.3.1.3.2.3.cmml" xref="S3.p3.5.m5.1.1.1.3.1.3.2.3">𝑖</ci></apply><ci id="S3.p3.5.m5.1.1.1.3.1.3.3.cmml" xref="S3.p3.5.m5.1.1.1.3.1.3.3">𝑆</ci></apply></apply><ci id="S3.p3.5.m5.1.1.1.3.2.cmml" xref="S3.p3.5.m5.1.1.1.3.2">𝑉</ci></apply><apply id="S3.p3.5.m5.1.1.1.1.1.1.cmml" xref="S3.p3.5.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p3.5.m5.1.1.1.1.1.1.1.cmml" xref="S3.p3.5.m5.1.1.1.1.1">subscript</csymbol><ci id="S3.p3.5.m5.1.1.1.1.1.1.2.cmml" xref="S3.p3.5.m5.1.1.1.1.1.1.2">𝑠</ci><ci id="S3.p3.5.m5.1.1.1.1.1.1.3.cmml" xref="S3.p3.5.m5.1.1.1.1.1.1.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.5.m5.1c">A=\operatorname*{arg\,max}_{s_{i}\in S}V(s_{i})</annotation></semantics></math>.</p>
</div>
<div id="S3.p4" class="ltx_para">
<p id="S3.p4.1" class="ltx_p">The complete process of the sampling-and-voting method is described in Algorithm <a href="#alg1.l15" title="In Algorithm 1 ‣ 3 Method ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">15</span></a>.</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.2.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Sampling-and-voting</figcaption>
<div id="alg1.3" class="ltx_listing ltx_listing">
<div id="alg1.l0" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l0.1.1.1" class="ltx_text" style="font-size:80%;">0:</span></span>&nbsp;&nbsp;Query <math id="alg1.l0.m1.1" class="ltx_Math" alttext="x" display="inline"><semantics id="alg1.l0.m1.1a"><mi id="alg1.l0.m1.1.1" xref="alg1.l0.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="alg1.l0.m1.1b"><ci id="alg1.l0.m1.1.1.cmml" xref="alg1.l0.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l0.m1.1c">x</annotation></semantics></math>, number of samples <math id="alg1.l0.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="alg1.l0.m2.1a"><mi id="alg1.l0.m2.1.1" xref="alg1.l0.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="alg1.l0.m2.1b"><ci id="alg1.l0.m2.1.1.cmml" xref="alg1.l0.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l0.m2.1c">N</annotation></semantics></math>, LLM <math id="alg1.l0.m3.1" class="ltx_Math" alttext="\mathcal{M}" display="inline"><semantics id="alg1.l0.m3.1a"><mi class="ltx_font_mathcaligraphic" id="alg1.l0.m3.1.1" xref="alg1.l0.m3.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="alg1.l0.m3.1b"><ci id="alg1.l0.m3.1.1.cmml" xref="alg1.l0.m3.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l0.m3.1c">\mathcal{M}</annotation></semantics></math> or LLM integrated with other methods <math id="alg1.l0.m4.1" class="ltx_Math" alttext="f_{\mathcal{M}}(x)" display="inline"><semantics id="alg1.l0.m4.1a"><mrow id="alg1.l0.m4.1.2" xref="alg1.l0.m4.1.2.cmml"><msub id="alg1.l0.m4.1.2.2" xref="alg1.l0.m4.1.2.2.cmml"><mi id="alg1.l0.m4.1.2.2.2" xref="alg1.l0.m4.1.2.2.2.cmml">f</mi><mi class="ltx_font_mathcaligraphic" id="alg1.l0.m4.1.2.2.3" xref="alg1.l0.m4.1.2.2.3.cmml">ℳ</mi></msub><mo lspace="0em" rspace="0em" id="alg1.l0.m4.1.2.1" xref="alg1.l0.m4.1.2.1.cmml">​</mo><mrow id="alg1.l0.m4.1.2.3.2" xref="alg1.l0.m4.1.2.cmml"><mo stretchy="false" id="alg1.l0.m4.1.2.3.2.1" xref="alg1.l0.m4.1.2.cmml">(</mo><mi id="alg1.l0.m4.1.1" xref="alg1.l0.m4.1.1.cmml">x</mi><mo stretchy="false" id="alg1.l0.m4.1.2.3.2.2" xref="alg1.l0.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l0.m4.1b"><apply id="alg1.l0.m4.1.2.cmml" xref="alg1.l0.m4.1.2"><times id="alg1.l0.m4.1.2.1.cmml" xref="alg1.l0.m4.1.2.1"></times><apply id="alg1.l0.m4.1.2.2.cmml" xref="alg1.l0.m4.1.2.2"><csymbol cd="ambiguous" id="alg1.l0.m4.1.2.2.1.cmml" xref="alg1.l0.m4.1.2.2">subscript</csymbol><ci id="alg1.l0.m4.1.2.2.2.cmml" xref="alg1.l0.m4.1.2.2.2">𝑓</ci><ci id="alg1.l0.m4.1.2.2.3.cmml" xref="alg1.l0.m4.1.2.2.3">ℳ</ci></apply><ci id="alg1.l0.m4.1.1.cmml" xref="alg1.l0.m4.1.1">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l0.m4.1c">f_{\mathcal{M}}(x)</annotation></semantics></math>

</div>
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span>&nbsp;&nbsp;Initialize an empty set for samples <math id="alg1.l1.m1.1" class="ltx_Math" alttext="S\leftarrow\emptyset" display="inline"><semantics id="alg1.l1.m1.1a"><mrow id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml"><mi id="alg1.l1.m1.1.1.2" xref="alg1.l1.m1.1.1.2.cmml">S</mi><mo stretchy="false" id="alg1.l1.m1.1.1.1" xref="alg1.l1.m1.1.1.1.cmml">←</mo><mi mathvariant="normal" id="alg1.l1.m1.1.1.3" xref="alg1.l1.m1.1.1.3.cmml">∅</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><apply id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1"><ci id="alg1.l1.m1.1.1.1.cmml" xref="alg1.l1.m1.1.1.1">←</ci><ci id="alg1.l1.m1.1.1.2.cmml" xref="alg1.l1.m1.1.1.2">𝑆</ci><emptyset id="alg1.l1.m1.1.1.3.cmml" xref="alg1.l1.m1.1.1.3"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">S\leftarrow\emptyset</annotation></semantics></math>

</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span>&nbsp;&nbsp;<span id="alg1.l2.2" class="ltx_text ltx_font_bold">for</span>&nbsp;<math id="alg1.l2.m1.1" class="ltx_Math" alttext="i=1" display="inline"><semantics id="alg1.l2.m1.1a"><mrow id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml"><mi id="alg1.l2.m1.1.1.2" xref="alg1.l2.m1.1.1.2.cmml">i</mi><mo id="alg1.l2.m1.1.1.1" xref="alg1.l2.m1.1.1.1.cmml">=</mo><mn id="alg1.l2.m1.1.1.3" xref="alg1.l2.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1"><eq id="alg1.l2.m1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1"></eq><ci id="alg1.l2.m1.1.1.2.cmml" xref="alg1.l2.m1.1.1.2">𝑖</ci><cn type="integer" id="alg1.l2.m1.1.1.3.cmml" xref="alg1.l2.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">i=1</annotation></semantics></math> to <math id="alg1.l2.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="alg1.l2.m2.1a"><mi id="alg1.l2.m2.1.1" xref="alg1.l2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="alg1.l2.m2.1b"><ci id="alg1.l2.m2.1.1.cmml" xref="alg1.l2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m2.1c">N</annotation></semantics></math>&nbsp;<span id="alg1.l2.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate sample <math id="alg1.l3.m1.1" class="ltx_Math" alttext="s_{i}\leftarrow\mathcal{M}(x)" display="inline"><semantics id="alg1.l3.m1.1a"><mrow id="alg1.l3.m1.1.2" xref="alg1.l3.m1.1.2.cmml"><msub id="alg1.l3.m1.1.2.2" xref="alg1.l3.m1.1.2.2.cmml"><mi id="alg1.l3.m1.1.2.2.2" xref="alg1.l3.m1.1.2.2.2.cmml">s</mi><mi id="alg1.l3.m1.1.2.2.3" xref="alg1.l3.m1.1.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="alg1.l3.m1.1.2.1" xref="alg1.l3.m1.1.2.1.cmml">←</mo><mrow id="alg1.l3.m1.1.2.3" xref="alg1.l3.m1.1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l3.m1.1.2.3.2" xref="alg1.l3.m1.1.2.3.2.cmml">ℳ</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.2.3.1" xref="alg1.l3.m1.1.2.3.1.cmml">​</mo><mrow id="alg1.l3.m1.1.2.3.3.2" xref="alg1.l3.m1.1.2.3.cmml"><mo stretchy="false" id="alg1.l3.m1.1.2.3.3.2.1" xref="alg1.l3.m1.1.2.3.cmml">(</mo><mi id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml">x</mi><mo stretchy="false" id="alg1.l3.m1.1.2.3.3.2.2" xref="alg1.l3.m1.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><apply id="alg1.l3.m1.1.2.cmml" xref="alg1.l3.m1.1.2"><ci id="alg1.l3.m1.1.2.1.cmml" xref="alg1.l3.m1.1.2.1">←</ci><apply id="alg1.l3.m1.1.2.2.cmml" xref="alg1.l3.m1.1.2.2"><csymbol cd="ambiguous" id="alg1.l3.m1.1.2.2.1.cmml" xref="alg1.l3.m1.1.2.2">subscript</csymbol><ci id="alg1.l3.m1.1.2.2.2.cmml" xref="alg1.l3.m1.1.2.2.2">𝑠</ci><ci id="alg1.l3.m1.1.2.2.3.cmml" xref="alg1.l3.m1.1.2.2.3">𝑖</ci></apply><apply id="alg1.l3.m1.1.2.3.cmml" xref="alg1.l3.m1.1.2.3"><times id="alg1.l3.m1.1.2.3.1.cmml" xref="alg1.l3.m1.1.2.3.1"></times><ci id="alg1.l3.m1.1.2.3.2.cmml" xref="alg1.l3.m1.1.2.3.2">ℳ</ci><ci id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">s_{i}\leftarrow\mathcal{M}(x)</annotation></semantics></math> or <math id="alg1.l3.m2.1" class="ltx_Math" alttext="s_{i}\leftarrow f_{\mathcal{M}}(x)" display="inline"><semantics id="alg1.l3.m2.1a"><mrow id="alg1.l3.m2.1.2" xref="alg1.l3.m2.1.2.cmml"><msub id="alg1.l3.m2.1.2.2" xref="alg1.l3.m2.1.2.2.cmml"><mi id="alg1.l3.m2.1.2.2.2" xref="alg1.l3.m2.1.2.2.2.cmml">s</mi><mi id="alg1.l3.m2.1.2.2.3" xref="alg1.l3.m2.1.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="alg1.l3.m2.1.2.1" xref="alg1.l3.m2.1.2.1.cmml">←</mo><mrow id="alg1.l3.m2.1.2.3" xref="alg1.l3.m2.1.2.3.cmml"><msub id="alg1.l3.m2.1.2.3.2" xref="alg1.l3.m2.1.2.3.2.cmml"><mi id="alg1.l3.m2.1.2.3.2.2" xref="alg1.l3.m2.1.2.3.2.2.cmml">f</mi><mi class="ltx_font_mathcaligraphic" id="alg1.l3.m2.1.2.3.2.3" xref="alg1.l3.m2.1.2.3.2.3.cmml">ℳ</mi></msub><mo lspace="0em" rspace="0em" id="alg1.l3.m2.1.2.3.1" xref="alg1.l3.m2.1.2.3.1.cmml">​</mo><mrow id="alg1.l3.m2.1.2.3.3.2" xref="alg1.l3.m2.1.2.3.cmml"><mo stretchy="false" id="alg1.l3.m2.1.2.3.3.2.1" xref="alg1.l3.m2.1.2.3.cmml">(</mo><mi id="alg1.l3.m2.1.1" xref="alg1.l3.m2.1.1.cmml">x</mi><mo stretchy="false" id="alg1.l3.m2.1.2.3.3.2.2" xref="alg1.l3.m2.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m2.1b"><apply id="alg1.l3.m2.1.2.cmml" xref="alg1.l3.m2.1.2"><ci id="alg1.l3.m2.1.2.1.cmml" xref="alg1.l3.m2.1.2.1">←</ci><apply id="alg1.l3.m2.1.2.2.cmml" xref="alg1.l3.m2.1.2.2"><csymbol cd="ambiguous" id="alg1.l3.m2.1.2.2.1.cmml" xref="alg1.l3.m2.1.2.2">subscript</csymbol><ci id="alg1.l3.m2.1.2.2.2.cmml" xref="alg1.l3.m2.1.2.2.2">𝑠</ci><ci id="alg1.l3.m2.1.2.2.3.cmml" xref="alg1.l3.m2.1.2.2.3">𝑖</ci></apply><apply id="alg1.l3.m2.1.2.3.cmml" xref="alg1.l3.m2.1.2.3"><times id="alg1.l3.m2.1.2.3.1.cmml" xref="alg1.l3.m2.1.2.3.1"></times><apply id="alg1.l3.m2.1.2.3.2.cmml" xref="alg1.l3.m2.1.2.3.2"><csymbol cd="ambiguous" id="alg1.l3.m2.1.2.3.2.1.cmml" xref="alg1.l3.m2.1.2.3.2">subscript</csymbol><ci id="alg1.l3.m2.1.2.3.2.2.cmml" xref="alg1.l3.m2.1.2.3.2.2">𝑓</ci><ci id="alg1.l3.m2.1.2.3.2.3.cmml" xref="alg1.l3.m2.1.2.3.2.3">ℳ</ci></apply><ci id="alg1.l3.m2.1.1.cmml" xref="alg1.l3.m2.1.1">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m2.1c">s_{i}\leftarrow f_{\mathcal{M}}(x)</annotation></semantics></math>

</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add sample to the set <math id="alg1.l4.m1.1" class="ltx_Math" alttext="S\leftarrow S\cup\{s_{i}\}" display="inline"><semantics id="alg1.l4.m1.1a"><mrow id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><mi id="alg1.l4.m1.1.1.3" xref="alg1.l4.m1.1.1.3.cmml">S</mi><mo stretchy="false" id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml">←</mo><mrow id="alg1.l4.m1.1.1.1" xref="alg1.l4.m1.1.1.1.cmml"><mi id="alg1.l4.m1.1.1.1.3" xref="alg1.l4.m1.1.1.1.3.cmml">S</mi><mo id="alg1.l4.m1.1.1.1.2" xref="alg1.l4.m1.1.1.1.2.cmml">∪</mo><mrow id="alg1.l4.m1.1.1.1.1.1" xref="alg1.l4.m1.1.1.1.1.2.cmml"><mo stretchy="false" id="alg1.l4.m1.1.1.1.1.1.2" xref="alg1.l4.m1.1.1.1.1.2.cmml">{</mo><msub id="alg1.l4.m1.1.1.1.1.1.1" xref="alg1.l4.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l4.m1.1.1.1.1.1.1.2" xref="alg1.l4.m1.1.1.1.1.1.1.2.cmml">s</mi><mi id="alg1.l4.m1.1.1.1.1.1.1.3" xref="alg1.l4.m1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="alg1.l4.m1.1.1.1.1.1.3" xref="alg1.l4.m1.1.1.1.1.2.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><ci id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2">←</ci><ci id="alg1.l4.m1.1.1.3.cmml" xref="alg1.l4.m1.1.1.3">𝑆</ci><apply id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1"><union id="alg1.l4.m1.1.1.1.2.cmml" xref="alg1.l4.m1.1.1.1.2"></union><ci id="alg1.l4.m1.1.1.1.3.cmml" xref="alg1.l4.m1.1.1.1.3">𝑆</ci><set id="alg1.l4.m1.1.1.1.1.2.cmml" xref="alg1.l4.m1.1.1.1.1.1"><apply id="alg1.l4.m1.1.1.1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l4.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l4.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l4.m1.1.1.1.1.1.1.2">𝑠</ci><ci id="alg1.l4.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l4.m1.1.1.1.1.1.1.3">𝑖</ci></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">S\leftarrow S\cup\{s_{i}\}</annotation></semantics></math>

</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>&nbsp;&nbsp;<span id="alg1.l5.2" class="ltx_text ltx_font_bold">end</span>&nbsp;<span id="alg1.l5.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span>&nbsp;&nbsp;<span id="alg1.l6.2" class="ltx_text ltx_font_bold">for</span>&nbsp;each sample <math id="alg1.l6.m1.1" class="ltx_Math" alttext="s_{i}" display="inline"><semantics id="alg1.l6.m1.1a"><msub id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml"><mi id="alg1.l6.m1.1.1.2" xref="alg1.l6.m1.1.1.2.cmml">s</mi><mi id="alg1.l6.m1.1.1.3" xref="alg1.l6.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.1b"><apply id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.1.cmml" xref="alg1.l6.m1.1.1">subscript</csymbol><ci id="alg1.l6.m1.1.1.2.cmml" xref="alg1.l6.m1.1.1.2">𝑠</ci><ci id="alg1.l6.m1.1.1.3.cmml" xref="alg1.l6.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.1c">s_{i}</annotation></semantics></math> in <math id="alg1.l6.m2.1" class="ltx_Math" alttext="S" display="inline"><semantics id="alg1.l6.m2.1a"><mi id="alg1.l6.m2.1.1" xref="alg1.l6.m2.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="alg1.l6.m2.1b"><ci id="alg1.l6.m2.1.1.cmml" xref="alg1.l6.m2.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m2.1c">S</annotation></semantics></math>&nbsp;<span id="alg1.l6.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize similarity scores <math id="alg1.l7.m1.1" class="ltx_Math" alttext="V(s_{i})\leftarrow 0" display="inline"><semantics id="alg1.l7.m1.1a"><mrow id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml"><mrow id="alg1.l7.m1.1.1.1" xref="alg1.l7.m1.1.1.1.cmml"><mi id="alg1.l7.m1.1.1.1.3" xref="alg1.l7.m1.1.1.1.3.cmml">V</mi><mo lspace="0em" rspace="0em" id="alg1.l7.m1.1.1.1.2" xref="alg1.l7.m1.1.1.1.2.cmml">​</mo><mrow id="alg1.l7.m1.1.1.1.1.1" xref="alg1.l7.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg1.l7.m1.1.1.1.1.1.2" xref="alg1.l7.m1.1.1.1.1.1.1.cmml">(</mo><msub id="alg1.l7.m1.1.1.1.1.1.1" xref="alg1.l7.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l7.m1.1.1.1.1.1.1.2" xref="alg1.l7.m1.1.1.1.1.1.1.2.cmml">s</mi><mi id="alg1.l7.m1.1.1.1.1.1.1.3" xref="alg1.l7.m1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="alg1.l7.m1.1.1.1.1.1.3" xref="alg1.l7.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="alg1.l7.m1.1.1.2" xref="alg1.l7.m1.1.1.2.cmml">←</mo><mn id="alg1.l7.m1.1.1.3" xref="alg1.l7.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b"><apply id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1"><ci id="alg1.l7.m1.1.1.2.cmml" xref="alg1.l7.m1.1.1.2">←</ci><apply id="alg1.l7.m1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1"><times id="alg1.l7.m1.1.1.1.2.cmml" xref="alg1.l7.m1.1.1.1.2"></times><ci id="alg1.l7.m1.1.1.1.3.cmml" xref="alg1.l7.m1.1.1.1.3">𝑉</ci><apply id="alg1.l7.m1.1.1.1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l7.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l7.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l7.m1.1.1.1.1.1.1.2">𝑠</ci><ci id="alg1.l7.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l7.m1.1.1.1.1.1.1.3">𝑖</ci></apply></apply><cn type="integer" id="alg1.l7.m1.1.1.3.cmml" xref="alg1.l7.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.1c">V(s_{i})\leftarrow 0</annotation></semantics></math>

</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id="alg1.l8.2" class="ltx_text ltx_font_bold">for</span>&nbsp;each sample <math id="alg1.l8.m1.1" class="ltx_Math" alttext="s_{j}" display="inline"><semantics id="alg1.l8.m1.1a"><msub id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml"><mi id="alg1.l8.m1.1.1.2" xref="alg1.l8.m1.1.1.2.cmml">s</mi><mi id="alg1.l8.m1.1.1.3" xref="alg1.l8.m1.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.1b"><apply id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.1.cmml" xref="alg1.l8.m1.1.1">subscript</csymbol><ci id="alg1.l8.m1.1.1.2.cmml" xref="alg1.l8.m1.1.1.2">𝑠</ci><ci id="alg1.l8.m1.1.1.3.cmml" xref="alg1.l8.m1.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.1c">s_{j}</annotation></semantics></math> in <math id="alg1.l8.m2.1" class="ltx_Math" alttext="S" display="inline"><semantics id="alg1.l8.m2.1a"><mi id="alg1.l8.m2.1.1" xref="alg1.l8.m2.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="alg1.l8.m2.1b"><ci id="alg1.l8.m2.1.1.cmml" xref="alg1.l8.m2.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m2.1c">S</annotation></semantics></math>&nbsp;<span id="alg1.l8.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id="alg1.l9.2" class="ltx_text ltx_font_bold">if</span>&nbsp;<math id="alg1.l9.m1.1" class="ltx_Math" alttext="i\neq j" display="inline"><semantics id="alg1.l9.m1.1a"><mrow id="alg1.l9.m1.1.1" xref="alg1.l9.m1.1.1.cmml"><mi id="alg1.l9.m1.1.1.2" xref="alg1.l9.m1.1.1.2.cmml">i</mi><mo id="alg1.l9.m1.1.1.1" xref="alg1.l9.m1.1.1.1.cmml">≠</mo><mi id="alg1.l9.m1.1.1.3" xref="alg1.l9.m1.1.1.3.cmml">j</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.1b"><apply id="alg1.l9.m1.1.1.cmml" xref="alg1.l9.m1.1.1"><neq id="alg1.l9.m1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1"></neq><ci id="alg1.l9.m1.1.1.2.cmml" xref="alg1.l9.m1.1.1.2">𝑖</ci><ci id="alg1.l9.m1.1.1.3.cmml" xref="alg1.l9.m1.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.1c">i\neq j</annotation></semantics></math>&nbsp;<span id="alg1.l9.3" class="ltx_text ltx_font_bold">then</span>



</div>
<div id="alg1.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<math id="alg1.l10.m1.4" class="ltx_Math" alttext="V(s_{i})\leftarrow V(s_{i})+sim(s_{i},s_{j})" display="inline"><semantics id="alg1.l10.m1.4a"><mrow id="alg1.l10.m1.4.4" xref="alg1.l10.m1.4.4.cmml"><mrow id="alg1.l10.m1.1.1.1" xref="alg1.l10.m1.1.1.1.cmml"><mi id="alg1.l10.m1.1.1.1.3" xref="alg1.l10.m1.1.1.1.3.cmml">V</mi><mo lspace="0em" rspace="0em" id="alg1.l10.m1.1.1.1.2" xref="alg1.l10.m1.1.1.1.2.cmml">​</mo><mrow id="alg1.l10.m1.1.1.1.1.1" xref="alg1.l10.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg1.l10.m1.1.1.1.1.1.2" xref="alg1.l10.m1.1.1.1.1.1.1.cmml">(</mo><msub id="alg1.l10.m1.1.1.1.1.1.1" xref="alg1.l10.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l10.m1.1.1.1.1.1.1.2" xref="alg1.l10.m1.1.1.1.1.1.1.2.cmml">s</mi><mi id="alg1.l10.m1.1.1.1.1.1.1.3" xref="alg1.l10.m1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="alg1.l10.m1.1.1.1.1.1.3" xref="alg1.l10.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="alg1.l10.m1.4.4.5" xref="alg1.l10.m1.4.4.5.cmml">←</mo><mrow id="alg1.l10.m1.4.4.4" xref="alg1.l10.m1.4.4.4.cmml"><mrow id="alg1.l10.m1.2.2.2.1" xref="alg1.l10.m1.2.2.2.1.cmml"><mi id="alg1.l10.m1.2.2.2.1.3" xref="alg1.l10.m1.2.2.2.1.3.cmml">V</mi><mo lspace="0em" rspace="0em" id="alg1.l10.m1.2.2.2.1.2" xref="alg1.l10.m1.2.2.2.1.2.cmml">​</mo><mrow id="alg1.l10.m1.2.2.2.1.1.1" xref="alg1.l10.m1.2.2.2.1.1.1.1.cmml"><mo stretchy="false" id="alg1.l10.m1.2.2.2.1.1.1.2" xref="alg1.l10.m1.2.2.2.1.1.1.1.cmml">(</mo><msub id="alg1.l10.m1.2.2.2.1.1.1.1" xref="alg1.l10.m1.2.2.2.1.1.1.1.cmml"><mi id="alg1.l10.m1.2.2.2.1.1.1.1.2" xref="alg1.l10.m1.2.2.2.1.1.1.1.2.cmml">s</mi><mi id="alg1.l10.m1.2.2.2.1.1.1.1.3" xref="alg1.l10.m1.2.2.2.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="alg1.l10.m1.2.2.2.1.1.1.3" xref="alg1.l10.m1.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="alg1.l10.m1.4.4.4.4" xref="alg1.l10.m1.4.4.4.4.cmml">+</mo><mrow id="alg1.l10.m1.4.4.4.3" xref="alg1.l10.m1.4.4.4.3.cmml"><mi id="alg1.l10.m1.4.4.4.3.4" xref="alg1.l10.m1.4.4.4.3.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l10.m1.4.4.4.3.3" xref="alg1.l10.m1.4.4.4.3.3.cmml">​</mo><mi id="alg1.l10.m1.4.4.4.3.5" xref="alg1.l10.m1.4.4.4.3.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l10.m1.4.4.4.3.3a" xref="alg1.l10.m1.4.4.4.3.3.cmml">​</mo><mi id="alg1.l10.m1.4.4.4.3.6" xref="alg1.l10.m1.4.4.4.3.6.cmml">m</mi><mo lspace="0em" rspace="0em" id="alg1.l10.m1.4.4.4.3.3b" xref="alg1.l10.m1.4.4.4.3.3.cmml">​</mo><mrow id="alg1.l10.m1.4.4.4.3.2.2" xref="alg1.l10.m1.4.4.4.3.2.3.cmml"><mo stretchy="false" id="alg1.l10.m1.4.4.4.3.2.2.3" xref="alg1.l10.m1.4.4.4.3.2.3.cmml">(</mo><msub id="alg1.l10.m1.3.3.3.2.1.1.1" xref="alg1.l10.m1.3.3.3.2.1.1.1.cmml"><mi id="alg1.l10.m1.3.3.3.2.1.1.1.2" xref="alg1.l10.m1.3.3.3.2.1.1.1.2.cmml">s</mi><mi id="alg1.l10.m1.3.3.3.2.1.1.1.3" xref="alg1.l10.m1.3.3.3.2.1.1.1.3.cmml">i</mi></msub><mo id="alg1.l10.m1.4.4.4.3.2.2.4" xref="alg1.l10.m1.4.4.4.3.2.3.cmml">,</mo><msub id="alg1.l10.m1.4.4.4.3.2.2.2" xref="alg1.l10.m1.4.4.4.3.2.2.2.cmml"><mi id="alg1.l10.m1.4.4.4.3.2.2.2.2" xref="alg1.l10.m1.4.4.4.3.2.2.2.2.cmml">s</mi><mi id="alg1.l10.m1.4.4.4.3.2.2.2.3" xref="alg1.l10.m1.4.4.4.3.2.2.2.3.cmml">j</mi></msub><mo stretchy="false" id="alg1.l10.m1.4.4.4.3.2.2.5" xref="alg1.l10.m1.4.4.4.3.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.4b"><apply id="alg1.l10.m1.4.4.cmml" xref="alg1.l10.m1.4.4"><ci id="alg1.l10.m1.4.4.5.cmml" xref="alg1.l10.m1.4.4.5">←</ci><apply id="alg1.l10.m1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1"><times id="alg1.l10.m1.1.1.1.2.cmml" xref="alg1.l10.m1.1.1.1.2"></times><ci id="alg1.l10.m1.1.1.1.3.cmml" xref="alg1.l10.m1.1.1.1.3">𝑉</ci><apply id="alg1.l10.m1.1.1.1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l10.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l10.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.2">𝑠</ci><ci id="alg1.l10.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.3">𝑖</ci></apply></apply><apply id="alg1.l10.m1.4.4.4.cmml" xref="alg1.l10.m1.4.4.4"><plus id="alg1.l10.m1.4.4.4.4.cmml" xref="alg1.l10.m1.4.4.4.4"></plus><apply id="alg1.l10.m1.2.2.2.1.cmml" xref="alg1.l10.m1.2.2.2.1"><times id="alg1.l10.m1.2.2.2.1.2.cmml" xref="alg1.l10.m1.2.2.2.1.2"></times><ci id="alg1.l10.m1.2.2.2.1.3.cmml" xref="alg1.l10.m1.2.2.2.1.3">𝑉</ci><apply id="alg1.l10.m1.2.2.2.1.1.1.1.cmml" xref="alg1.l10.m1.2.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.l10.m1.2.2.2.1.1.1.1.1.cmml" xref="alg1.l10.m1.2.2.2.1.1.1">subscript</csymbol><ci id="alg1.l10.m1.2.2.2.1.1.1.1.2.cmml" xref="alg1.l10.m1.2.2.2.1.1.1.1.2">𝑠</ci><ci id="alg1.l10.m1.2.2.2.1.1.1.1.3.cmml" xref="alg1.l10.m1.2.2.2.1.1.1.1.3">𝑖</ci></apply></apply><apply id="alg1.l10.m1.4.4.4.3.cmml" xref="alg1.l10.m1.4.4.4.3"><times id="alg1.l10.m1.4.4.4.3.3.cmml" xref="alg1.l10.m1.4.4.4.3.3"></times><ci id="alg1.l10.m1.4.4.4.3.4.cmml" xref="alg1.l10.m1.4.4.4.3.4">𝑠</ci><ci id="alg1.l10.m1.4.4.4.3.5.cmml" xref="alg1.l10.m1.4.4.4.3.5">𝑖</ci><ci id="alg1.l10.m1.4.4.4.3.6.cmml" xref="alg1.l10.m1.4.4.4.3.6">𝑚</ci><interval closure="open" id="alg1.l10.m1.4.4.4.3.2.3.cmml" xref="alg1.l10.m1.4.4.4.3.2.2"><apply id="alg1.l10.m1.3.3.3.2.1.1.1.cmml" xref="alg1.l10.m1.3.3.3.2.1.1.1"><csymbol cd="ambiguous" id="alg1.l10.m1.3.3.3.2.1.1.1.1.cmml" xref="alg1.l10.m1.3.3.3.2.1.1.1">subscript</csymbol><ci id="alg1.l10.m1.3.3.3.2.1.1.1.2.cmml" xref="alg1.l10.m1.3.3.3.2.1.1.1.2">𝑠</ci><ci id="alg1.l10.m1.3.3.3.2.1.1.1.3.cmml" xref="alg1.l10.m1.3.3.3.2.1.1.1.3">𝑖</ci></apply><apply id="alg1.l10.m1.4.4.4.3.2.2.2.cmml" xref="alg1.l10.m1.4.4.4.3.2.2.2"><csymbol cd="ambiguous" id="alg1.l10.m1.4.4.4.3.2.2.2.1.cmml" xref="alg1.l10.m1.4.4.4.3.2.2.2">subscript</csymbol><ci id="alg1.l10.m1.4.4.4.3.2.2.2.2.cmml" xref="alg1.l10.m1.4.4.4.3.2.2.2.2">𝑠</ci><ci id="alg1.l10.m1.4.4.4.3.2.2.2.3.cmml" xref="alg1.l10.m1.4.4.4.3.2.2.2.3">𝑗</ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.4c">V(s_{i})\leftarrow V(s_{i})+sim(s_{i},s_{j})</annotation></semantics></math>

</div>
<div id="alg1.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l11.1.1.1" class="ltx_text" style="font-size:80%;">11:</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id="alg1.l11.2" class="ltx_text ltx_font_bold">end</span>&nbsp;<span id="alg1.l11.3" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg1.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l12.1.1.1" class="ltx_text" style="font-size:80%;">12:</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id="alg1.l12.2" class="ltx_text ltx_font_bold">end</span>&nbsp;<span id="alg1.l12.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l13.1.1.1" class="ltx_text" style="font-size:80%;">13:</span></span>&nbsp;&nbsp;<span id="alg1.l13.2" class="ltx_text ltx_font_bold">end</span>&nbsp;<span id="alg1.l13.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l14.1.1.1" class="ltx_text" style="font-size:80%;">14:</span></span>&nbsp;&nbsp;<math id="alg1.l14.m1.1" class="ltx_Math" alttext="A\leftarrow\operatorname*{arg\,max}_{s_{i}\in S}V(s_{i})" display="inline"><semantics id="alg1.l14.m1.1a"><mrow id="alg1.l14.m1.1.1" xref="alg1.l14.m1.1.1.cmml"><mi id="alg1.l14.m1.1.1.3" xref="alg1.l14.m1.1.1.3.cmml">A</mi><mo stretchy="false" id="alg1.l14.m1.1.1.2" xref="alg1.l14.m1.1.1.2.cmml">←</mo><mrow id="alg1.l14.m1.1.1.1" xref="alg1.l14.m1.1.1.1.cmml"><mrow id="alg1.l14.m1.1.1.1.3" xref="alg1.l14.m1.1.1.1.3.cmml"><munder id="alg1.l14.m1.1.1.1.3.1" xref="alg1.l14.m1.1.1.1.3.1.cmml"><mrow id="alg1.l14.m1.1.1.1.3.1.2" xref="alg1.l14.m1.1.1.1.3.1.2.cmml"><mi id="alg1.l14.m1.1.1.1.3.1.2.2" xref="alg1.l14.m1.1.1.1.3.1.2.2.cmml">arg</mi><mo lspace="0.170em" rspace="0em" id="alg1.l14.m1.1.1.1.3.1.2.1" xref="alg1.l14.m1.1.1.1.3.1.2.1.cmml">​</mo><mi id="alg1.l14.m1.1.1.1.3.1.2.3" xref="alg1.l14.m1.1.1.1.3.1.2.3.cmml">max</mi></mrow><mrow id="alg1.l14.m1.1.1.1.3.1.3" xref="alg1.l14.m1.1.1.1.3.1.3.cmml"><msub id="alg1.l14.m1.1.1.1.3.1.3.2" xref="alg1.l14.m1.1.1.1.3.1.3.2.cmml"><mi id="alg1.l14.m1.1.1.1.3.1.3.2.2" xref="alg1.l14.m1.1.1.1.3.1.3.2.2.cmml">s</mi><mi id="alg1.l14.m1.1.1.1.3.1.3.2.3" xref="alg1.l14.m1.1.1.1.3.1.3.2.3.cmml">i</mi></msub><mo id="alg1.l14.m1.1.1.1.3.1.3.1" xref="alg1.l14.m1.1.1.1.3.1.3.1.cmml">∈</mo><mi id="alg1.l14.m1.1.1.1.3.1.3.3" xref="alg1.l14.m1.1.1.1.3.1.3.3.cmml">S</mi></mrow></munder><mo id="alg1.l14.m1.1.1.1.3a" xref="alg1.l14.m1.1.1.1.3.cmml">⁡</mo><mi id="alg1.l14.m1.1.1.1.3.2" xref="alg1.l14.m1.1.1.1.3.2.cmml">V</mi></mrow><mo lspace="0em" rspace="0em" id="alg1.l14.m1.1.1.1.2" xref="alg1.l14.m1.1.1.1.2.cmml">​</mo><mrow id="alg1.l14.m1.1.1.1.1.1" xref="alg1.l14.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg1.l14.m1.1.1.1.1.1.2" xref="alg1.l14.m1.1.1.1.1.1.1.cmml">(</mo><msub id="alg1.l14.m1.1.1.1.1.1.1" xref="alg1.l14.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l14.m1.1.1.1.1.1.1.2" xref="alg1.l14.m1.1.1.1.1.1.1.2.cmml">s</mi><mi id="alg1.l14.m1.1.1.1.1.1.1.3" xref="alg1.l14.m1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="alg1.l14.m1.1.1.1.1.1.3" xref="alg1.l14.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l14.m1.1b"><apply id="alg1.l14.m1.1.1.cmml" xref="alg1.l14.m1.1.1"><ci id="alg1.l14.m1.1.1.2.cmml" xref="alg1.l14.m1.1.1.2">←</ci><ci id="alg1.l14.m1.1.1.3.cmml" xref="alg1.l14.m1.1.1.3">𝐴</ci><apply id="alg1.l14.m1.1.1.1.cmml" xref="alg1.l14.m1.1.1.1"><times id="alg1.l14.m1.1.1.1.2.cmml" xref="alg1.l14.m1.1.1.1.2"></times><apply id="alg1.l14.m1.1.1.1.3.cmml" xref="alg1.l14.m1.1.1.1.3"><apply id="alg1.l14.m1.1.1.1.3.1.cmml" xref="alg1.l14.m1.1.1.1.3.1"><csymbol cd="ambiguous" id="alg1.l14.m1.1.1.1.3.1.1.cmml" xref="alg1.l14.m1.1.1.1.3.1">subscript</csymbol><apply id="alg1.l14.m1.1.1.1.3.1.2.cmml" xref="alg1.l14.m1.1.1.1.3.1.2"><times id="alg1.l14.m1.1.1.1.3.1.2.1.cmml" xref="alg1.l14.m1.1.1.1.3.1.2.1"></times><ci id="alg1.l14.m1.1.1.1.3.1.2.2.cmml" xref="alg1.l14.m1.1.1.1.3.1.2.2">arg</ci><ci id="alg1.l14.m1.1.1.1.3.1.2.3.cmml" xref="alg1.l14.m1.1.1.1.3.1.2.3">max</ci></apply><apply id="alg1.l14.m1.1.1.1.3.1.3.cmml" xref="alg1.l14.m1.1.1.1.3.1.3"><in id="alg1.l14.m1.1.1.1.3.1.3.1.cmml" xref="alg1.l14.m1.1.1.1.3.1.3.1"></in><apply id="alg1.l14.m1.1.1.1.3.1.3.2.cmml" xref="alg1.l14.m1.1.1.1.3.1.3.2"><csymbol cd="ambiguous" id="alg1.l14.m1.1.1.1.3.1.3.2.1.cmml" xref="alg1.l14.m1.1.1.1.3.1.3.2">subscript</csymbol><ci id="alg1.l14.m1.1.1.1.3.1.3.2.2.cmml" xref="alg1.l14.m1.1.1.1.3.1.3.2.2">𝑠</ci><ci id="alg1.l14.m1.1.1.1.3.1.3.2.3.cmml" xref="alg1.l14.m1.1.1.1.3.1.3.2.3">𝑖</ci></apply><ci id="alg1.l14.m1.1.1.1.3.1.3.3.cmml" xref="alg1.l14.m1.1.1.1.3.1.3.3">𝑆</ci></apply></apply><ci id="alg1.l14.m1.1.1.1.3.2.cmml" xref="alg1.l14.m1.1.1.1.3.2">𝑉</ci></apply><apply id="alg1.l14.m1.1.1.1.1.1.1.cmml" xref="alg1.l14.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l14.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l14.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l14.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l14.m1.1.1.1.1.1.1.2">𝑠</ci><ci id="alg1.l14.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l14.m1.1.1.1.1.1.1.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m1.1c">A\leftarrow\operatorname*{arg\,max}_{s_{i}\in S}V(s_{i})</annotation></semantics></math>

</div>
<div id="alg1.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l15.1.1.1" class="ltx_text" style="font-size:80%;">15:</span></span>&nbsp;&nbsp;<span id="alg1.l15.2" class="ltx_text ltx_font_bold">return</span> <math id="alg1.l15.m1.1" class="ltx_Math" alttext="A" display="inline"><semantics id="alg1.l15.m1.1a"><mi id="alg1.l15.m1.1.1" xref="alg1.l15.m1.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="alg1.l15.m1.1b"><ci id="alg1.l15.m1.1.1.cmml" xref="alg1.l15.m1.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.m1.1c">A</annotation></semantics></math>


</div>
</div>
</figure>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experimental Setup</h2>

<figure id="S4.T1" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span>Comparing the conducted experiments with the most related works. Our comprehensive study encompasses various LLMs, multiple tasks, and the integration with multiple methods. </figcaption>
<div id="S4.T1.2" class="ltx_logical-block ltx_pruned_first">
<div id="S4.T1.2.p2" class="ltx_para ltx_noindent ltx_align_center">
<div id="S4.T1.2.p2.1" class="ltx_inline-block ltx_transformed_outer" style="width:890.9pt;height:150.4pt;vertical-align:-1.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<p id="S4.T1.2.p2.1.1" class="ltx_p"><span id="S4.T1.2.p2.1.1.1" class="ltx_text">
<span id="S4.T1.2.p2.1.1.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<span class="ltx_thead">
<span id="S4.T1.2.p2.1.1.1.1.1.1" class="ltx_tr">
<span id="S4.T1.2.p2.1.1.1.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt ltx_rowspan ltx_rowspan_2"><span id="S4.T1.2.p2.1.1.1.1.1.1.1.1" class="ltx_text ltx_font_bold">Methods</span></span>
<span id="S4.T1.2.p2.1.1.1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_rowspan ltx_rowspan_2"><span id="S4.T1.2.p2.1.1.1.1.1.1.2.1" class="ltx_text ltx_font_bold">Various LLMs</span></span>
<span id="S4.T1.2.p2.1.1.1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_3"><span id="S4.T1.2.p2.1.1.1.1.1.1.3.1" class="ltx_text ltx_font_bold">Tasks</span></span>
<span id="S4.T1.2.p2.1.1.1.1.1.1.4" class="ltx_td ltx_th ltx_th_column ltx_border_tt"></span>
<span id="S4.T1.2.p2.1.1.1.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_2"><span id="S4.T1.2.p2.1.1.1.1.1.1.5.1" class="ltx_text ltx_font_bold">Integrated with Methods</span></span></span>
<span id="S4.T1.2.p2.1.1.1.1.2.2" class="ltx_tr">
<span id="S4.T1.2.p2.1.1.1.1.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Chat</span>
<span id="S4.T1.2.p2.1.1.1.1.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">
<span id="S4.T1.2.p2.1.1.1.1.2.2.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T1.2.p2.1.1.1.1.2.2.2.1.1" class="ltx_tr">
<span id="S4.T1.2.p2.1.1.1.1.2.2.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">Arithmetic</span></span>
<span id="S4.T1.2.p2.1.1.1.1.2.2.2.1.2" class="ltx_tr">
<span id="S4.T1.2.p2.1.1.1.1.2.2.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">Reasoning</span></span>
</span></span>
<span id="S4.T1.2.p2.1.1.1.1.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">
<span id="S4.T1.2.p2.1.1.1.1.2.2.3.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T1.2.p2.1.1.1.1.2.2.3.1.1" class="ltx_tr">
<span id="S4.T1.2.p2.1.1.1.1.2.2.3.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">General</span></span>
<span id="S4.T1.2.p2.1.1.1.1.2.2.3.1.2" class="ltx_tr">
<span id="S4.T1.2.p2.1.1.1.1.2.2.3.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">Reasoning</span></span>
</span></span>
<span id="S4.T1.2.p2.1.1.1.1.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">
<span id="S4.T1.2.p2.1.1.1.1.2.2.4.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T1.2.p2.1.1.1.1.2.2.4.1.1" class="ltx_tr">
<span id="S4.T1.2.p2.1.1.1.1.2.2.4.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">Code</span></span>
<span id="S4.T1.2.p2.1.1.1.1.2.2.4.1.2" class="ltx_tr">
<span id="S4.T1.2.p2.1.1.1.1.2.2.4.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">Generation</span></span>
</span></span>
<span id="S4.T1.2.p2.1.1.1.1.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">
<span id="S4.T1.2.p2.1.1.1.1.2.2.5.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T1.2.p2.1.1.1.1.2.2.5.1.1" class="ltx_tr">
<span id="S4.T1.2.p2.1.1.1.1.2.2.5.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">Prompt</span></span>
<span id="S4.T1.2.p2.1.1.1.1.2.2.5.1.2" class="ltx_tr">
<span id="S4.T1.2.p2.1.1.1.1.2.2.5.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">Engineering</span></span>
</span></span>
<span id="S4.T1.2.p2.1.1.1.1.2.2.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">
<span id="S4.T1.2.p2.1.1.1.1.2.2.6.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T1.2.p2.1.1.1.1.2.2.6.1.1" class="ltx_tr">
<span id="S4.T1.2.p2.1.1.1.1.2.2.6.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">Multiple LLM-Agents</span></span>
<span id="S4.T1.2.p2.1.1.1.1.2.2.6.1.2" class="ltx_tr">
<span id="S4.T1.2.p2.1.1.1.1.2.2.6.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">Collaboration</span></span>
</span></span></span>
</span>
<span class="ltx_tbody">
<span id="S4.T1.2.p2.1.1.1.1.3.1" class="ltx_tr">
<span id="S4.T1.2.p2.1.1.1.1.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">CoT-SC <cite class="ltx_cite ltx_citemacro_citep">(Wang et&nbsp;al., <a href="#bib.bib32" title="" class="ltx_ref">2023b</a>)</cite></span>
<span id="S4.T1.2.p2.1.1.1.1.3.1.2" class="ltx_td ltx_align_center ltx_border_t">✓</span>
<span id="S4.T1.2.p2.1.1.1.1.3.1.3" class="ltx_td ltx_border_t"></span>
<span id="S4.T1.2.p2.1.1.1.1.3.1.4" class="ltx_td ltx_align_center ltx_border_t">✓</span>
<span id="S4.T1.2.p2.1.1.1.1.3.1.5" class="ltx_td ltx_align_center ltx_border_t">✓</span>
<span id="S4.T1.2.p2.1.1.1.1.3.1.6" class="ltx_td ltx_border_t"></span>
<span id="S4.T1.2.p2.1.1.1.1.3.1.7" class="ltx_td ltx_align_center ltx_border_t">Only CoT <cite class="ltx_cite ltx_citemacro_citep">(Wei et&nbsp;al., <a href="#bib.bib34" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S4.T1.2.p2.1.1.1.1.3.1.8" class="ltx_td ltx_border_t"></span></span>
<span id="S4.T1.2.p2.1.1.1.1.4.2" class="ltx_tr">
<span id="S4.T1.2.p2.1.1.1.1.4.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Complexity-CoT <cite class="ltx_cite ltx_citemacro_citep">(Fu et&nbsp;al., <a href="#bib.bib9" title="" class="ltx_ref">2023</a>)</cite></span>
<span id="S4.T1.2.p2.1.1.1.1.4.2.2" class="ltx_td ltx_align_center">✓</span>
<span id="S4.T1.2.p2.1.1.1.1.4.2.3" class="ltx_td"></span>
<span id="S4.T1.2.p2.1.1.1.1.4.2.4" class="ltx_td"></span>
<span id="S4.T1.2.p2.1.1.1.1.4.2.5" class="ltx_td ltx_align_center">✓</span>
<span id="S4.T1.2.p2.1.1.1.1.4.2.6" class="ltx_td"></span>
<span id="S4.T1.2.p2.1.1.1.1.4.2.7" class="ltx_td ltx_align_center">Only CoT <cite class="ltx_cite ltx_citemacro_citep">(Wei et&nbsp;al., <a href="#bib.bib34" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S4.T1.2.p2.1.1.1.1.4.2.8" class="ltx_td"></span></span>
<span id="S4.T1.2.p2.1.1.1.1.5.3" class="ltx_tr">
<span id="S4.T1.2.p2.1.1.1.1.5.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Debate <cite class="ltx_cite ltx_citemacro_citep">(Du et&nbsp;al., <a href="#bib.bib7" title="" class="ltx_ref">2023</a>)</cite></span>
<span id="S4.T1.2.p2.1.1.1.1.5.3.2" class="ltx_td"></span>
<span id="S4.T1.2.p2.1.1.1.1.5.3.3" class="ltx_td"></span>
<span id="S4.T1.2.p2.1.1.1.1.5.3.4" class="ltx_td ltx_align_center">✓</span>
<span id="S4.T1.2.p2.1.1.1.1.5.3.5" class="ltx_td"></span>
<span id="S4.T1.2.p2.1.1.1.1.5.3.6" class="ltx_td"></span>
<span id="S4.T1.2.p2.1.1.1.1.5.3.7" class="ltx_td"></span>
<span id="S4.T1.2.p2.1.1.1.1.5.3.8" class="ltx_td"></span></span>
<span id="S4.T1.2.p2.1.1.1.1.6.4" class="ltx_tr">
<span id="S4.T1.2.p2.1.1.1.1.6.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Blended <cite class="ltx_cite ltx_citemacro_citep">(Lu et&nbsp;al., <a href="#bib.bib21" title="" class="ltx_ref">2024</a>)</cite></span>
<span id="S4.T1.2.p2.1.1.1.1.6.4.2" class="ltx_td ltx_align_center">✓</span>
<span id="S4.T1.2.p2.1.1.1.1.6.4.3" class="ltx_td ltx_align_center">✓</span>
<span id="S4.T1.2.p2.1.1.1.1.6.4.4" class="ltx_td"></span>
<span id="S4.T1.2.p2.1.1.1.1.6.4.5" class="ltx_td"></span>
<span id="S4.T1.2.p2.1.1.1.1.6.4.6" class="ltx_td"></span>
<span id="S4.T1.2.p2.1.1.1.1.6.4.7" class="ltx_td"></span>
<span id="S4.T1.2.p2.1.1.1.1.6.4.8" class="ltx_td"></span></span>
<span id="S4.T1.2.p2.1.1.1.1.7.5" class="ltx_tr">
<span id="S4.T1.2.p2.1.1.1.1.7.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_t">Ours</span>
<span id="S4.T1.2.p2.1.1.1.1.7.5.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">✓</span>
<span id="S4.T1.2.p2.1.1.1.1.7.5.3" class="ltx_td ltx_border_bb ltx_border_t"></span>
<span id="S4.T1.2.p2.1.1.1.1.7.5.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">✓</span>
<span id="S4.T1.2.p2.1.1.1.1.7.5.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">✓</span>
<span id="S4.T1.2.p2.1.1.1.1.7.5.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">✓</span>
<span id="S4.T1.2.p2.1.1.1.1.7.5.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">✓</span>
<span id="S4.T1.2.p2.1.1.1.1.7.5.8" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">✓</span></span>
</span>
</span></span></p>
</span></div>
</div>
</div>
</figure>
<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">We separate the experimental setup (this section) with evaluations (next section), to introduce the coverage of scenarios/tasks compared with the most related works (for examining the comprehensiveness of our work), the backbone language models we adopted (for examining the applicability of our work), and the methods combined with ours (for examining the compatibility and orthogonality of our work).</p>
</div>
<section id="S4.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Tasks</h4>

<div id="S4.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S4.SS0.SSS0.Px1.p1.1" class="ltx_p">Our method is evaluated on the following task:</p>
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p">Arithmetic Reasoning. Similar to <cite class="ltx_cite ltx_citemacro_citet">Wang et&nbsp;al. (<a href="#bib.bib32" title="" class="ltx_ref">2023b</a>); Fu et&nbsp;al. (<a href="#bib.bib9" title="" class="ltx_ref">2023</a>); Du et&nbsp;al. (<a href="#bib.bib7" title="" class="ltx_ref">2023</a>)</cite>, we select the GSM8K <cite class="ltx_cite ltx_citemacro_citep">(Cobbe et&nbsp;al., <a href="#bib.bib5" title="" class="ltx_ref">2021a</a>)</cite> as one of the test sets. Additionally, we select the more challenging MATH dataset <cite class="ltx_cite ltx_citemacro_citep">(Hendrycks et&nbsp;al., <a href="#bib.bib11" title="" class="ltx_ref">2021b</a>)</cite>, which is used by <cite class="ltx_cite ltx_citemacro_citet">Wu et&nbsp;al. (<a href="#bib.bib35" title="" class="ltx_ref">2023</a>)</cite>.</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p">General Reasoning. Similar to <cite class="ltx_cite ltx_citemacro_citet">Du et&nbsp;al. (<a href="#bib.bib7" title="" class="ltx_ref">2023</a>); Jiang et&nbsp;al. (<a href="#bib.bib13" title="" class="ltx_ref">2023</a>)</cite>, we select the MMLU <cite class="ltx_cite ltx_citemacro_citep">(Hendrycks et&nbsp;al., <a href="#bib.bib10" title="" class="ltx_ref">2021a</a>)</cite>. Additionally, we select the dataset from the chess state tracking task (Chess) <span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a target="_blank" href="https://github.com/google/BIG-bench/blob/main/bigbench/benchmark_tasks/chess_state_tracking/synthetic_short/task.json" title="" class="ltx_ref ltx_href">Chess State Tracking</a></span></span></span>, which is used by <cite class="ltx_cite ltx_citemacro_citet">Du et&nbsp;al. (<a href="#bib.bib7" title="" class="ltx_ref">2023</a>); Zhang et&nbsp;al. (<a href="#bib.bib37" title="" class="ltx_ref">2023</a>)</cite>.</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i3.p1.1" class="ltx_p">Code Generation. Similar to <cite class="ltx_cite ltx_citemacro_citet">Liu et&nbsp;al. (<a href="#bib.bib19" title="" class="ltx_ref">2023</a>)</cite>, we select the HumanEval <cite class="ltx_cite ltx_citemacro_citep">(Chen et&nbsp;al., <a href="#bib.bib3" title="" class="ltx_ref">2021</a>)</cite>. To implement our method, we compute the BLEU score <cite class="ltx_cite ltx_citemacro_citep">(Papineni et&nbsp;al., <a href="#bib.bib23" title="" class="ltx_ref">2002</a>)</cite> among all pairs of generated candidate answers. The answer with the highest cumulative BLEU score is then selected as the final output.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S4.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Language models adopted</h4>

<div id="S4.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="S4.SS0.SSS0.Px2.p1.1" class="ltx_p">We evaluate our method using language models of different scales from the Llama2 <cite class="ltx_cite ltx_citemacro_citep">(Touvron et&nbsp;al., <a href="#bib.bib29" title="" class="ltx_ref">2023</a>)</cite> and GPT series <cite class="ltx_cite ltx_citemacro_citep">(OpenAI, <a href="#bib.bib22" title="" class="ltx_ref">2022</a>)</cite>. Specifically, we evaluate two versions of Llama2-Chat<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span><a target="_blank" href="https://github.com/facebookresearch/llama" title="" class="ltx_ref ltx_href">Llama2-Chat</a></span></span></span>, optimized for conversational use cases through alignment techniques, with model sizes of 13B and 70B parameters. Additionally, we include GPT-3.5-Turbo and GPT-4 in our evaluation.</p>
</div>
</section>
<section id="S4.SS0.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Methods enhanced by our method</h4>

<div id="S4.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="S4.SS0.SSS0.Px3.p1.1" class="ltx_p">To examine the comparability of our method, we study the integration of various typical methods from two distinct categories with our method:</p>
<ul id="S4.I2" class="ltx_itemize">
<li id="S4.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I2.i1.p1" class="ltx_para">
<p id="S4.I2.i1.p1.1" class="ltx_p">Prompt Engineering. Various prompt engineering methods are considered to conduct comprehensive experiments. We evaluate Chain-of-Thought prompting (CoT) <cite class="ltx_cite ltx_citemacro_citep">(Wei et&nbsp;al., <a href="#bib.bib34" title="" class="ltx_ref">2022</a>)</cite>, Zero-Shot Chain-of-Thought prompting (Zero-Shot Cot) <cite class="ltx_cite ltx_citemacro_citep">(Kojima et&nbsp;al., <a href="#bib.bib14" title="" class="ltx_ref">2022</a>)</cite>, and more sophisticated methods such as Solo Performance Prompting (SPP) <cite class="ltx_cite ltx_citemacro_citep">(Wang et&nbsp;al., <a href="#bib.bib33" title="" class="ltx_ref">2023c</a>)</cite>. Initially, these methods are applied with a single LLM query. We then increase the number of queries and employ majority voting to determine the most consistent answer as the final response.</p>
</div>
</li>
<li id="S4.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I2.i2.p1" class="ltx_para">
<p id="S4.I2.i2.p1.1" class="ltx_p">Multiple LLM Agents Collaboration. We select LLM-Debate <cite class="ltx_cite ltx_citemacro_citep">(Du et&nbsp;al., <a href="#bib.bib7" title="" class="ltx_ref">2023</a>)</cite> denoted as Debate, and self-reflection <cite class="ltx_cite ltx_citemacro_citep">(Shinn et&nbsp;al., <a href="#bib.bib26" title="" class="ltx_ref">2023</a>)</cite> denoted as Reflection. Within these methods, we generate multiple samples by iteratively operating these methods and using majority voting to produce the final answer.</p>
</div>
</li>
</ul>
</div>
<div id="S4.SS0.SSS0.Px3.p2" class="ltx_para">
<p id="S4.SS0.SSS0.Px3.p2.3" class="ltx_p">Specifically, the effectiveness of our method is evaluated by averaging the results across <math id="S4.SS0.SSS0.Px3.p2.1.m1.1" class="ltx_Math" alttext="10" display="inline"><semantics id="S4.SS0.SSS0.Px3.p2.1.m1.1a"><mn id="S4.SS0.SSS0.Px3.p2.1.m1.1.1" xref="S4.SS0.SSS0.Px3.p2.1.m1.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px3.p2.1.m1.1b"><cn type="integer" id="S4.SS0.SSS0.Px3.p2.1.m1.1.1.cmml" xref="S4.SS0.SSS0.Px3.p2.1.m1.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px3.p2.1.m1.1c">10</annotation></semantics></math> independent runs. During each run, we scale up the ensemble size to <math id="S4.SS0.SSS0.Px3.p2.2.m2.1" class="ltx_Math" alttext="40" display="inline"><semantics id="S4.SS0.SSS0.Px3.p2.2.m2.1a"><mn id="S4.SS0.SSS0.Px3.p2.2.m2.1.1" xref="S4.SS0.SSS0.Px3.p2.2.m2.1.1.cmml">40</mn><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px3.p2.2.m2.1b"><cn type="integer" id="S4.SS0.SSS0.Px3.p2.2.m2.1.1.cmml" xref="S4.SS0.SSS0.Px3.p2.2.m2.1.1">40</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px3.p2.2.m2.1c">40</annotation></semantics></math> to ensure maximum gains. However, when integrating our method with the Debate <cite class="ltx_cite ltx_citemacro_citep">(Du et&nbsp;al., <a href="#bib.bib7" title="" class="ltx_ref">2023</a>)</cite>, the ensemble size is limited to <math id="S4.SS0.SSS0.Px3.p2.3.m3.1" class="ltx_Math" alttext="10" display="inline"><semantics id="S4.SS0.SSS0.Px3.p2.3.m3.1a"><mn id="S4.SS0.SSS0.Px3.p2.3.m3.1.1" xref="S4.SS0.SSS0.Px3.p2.3.m3.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px3.p2.3.m3.1b"><cn type="integer" id="S4.SS0.SSS0.Px3.p2.3.m3.1.1.cmml" xref="S4.SS0.SSS0.Px3.p2.3.m3.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px3.p2.3.m3.1c">10</annotation></semantics></math> due to the significant computational overhead introduced by the communication architecture. Detailed experimental settings are provided in the Appendix <a href="#A1" title="Appendix A Detailed Experiment Settings ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Experimental Results</h2>

<figure id="S5.F3" class="ltx_figure"><img src="/html/2402.05120/assets/x2.png" id="S5.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="92" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>The accuracy scales with the ensemble size of our method across different tasks with various LLMs.</figcaption>
</figure>
<figure id="S5.T2" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2: </span>Our method generally enhances performance across all tasks and LLMs. The bolded instances indicate that smaller LLMs outperform the larger LLMs. “Single” denotes that the LLM is queried only once. GPT-4 is used only for comparison with other methods, hence it only presents “Single” results. </figcaption>
<br class="ltx_break">
<div id="S5.T2.2" class="ltx_logical-block ltx_pruned_first">
<div id="S5.T2.2.p2" class="ltx_para ltx_noindent ltx_align_center">
<div id="S5.T2.2.p2.1" class="ltx_inline-block ltx_transformed_outer" style="width:747.6pt;height:109pt;vertical-align:-1.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<p id="S5.T2.2.p2.1.1" class="ltx_p"><span id="S5.T2.2.p2.1.1.1" class="ltx_text">
<span id="S5.T2.2.p2.1.1.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<span class="ltx_thead">
<span id="S5.T2.2.p2.1.1.1.1.1.1" class="ltx_tr">
<span id="S5.T2.2.p2.1.1.1.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt ltx_rowspan ltx_rowspan_2"><span id="S5.T2.2.p2.1.1.1.1.1.1.1.1" class="ltx_text ltx_font_bold">Model</span></span>
<span id="S5.T2.2.p2.1.1.1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_2"><span id="S5.T2.2.p2.1.1.1.1.1.1.2.1" class="ltx_text ltx_font_bold">GSM8K</span></span>
<span id="S5.T2.2.p2.1.1.1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_2"><span id="S5.T2.2.p2.1.1.1.1.1.1.3.1" class="ltx_text ltx_font_bold">MATH</span></span>
<span id="S5.T2.2.p2.1.1.1.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_2"><span id="S5.T2.2.p2.1.1.1.1.1.1.4.1" class="ltx_text ltx_font_bold">Chess</span></span>
<span id="S5.T2.2.p2.1.1.1.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_2"><span id="S5.T2.2.p2.1.1.1.1.1.1.5.1" class="ltx_text ltx_font_bold">MMLU</span></span>
<span id="S5.T2.2.p2.1.1.1.1.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_2"><span id="S5.T2.2.p2.1.1.1.1.1.1.6.1" class="ltx_text ltx_font_bold">HumanEval</span></span></span>
<span id="S5.T2.2.p2.1.1.1.1.2.2" class="ltx_tr">
<span id="S5.T2.2.p2.1.1.1.1.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Single</span>
<span id="S5.T2.2.p2.1.1.1.1.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Ours</span>
<span id="S5.T2.2.p2.1.1.1.1.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Single</span>
<span id="S5.T2.2.p2.1.1.1.1.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Ours</span>
<span id="S5.T2.2.p2.1.1.1.1.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Single</span>
<span id="S5.T2.2.p2.1.1.1.1.2.2.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Ours</span>
<span id="S5.T2.2.p2.1.1.1.1.2.2.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Single</span>
<span id="S5.T2.2.p2.1.1.1.1.2.2.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Ours</span>
<span id="S5.T2.2.p2.1.1.1.1.2.2.9" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Single</span>
<span id="S5.T2.2.p2.1.1.1.1.2.2.10" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Ours</span></span>
</span>
<span class="ltx_tbody">
<span id="S5.T2.2.p2.1.1.1.1.3.1" class="ltx_tr">
<span id="S5.T2.2.p2.1.1.1.1.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">Llama2-13B <cite class="ltx_cite ltx_citemacro_citep">(Touvron et&nbsp;al., <a href="#bib.bib29" title="" class="ltx_ref">2023</a>)</cite></span>
<span id="S5.T2.2.p2.1.1.1.1.3.1.2" class="ltx_td ltx_align_center ltx_border_t">0.35</span>
<span id="S5.T2.2.p2.1.1.1.1.3.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T2.2.p2.1.1.1.1.3.1.3.1" class="ltx_text ltx_font_bold">0.59</span> <span id="S5.T2.2.p2.1.1.1.1.3.1.3.2" class="ltx_text" style="font-size:90%;">(+0.24)</span></span>
<span id="S5.T2.2.p2.1.1.1.1.3.1.4" class="ltx_td ltx_align_center ltx_border_t">0.03</span>
<span id="S5.T2.2.p2.1.1.1.1.3.1.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T2.2.p2.1.1.1.1.3.1.5.1" class="ltx_text ltx_font_bold">0.09</span> <span id="S5.T2.2.p2.1.1.1.1.3.1.5.2" class="ltx_text" style="font-size:90%;">(+0.06)</span></span>
<span id="S5.T2.2.p2.1.1.1.1.3.1.6" class="ltx_td ltx_align_center ltx_border_t">0.14</span>
<span id="S5.T2.2.p2.1.1.1.1.3.1.7" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T2.2.p2.1.1.1.1.3.1.7.1" class="ltx_text ltx_font_bold">0.18</span> <span id="S5.T2.2.p2.1.1.1.1.3.1.7.2" class="ltx_text" style="font-size:90%;">(+0.04)</span></span>
<span id="S5.T2.2.p2.1.1.1.1.3.1.8" class="ltx_td ltx_align_center ltx_border_t">0.42</span>
<span id="S5.T2.2.p2.1.1.1.1.3.1.9" class="ltx_td ltx_align_center ltx_border_t">0.51 <span id="S5.T2.2.p2.1.1.1.1.3.1.9.1" class="ltx_text" style="font-size:90%;">(+0.09)</span></span>
<span id="S5.T2.2.p2.1.1.1.1.3.1.10" class="ltx_td ltx_align_center ltx_border_t">0.14</span>
<span id="S5.T2.2.p2.1.1.1.1.3.1.11" class="ltx_td ltx_align_center ltx_border_t">0.18 <span id="S5.T2.2.p2.1.1.1.1.3.1.11.1" class="ltx_text" style="font-size:90%;">(+0.04)</span></span></span>
<span id="S5.T2.2.p2.1.1.1.1.4.2" class="ltx_tr">
<span id="S5.T2.2.p2.1.1.1.1.4.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Llama2-70B <cite class="ltx_cite ltx_citemacro_citep">(Touvron et&nbsp;al., <a href="#bib.bib29" title="" class="ltx_ref">2023</a>)</cite></span>
<span id="S5.T2.2.p2.1.1.1.1.4.2.2" class="ltx_td ltx_align_center">0.54</span>
<span id="S5.T2.2.p2.1.1.1.1.4.2.3" class="ltx_td ltx_align_center"><span id="S5.T2.2.p2.1.1.1.1.4.2.3.1" class="ltx_text ltx_font_bold">0.74</span> <span id="S5.T2.2.p2.1.1.1.1.4.2.3.2" class="ltx_text" style="font-size:90%;">(+0.20)</span></span>
<span id="S5.T2.2.p2.1.1.1.1.4.2.4" class="ltx_td ltx_align_center">0.05</span>
<span id="S5.T2.2.p2.1.1.1.1.4.2.5" class="ltx_td ltx_align_center">0.11 <span id="S5.T2.2.p2.1.1.1.1.4.2.5.1" class="ltx_text" style="font-size:90%;">(+0.06)</span></span>
<span id="S5.T2.2.p2.1.1.1.1.4.2.6" class="ltx_td ltx_align_center">0.12</span>
<span id="S5.T2.2.p2.1.1.1.1.4.2.7" class="ltx_td ltx_align_center">0.13 <span id="S5.T2.2.p2.1.1.1.1.4.2.7.1" class="ltx_text" style="font-size:90%;">(+0.01)</span></span>
<span id="S5.T2.2.p2.1.1.1.1.4.2.8" class="ltx_td ltx_align_center">0.55</span>
<span id="S5.T2.2.p2.1.1.1.1.4.2.9" class="ltx_td ltx_align_center"><span id="S5.T2.2.p2.1.1.1.1.4.2.9.1" class="ltx_text ltx_font_bold">0.60</span> <span id="S5.T2.2.p2.1.1.1.1.4.2.9.2" class="ltx_text" style="font-size:90%;">(+0.05)</span></span>
<span id="S5.T2.2.p2.1.1.1.1.4.2.10" class="ltx_td ltx_align_center">0.24</span>
<span id="S5.T2.2.p2.1.1.1.1.4.2.11" class="ltx_td ltx_align_center">0.33 <span id="S5.T2.2.p2.1.1.1.1.4.2.11.1" class="ltx_text" style="font-size:90%;">(+0.09)</span></span></span>
<span id="S5.T2.2.p2.1.1.1.1.5.3" class="ltx_tr">
<span id="S5.T2.2.p2.1.1.1.1.5.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">GPT-3.5-Turbo <cite class="ltx_cite ltx_citemacro_citep">(OpenAI, <a href="#bib.bib22" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S5.T2.2.p2.1.1.1.1.5.3.2" class="ltx_td ltx_align_center">0.73</span>
<span id="S5.T2.2.p2.1.1.1.1.5.3.3" class="ltx_td ltx_align_center">0.85 <span id="S5.T2.2.p2.1.1.1.1.5.3.3.1" class="ltx_text" style="font-size:90%;">(+0.12)</span></span>
<span id="S5.T2.2.p2.1.1.1.1.5.3.4" class="ltx_td ltx_align_center">0.29</span>
<span id="S5.T2.2.p2.1.1.1.1.5.3.5" class="ltx_td ltx_align_center">0.39 <span id="S5.T2.2.p2.1.1.1.1.5.3.5.1" class="ltx_text" style="font-size:90%;">(+0.10)</span></span>
<span id="S5.T2.2.p2.1.1.1.1.5.3.6" class="ltx_td ltx_align_center">0.51</span>
<span id="S5.T2.2.p2.1.1.1.1.5.3.7" class="ltx_td ltx_align_center">0.55 <span id="S5.T2.2.p2.1.1.1.1.5.3.7.1" class="ltx_text" style="font-size:90%;">(+0.04)</span></span>
<span id="S5.T2.2.p2.1.1.1.1.5.3.8" class="ltx_td ltx_align_center">0.59</span>
<span id="S5.T2.2.p2.1.1.1.1.5.3.9" class="ltx_td ltx_align_center">0.70 <span id="S5.T2.2.p2.1.1.1.1.5.3.9.1" class="ltx_text" style="font-size:90%;">(+0.11)</span></span>
<span id="S5.T2.2.p2.1.1.1.1.5.3.10" class="ltx_td ltx_align_center">0.67</span>
<span id="S5.T2.2.p2.1.1.1.1.5.3.11" class="ltx_td ltx_align_center">0.73 <span id="S5.T2.2.p2.1.1.1.1.5.3.11.1" class="ltx_text" style="font-size:90%;">(+0.06)</span></span></span>
<span id="S5.T2.2.p2.1.1.1.1.6.4" class="ltx_tr">
<span id="S5.T2.2.p2.1.1.1.1.6.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">GPT-4 <cite class="ltx_cite ltx_citemacro_citep">(OpenAI, <a href="#bib.bib22" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S5.T2.2.p2.1.1.1.1.6.4.2" class="ltx_td ltx_align_center ltx_border_bb">0.88</span>
<span id="S5.T2.2.p2.1.1.1.1.6.4.3" class="ltx_td ltx_align_center ltx_border_bb">—</span>
<span id="S5.T2.2.p2.1.1.1.1.6.4.4" class="ltx_td ltx_align_center ltx_border_bb">0.40</span>
<span id="S5.T2.2.p2.1.1.1.1.6.4.5" class="ltx_td ltx_align_center ltx_border_bb">—</span>
<span id="S5.T2.2.p2.1.1.1.1.6.4.6" class="ltx_td ltx_align_center ltx_border_bb">0.65</span>
<span id="S5.T2.2.p2.1.1.1.1.6.4.7" class="ltx_td ltx_align_center ltx_border_bb">—</span>
<span id="S5.T2.2.p2.1.1.1.1.6.4.8" class="ltx_td ltx_align_center ltx_border_bb">0.77</span>
<span id="S5.T2.2.p2.1.1.1.1.6.4.9" class="ltx_td ltx_align_center ltx_border_bb">—</span>
<span id="S5.T2.2.p2.1.1.1.1.6.4.10" class="ltx_td ltx_align_center ltx_border_bb">0.88</span>
<span id="S5.T2.2.p2.1.1.1.1.6.4.11" class="ltx_td ltx_align_center ltx_border_bb">—</span></span>
</span>
</span></span></p>
</span></div>
</div>
</div>
</figure>
<figure id="S5.T3" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3: </span>Our method outperforms other methods used standalone in most cases and always enhances other methods across various tasks and LLMs. The bolded instances indicate the highest accuracy for each task and the underlined instances indicate the highest accuracy in standalone cases.</figcaption>
<br class="ltx_break">
<div id="S5.T3.2" class="ltx_logical-block ltx_pruned_first">
<div id="S5.T3.2.p2" class="ltx_para ltx_noindent ltx_align_center">
<div id="S5.T3.2.p2.1" class="ltx_inline-block ltx_transformed_outer" style="width:1157.7pt;height:361pt;vertical-align:-1.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<p id="S5.T3.2.p2.1.1" class="ltx_p"><span id="S5.T3.2.p2.1.1.1" class="ltx_text" style="font-size:120%;">
<span id="S5.T3.2.p2.1.1.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<span class="ltx_thead">
<span id="S5.T3.2.p2.1.1.1.1.1.1" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt ltx_rowspan ltx_rowspan_2"><span id="S5.T3.2.p2.1.1.1.1.1.1.1.1" class="ltx_text ltx_font_bold">Model</span></span>
<span id="S5.T3.2.p2.1.1.1.1.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt ltx_rowspan ltx_rowspan_2"><span id="S5.T3.2.p2.1.1.1.1.1.1.2.1" class="ltx_text ltx_font_bold">Method</span></span>
<span id="S5.T3.2.p2.1.1.1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_2"><span id="S5.T3.2.p2.1.1.1.1.1.1.3.1" class="ltx_text ltx_font_bold">GSM8K</span></span>
<span id="S5.T3.2.p2.1.1.1.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_2"><span id="S5.T3.2.p2.1.1.1.1.1.1.4.1" class="ltx_text ltx_font_bold">MATH</span></span>
<span id="S5.T3.2.p2.1.1.1.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_2"><span id="S5.T3.2.p2.1.1.1.1.1.1.5.1" class="ltx_text ltx_font_bold">Chess</span></span>
<span id="S5.T3.2.p2.1.1.1.1.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_2"><span id="S5.T3.2.p2.1.1.1.1.1.1.6.1" class="ltx_text ltx_font_bold">MMLU</span></span>
<span id="S5.T3.2.p2.1.1.1.1.1.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_2"><span id="S5.T3.2.p2.1.1.1.1.1.1.7.1" class="ltx_text ltx_font_bold">HumanEval</span></span></span>
<span id="S5.T3.2.p2.1.1.1.1.2.2" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Standalone</span>
<span id="S5.T3.2.p2.1.1.1.1.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">+Ours</span>
<span id="S5.T3.2.p2.1.1.1.1.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Standalone</span>
<span id="S5.T3.2.p2.1.1.1.1.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">+Ours</span>
<span id="S5.T3.2.p2.1.1.1.1.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Standalone</span>
<span id="S5.T3.2.p2.1.1.1.1.2.2.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">+Ours</span>
<span id="S5.T3.2.p2.1.1.1.1.2.2.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Standalone</span>
<span id="S5.T3.2.p2.1.1.1.1.2.2.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">+Ours</span>
<span id="S5.T3.2.p2.1.1.1.1.2.2.9" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Standalone</span>
<span id="S5.T3.2.p2.1.1.1.1.2.2.10" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">+Ours</span></span>
</span>
<span class="ltx_tbody">
<span id="S5.T3.2.p2.1.1.1.1.3.1" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.3.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t ltx_rowspan ltx_rowspan_6"><span id="S5.T3.2.p2.1.1.1.1.3.1.1.1" class="ltx_text">
<span id="S5.T3.2.p2.1.1.1.1.3.1.1.1.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T3.2.p2.1.1.1.1.3.1.1.1.1.1" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.3.1.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">Llama2-13B</span></span>
<span id="S5.T3.2.p2.1.1.1.1.3.1.1.1.1.2" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.3.1.1.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center"><cite class="ltx_cite ltx_citemacro_citep">(Touvron et&nbsp;al., <a href="#bib.bib29" title="" class="ltx_ref">2023</a>)</cite></span></span>
</span></span></span>
<span id="S5.T3.2.p2.1.1.1.1.3.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">COT <cite class="ltx_cite ltx_citemacro_citep">(Wei et&nbsp;al., <a href="#bib.bib34" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S5.T3.2.p2.1.1.1.1.3.1.3" class="ltx_td ltx_align_center ltx_border_t">0.39</span>
<span id="S5.T3.2.p2.1.1.1.1.3.1.4" class="ltx_td ltx_align_center ltx_border_t">0.56 <span id="S5.T3.2.p2.1.1.1.1.3.1.4.1" class="ltx_text" style="font-size:75%;">(+0.17)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.3.1.5" class="ltx_td ltx_align_center ltx_border_t">0.04</span>
<span id="S5.T3.2.p2.1.1.1.1.3.1.6" class="ltx_td ltx_align_center ltx_border_t">0.06 <span id="S5.T3.2.p2.1.1.1.1.3.1.6.1" class="ltx_text" style="font-size:75%;">(+0.02)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.3.1.7" class="ltx_td ltx_align_center ltx_border_t">0.18</span>
<span id="S5.T3.2.p2.1.1.1.1.3.1.8" class="ltx_td ltx_align_center ltx_border_t">0.23 <span id="S5.T3.2.p2.1.1.1.1.3.1.8.1" class="ltx_text" style="font-size:75%;">(+0.07)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.3.1.9" class="ltx_td ltx_align_center ltx_border_t">0.42</span>
<span id="S5.T3.2.p2.1.1.1.1.3.1.10" class="ltx_td ltx_align_center ltx_border_t">0.43 <span id="S5.T3.2.p2.1.1.1.1.3.1.10.1" class="ltx_text" style="font-size:75%;">(+0.01)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.3.1.11" class="ltx_td ltx_align_center ltx_border_t">0.13</span>
<span id="S5.T3.2.p2.1.1.1.1.3.1.12" class="ltx_td ltx_align_center ltx_border_t">0.20 <span id="S5.T3.2.p2.1.1.1.1.3.1.12.1" class="ltx_text" style="font-size:75%;">(+0.07)</span></span></span>
<span id="S5.T3.2.p2.1.1.1.1.4.2" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.4.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">ZS-COT <cite class="ltx_cite ltx_citemacro_citep">(Kojima et&nbsp;al., <a href="#bib.bib14" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S5.T3.2.p2.1.1.1.1.4.2.2" class="ltx_td ltx_align_center">0.40</span>
<span id="S5.T3.2.p2.1.1.1.1.4.2.3" class="ltx_td ltx_align_center"><span id="S5.T3.2.p2.1.1.1.1.4.2.3.1" class="ltx_text ltx_font_bold">0.61</span> <span id="S5.T3.2.p2.1.1.1.1.4.2.3.2" class="ltx_text" style="font-size:75%;">(+0.21)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.4.2.4" class="ltx_td ltx_align_center">0.03</span>
<span id="S5.T3.2.p2.1.1.1.1.4.2.5" class="ltx_td ltx_align_center">0.08 <span id="S5.T3.2.p2.1.1.1.1.4.2.5.1" class="ltx_text" style="font-size:75%;">(+0.05)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.4.2.6" class="ltx_td ltx_align_center">0.15</span>
<span id="S5.T3.2.p2.1.1.1.1.4.2.7" class="ltx_td ltx_align_center">0.20 <span id="S5.T3.2.p2.1.1.1.1.4.2.7.1" class="ltx_text" style="font-size:75%;">(+0.05)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.4.2.8" class="ltx_td ltx_align_center">0.42</span>
<span id="S5.T3.2.p2.1.1.1.1.4.2.9" class="ltx_td ltx_align_center">0.48 <span id="S5.T3.2.p2.1.1.1.1.4.2.9.1" class="ltx_text" style="font-size:75%;">(+0.06)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.4.2.10" class="ltx_td ltx_align_center">0.15</span>
<span id="S5.T3.2.p2.1.1.1.1.4.2.11" class="ltx_td ltx_align_center">0.22 <span id="S5.T3.2.p2.1.1.1.1.4.2.11.1" class="ltx_text" style="font-size:75%;">(+0.07)</span></span></span>
<span id="S5.T3.2.p2.1.1.1.1.5.3" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.5.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">SPP <cite class="ltx_cite ltx_citemacro_citep">(Wang et&nbsp;al., <a href="#bib.bib33" title="" class="ltx_ref">2023c</a>)</cite></span>
<span id="S5.T3.2.p2.1.1.1.1.5.3.2" class="ltx_td ltx_align_center">0.19</span>
<span id="S5.T3.2.p2.1.1.1.1.5.3.3" class="ltx_td ltx_align_center">0.42 <span id="S5.T3.2.p2.1.1.1.1.5.3.3.1" class="ltx_text" style="font-size:75%;">(+0.23)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.5.3.4" class="ltx_td ltx_align_center">0.01</span>
<span id="S5.T3.2.p2.1.1.1.1.5.3.5" class="ltx_td ltx_align_center">0.04 <span id="S5.T3.2.p2.1.1.1.1.5.3.5.1" class="ltx_text" style="font-size:75%;">(+0.03)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.5.3.6" class="ltx_td ltx_align_center"><span id="S5.T3.2.p2.1.1.1.1.5.3.6.1" class="ltx_text ltx_ulem_uline">0.21</span></span>
<span id="S5.T3.2.p2.1.1.1.1.5.3.7" class="ltx_td ltx_align_center"><span id="S5.T3.2.p2.1.1.1.1.5.3.7.1" class="ltx_text ltx_font_bold">0.26</span> <span id="S5.T3.2.p2.1.1.1.1.5.3.7.2" class="ltx_text" style="font-size:75%;">(+0.05)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.5.3.8" class="ltx_td ltx_align_center">0.32</span>
<span id="S5.T3.2.p2.1.1.1.1.5.3.9" class="ltx_td ltx_align_center"><span id="S5.T3.2.p2.1.1.1.1.5.3.9.1" class="ltx_text ltx_font_bold">0.53</span> <span id="S5.T3.2.p2.1.1.1.1.5.3.9.2" class="ltx_text" style="font-size:75%;">(+0.21)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.5.3.10" class="ltx_td ltx_align_center">0.03</span>
<span id="S5.T3.2.p2.1.1.1.1.5.3.11" class="ltx_td ltx_align_center">0.08 <span id="S5.T3.2.p2.1.1.1.1.5.3.11.1" class="ltx_text" style="font-size:75%;">(+0.05)</span></span></span>
<span id="S5.T3.2.p2.1.1.1.1.6.4" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.6.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Debate <cite class="ltx_cite ltx_citemacro_citep">(Du et&nbsp;al., <a href="#bib.bib7" title="" class="ltx_ref">2023</a>)</cite></span>
<span id="S5.T3.2.p2.1.1.1.1.6.4.2" class="ltx_td ltx_align_center">0.38</span>
<span id="S5.T3.2.p2.1.1.1.1.6.4.3" class="ltx_td ltx_align_center">0.48 <span id="S5.T3.2.p2.1.1.1.1.6.4.3.1" class="ltx_text" style="font-size:75%;">(+0.10)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.6.4.4" class="ltx_td ltx_align_center">0.05</span>
<span id="S5.T3.2.p2.1.1.1.1.6.4.5" class="ltx_td ltx_align_center">0.07 <span id="S5.T3.2.p2.1.1.1.1.6.4.5.1" class="ltx_text" style="font-size:75%;">(+0.02)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.6.4.6" class="ltx_td ltx_align_center">0.18</span>
<span id="S5.T3.2.p2.1.1.1.1.6.4.7" class="ltx_td ltx_align_center">0.19 <span id="S5.T3.2.p2.1.1.1.1.6.4.7.1" class="ltx_text" style="font-size:75%;">(+0.01)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.6.4.8" class="ltx_td ltx_align_center">0.37</span>
<span id="S5.T3.2.p2.1.1.1.1.6.4.9" class="ltx_td ltx_align_center">0.39 <span id="S5.T3.2.p2.1.1.1.1.6.4.9.1" class="ltx_text" style="font-size:75%;">(+0.02)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.6.4.10" class="ltx_td ltx_align_center">0</span>
<span id="S5.T3.2.p2.1.1.1.1.6.4.11" class="ltx_td ltx_align_center">0</span></span>
<span id="S5.T3.2.p2.1.1.1.1.7.5" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.7.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Reflection <cite class="ltx_cite ltx_citemacro_citep">(Shinn et&nbsp;al., <a href="#bib.bib26" title="" class="ltx_ref">2023</a>)</cite></span>
<span id="S5.T3.2.p2.1.1.1.1.7.5.2" class="ltx_td ltx_align_center">0.36</span>
<span id="S5.T3.2.p2.1.1.1.1.7.5.3" class="ltx_td ltx_align_center">0.59 <span id="S5.T3.2.p2.1.1.1.1.7.5.3.1" class="ltx_text" style="font-size:75%;">(+0.23)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.7.5.4" class="ltx_td ltx_align_center">0.01</span>
<span id="S5.T3.2.p2.1.1.1.1.7.5.5" class="ltx_td ltx_align_center">0.03 <span id="S5.T3.2.p2.1.1.1.1.7.5.5.1" class="ltx_text" style="font-size:75%;">(+0.02)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.7.5.6" class="ltx_td ltx_align_center">0.13</span>
<span id="S5.T3.2.p2.1.1.1.1.7.5.7" class="ltx_td ltx_align_center">0.19 <span id="S5.T3.2.p2.1.1.1.1.7.5.7.1" class="ltx_text" style="font-size:75%;">(+0.06)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.7.5.8" class="ltx_td ltx_align_center">0.45</span>
<span id="S5.T3.2.p2.1.1.1.1.7.5.9" class="ltx_td ltx_align_center">0.50 <span id="S5.T3.2.p2.1.1.1.1.7.5.9.1" class="ltx_text" style="font-size:75%;">(+0.05)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.7.5.10" class="ltx_td ltx_align_center">0.06</span>
<span id="S5.T3.2.p2.1.1.1.1.7.5.11" class="ltx_td ltx_align_center">0.13 <span id="S5.T3.2.p2.1.1.1.1.7.5.11.1" class="ltx_text" style="font-size:75%;">(+0.07)</span></span></span>
<span id="S5.T3.2.p2.1.1.1.1.8.6" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.8.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">Ours</span>
<span id="S5.T3.2.p2.1.1.1.1.8.6.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T3.2.p2.1.1.1.1.8.6.2.1" class="ltx_text ltx_ulem_uline">0.59</span></span>
<span id="S5.T3.2.p2.1.1.1.1.8.6.3" class="ltx_td ltx_border_t"></span>
<span id="S5.T3.2.p2.1.1.1.1.8.6.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T3.2.p2.1.1.1.1.8.6.4.1" class="ltx_text ltx_ulem_uline ltx_font_bold">0.09</span></span>
<span id="S5.T3.2.p2.1.1.1.1.8.6.5" class="ltx_td ltx_border_t"></span>
<span id="S5.T3.2.p2.1.1.1.1.8.6.6" class="ltx_td ltx_align_center ltx_border_t">0.18</span>
<span id="S5.T3.2.p2.1.1.1.1.8.6.7" class="ltx_td ltx_border_t"></span>
<span id="S5.T3.2.p2.1.1.1.1.8.6.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T3.2.p2.1.1.1.1.8.6.8.1" class="ltx_text ltx_ulem_uline">0.51</span></span>
<span id="S5.T3.2.p2.1.1.1.1.8.6.9" class="ltx_td ltx_border_t"></span>
<span id="S5.T3.2.p2.1.1.1.1.8.6.10" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T3.2.p2.1.1.1.1.8.6.10.1" class="ltx_text ltx_ulem_uline ltx_font_bold">0.25</span></span>
<span id="S5.T3.2.p2.1.1.1.1.8.6.11" class="ltx_td ltx_border_t"></span></span>
<span id="S5.T3.2.p2.1.1.1.1.9.7" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.9.7.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t ltx_rowspan ltx_rowspan_6"><span id="S5.T3.2.p2.1.1.1.1.9.7.1.1" class="ltx_text">
<span id="S5.T3.2.p2.1.1.1.1.9.7.1.1.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T3.2.p2.1.1.1.1.9.7.1.1.1.1" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.9.7.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">Llama2-70B</span></span>
<span id="S5.T3.2.p2.1.1.1.1.9.7.1.1.1.2" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.9.7.1.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center"><cite class="ltx_cite ltx_citemacro_citep">(Touvron et&nbsp;al., <a href="#bib.bib29" title="" class="ltx_ref">2023</a>)</cite></span></span>
</span></span></span>
<span id="S5.T3.2.p2.1.1.1.1.9.7.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">COT <cite class="ltx_cite ltx_citemacro_citep">(Wei et&nbsp;al., <a href="#bib.bib34" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S5.T3.2.p2.1.1.1.1.9.7.3" class="ltx_td ltx_align_center ltx_border_t">0.57</span>
<span id="S5.T3.2.p2.1.1.1.1.9.7.4" class="ltx_td ltx_align_center ltx_border_t">0.72 <span id="S5.T3.2.p2.1.1.1.1.9.7.4.1" class="ltx_text" style="font-size:75%;">(+0.15)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.9.7.5" class="ltx_td ltx_align_center ltx_border_t">0.06</span>
<span id="S5.T3.2.p2.1.1.1.1.9.7.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T3.2.p2.1.1.1.1.9.7.6.1" class="ltx_text ltx_font_bold">0.13</span> <span id="S5.T3.2.p2.1.1.1.1.9.7.6.2" class="ltx_text" style="font-size:75%;">(+0.07)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.9.7.7" class="ltx_td ltx_align_center ltx_border_t">0.10</span>
<span id="S5.T3.2.p2.1.1.1.1.9.7.8" class="ltx_td ltx_align_center ltx_border_t">0.11 <span id="S5.T3.2.p2.1.1.1.1.9.7.8.1" class="ltx_text" style="font-size:75%;">(+0.01)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.9.7.9" class="ltx_td ltx_align_center ltx_border_t">0.56</span>
<span id="S5.T3.2.p2.1.1.1.1.9.7.10" class="ltx_td ltx_align_center ltx_border_t">0.57 <span id="S5.T3.2.p2.1.1.1.1.9.7.10.1" class="ltx_text" style="font-size:75%;">(+0.01)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.9.7.11" class="ltx_td ltx_align_center ltx_border_t">0.30</span>
<span id="S5.T3.2.p2.1.1.1.1.9.7.12" class="ltx_td ltx_align_center ltx_border_t">0.32 <span id="S5.T3.2.p2.1.1.1.1.9.7.12.1" class="ltx_text" style="font-size:75%;">(+0.02)</span></span></span>
<span id="S5.T3.2.p2.1.1.1.1.10.8" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.10.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">ZS-COT <cite class="ltx_cite ltx_citemacro_citep">(Kojima et&nbsp;al., <a href="#bib.bib14" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S5.T3.2.p2.1.1.1.1.10.8.2" class="ltx_td ltx_align_center">0.57</span>
<span id="S5.T3.2.p2.1.1.1.1.10.8.3" class="ltx_td ltx_align_center">0.73 <span id="S5.T3.2.p2.1.1.1.1.10.8.3.1" class="ltx_text" style="font-size:75%;">(+0.16)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.10.8.4" class="ltx_td ltx_align_center">0.04</span>
<span id="S5.T3.2.p2.1.1.1.1.10.8.5" class="ltx_td ltx_align_center">0.10 <span id="S5.T3.2.p2.1.1.1.1.10.8.5.1" class="ltx_text" style="font-size:75%;">(+0.06)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.10.8.6" class="ltx_td ltx_align_center"><span id="S5.T3.2.p2.1.1.1.1.10.8.6.1" class="ltx_text ltx_ulem_uline">0.20</span></span>
<span id="S5.T3.2.p2.1.1.1.1.10.8.7" class="ltx_td ltx_align_center"><span id="S5.T3.2.p2.1.1.1.1.10.8.7.1" class="ltx_text ltx_font_bold">0.27</span> <span id="S5.T3.2.p2.1.1.1.1.10.8.7.2" class="ltx_text" style="font-size:75%;">(+0.07)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.10.8.8" class="ltx_td ltx_align_center">0.54</span>
<span id="S5.T3.2.p2.1.1.1.1.10.8.9" class="ltx_td ltx_align_center"><span id="S5.T3.2.p2.1.1.1.1.10.8.9.1" class="ltx_text ltx_font_bold">0.65</span> <span id="S5.T3.2.p2.1.1.1.1.10.8.9.2" class="ltx_text" style="font-size:75%;">(+0.11)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.10.8.10" class="ltx_td ltx_align_center">0.23</span>
<span id="S5.T3.2.p2.1.1.1.1.10.8.11" class="ltx_td ltx_align_center">0.29 <span id="S5.T3.2.p2.1.1.1.1.10.8.11.1" class="ltx_text" style="font-size:75%;">(+0.06)</span></span></span>
<span id="S5.T3.2.p2.1.1.1.1.11.9" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.11.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">SPP <cite class="ltx_cite ltx_citemacro_citep">(Wang et&nbsp;al., <a href="#bib.bib33" title="" class="ltx_ref">2023c</a>)</cite></span>
<span id="S5.T3.2.p2.1.1.1.1.11.9.2" class="ltx_td ltx_align_center">0.42</span>
<span id="S5.T3.2.p2.1.1.1.1.11.9.3" class="ltx_td ltx_align_center">0.69 <span id="S5.T3.2.p2.1.1.1.1.11.9.3.1" class="ltx_text" style="font-size:75%;">(+0.27)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.11.9.4" class="ltx_td ltx_align_center">0.03</span>
<span id="S5.T3.2.p2.1.1.1.1.11.9.5" class="ltx_td ltx_align_center">0.09 <span id="S5.T3.2.p2.1.1.1.1.11.9.5.1" class="ltx_text" style="font-size:75%;">(+0.06)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.11.9.6" class="ltx_td ltx_align_center">0.16</span>
<span id="S5.T3.2.p2.1.1.1.1.11.9.7" class="ltx_td ltx_align_center"><span id="S5.T3.2.p2.1.1.1.1.11.9.7.1" class="ltx_text ltx_font_bold">0.27</span> <span id="S5.T3.2.p2.1.1.1.1.11.9.7.2" class="ltx_text" style="font-size:75%;">(+0.11)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.11.9.8" class="ltx_td ltx_align_center">0.49</span>
<span id="S5.T3.2.p2.1.1.1.1.11.9.9" class="ltx_td ltx_align_center">0.63 <span id="S5.T3.2.p2.1.1.1.1.11.9.9.1" class="ltx_text" style="font-size:75%;">(+0.14)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.11.9.10" class="ltx_td ltx_align_center">0.15</span>
<span id="S5.T3.2.p2.1.1.1.1.11.9.11" class="ltx_td ltx_align_center">0.20 <span id="S5.T3.2.p2.1.1.1.1.11.9.11.1" class="ltx_text" style="font-size:75%;">(+0.05)</span></span></span>
<span id="S5.T3.2.p2.1.1.1.1.12.10" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.12.10.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Debate <cite class="ltx_cite ltx_citemacro_citep">(Du et&nbsp;al., <a href="#bib.bib7" title="" class="ltx_ref">2023</a>)</cite></span>
<span id="S5.T3.2.p2.1.1.1.1.12.10.2" class="ltx_td ltx_align_center">0.59</span>
<span id="S5.T3.2.p2.1.1.1.1.12.10.3" class="ltx_td ltx_align_center">0.65 <span id="S5.T3.2.p2.1.1.1.1.12.10.3.1" class="ltx_text" style="font-size:75%;">(+0.06)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.12.10.4" class="ltx_td ltx_align_center">0.10</span>
<span id="S5.T3.2.p2.1.1.1.1.12.10.5" class="ltx_td ltx_align_center">0.11 <span id="S5.T3.2.p2.1.1.1.1.12.10.5.1" class="ltx_text" style="font-size:75%;">(+0.01)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.12.10.6" class="ltx_td ltx_align_center">0.14</span>
<span id="S5.T3.2.p2.1.1.1.1.12.10.7" class="ltx_td ltx_align_center">0.17 <span id="S5.T3.2.p2.1.1.1.1.12.10.7.1" class="ltx_text" style="font-size:75%;">(+0.03)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.12.10.8" class="ltx_td ltx_align_center">0.56</span>
<span id="S5.T3.2.p2.1.1.1.1.12.10.9" class="ltx_td ltx_align_center">0.58 <span id="S5.T3.2.p2.1.1.1.1.12.10.9.1" class="ltx_text" style="font-size:75%;">(+0.02)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.12.10.10" class="ltx_td ltx_align_center">0</span>
<span id="S5.T3.2.p2.1.1.1.1.12.10.11" class="ltx_td ltx_align_center">0</span></span>
<span id="S5.T3.2.p2.1.1.1.1.13.11" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.13.11.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Reflection <cite class="ltx_cite ltx_citemacro_citep">(Shinn et&nbsp;al., <a href="#bib.bib26" title="" class="ltx_ref">2023</a>)</cite></span>
<span id="S5.T3.2.p2.1.1.1.1.13.11.2" class="ltx_td ltx_align_center">0.52</span>
<span id="S5.T3.2.p2.1.1.1.1.13.11.3" class="ltx_td ltx_align_center"><span id="S5.T3.2.p2.1.1.1.1.13.11.3.1" class="ltx_text ltx_font_bold">0.77</span> <span id="S5.T3.2.p2.1.1.1.1.13.11.3.2" class="ltx_text" style="font-size:75%;">(+0.25)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.13.11.4" class="ltx_td ltx_align_center">0.02</span>
<span id="S5.T3.2.p2.1.1.1.1.13.11.5" class="ltx_td ltx_align_center">0.05 <span id="S5.T3.2.p2.1.1.1.1.13.11.5.1" class="ltx_text" style="font-size:75%;">(+0.03)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.13.11.6" class="ltx_td ltx_align_center">0.15</span>
<span id="S5.T3.2.p2.1.1.1.1.13.11.7" class="ltx_td ltx_align_center">0.26 <span id="S5.T3.2.p2.1.1.1.1.13.11.7.1" class="ltx_text" style="font-size:75%;">(+0.11)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.13.11.8" class="ltx_td ltx_align_center">0.42</span>
<span id="S5.T3.2.p2.1.1.1.1.13.11.9" class="ltx_td ltx_align_center">0.55 <span id="S5.T3.2.p2.1.1.1.1.13.11.9.1" class="ltx_text" style="font-size:75%;">(+0.13)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.13.11.10" class="ltx_td ltx_align_center">0.16</span>
<span id="S5.T3.2.p2.1.1.1.1.13.11.11" class="ltx_td ltx_align_center">0.26 <span id="S5.T3.2.p2.1.1.1.1.13.11.11.1" class="ltx_text" style="font-size:75%;">(+0.10)</span></span></span>
<span id="S5.T3.2.p2.1.1.1.1.14.12" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.14.12.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">Ours</span>
<span id="S5.T3.2.p2.1.1.1.1.14.12.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T3.2.p2.1.1.1.1.14.12.2.1" class="ltx_text ltx_ulem_uline">0.74</span></span>
<span id="S5.T3.2.p2.1.1.1.1.14.12.3" class="ltx_td ltx_border_t"></span>
<span id="S5.T3.2.p2.1.1.1.1.14.12.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T3.2.p2.1.1.1.1.14.12.4.1" class="ltx_text ltx_ulem_uline">0.11</span></span>
<span id="S5.T3.2.p2.1.1.1.1.14.12.5" class="ltx_td ltx_border_t"></span>
<span id="S5.T3.2.p2.1.1.1.1.14.12.6" class="ltx_td ltx_align_center ltx_border_t">0.13</span>
<span id="S5.T3.2.p2.1.1.1.1.14.12.7" class="ltx_td ltx_border_t"></span>
<span id="S5.T3.2.p2.1.1.1.1.14.12.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T3.2.p2.1.1.1.1.14.12.8.1" class="ltx_text ltx_ulem_uline">0.60</span></span>
<span id="S5.T3.2.p2.1.1.1.1.14.12.9" class="ltx_td ltx_border_t"></span>
<span id="S5.T3.2.p2.1.1.1.1.14.12.10" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T3.2.p2.1.1.1.1.14.12.10.1" class="ltx_text ltx_ulem_uline ltx_font_bold">0.33</span></span>
<span id="S5.T3.2.p2.1.1.1.1.14.12.11" class="ltx_td ltx_border_t"></span></span>
<span id="S5.T3.2.p2.1.1.1.1.15.13" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.15.13.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_t ltx_rowspan ltx_rowspan_6"><span id="S5.T3.2.p2.1.1.1.1.15.13.1.1" class="ltx_text">
<span id="S5.T3.2.p2.1.1.1.1.15.13.1.1.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T3.2.p2.1.1.1.1.15.13.1.1.1.1" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.15.13.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">GPT-3.5-Turbo</span></span>
<span id="S5.T3.2.p2.1.1.1.1.15.13.1.1.1.2" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.15.13.1.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center"><cite class="ltx_cite ltx_citemacro_citep">(OpenAI, <a href="#bib.bib22" title="" class="ltx_ref">2022</a>)</cite></span></span>
</span></span></span>
<span id="S5.T3.2.p2.1.1.1.1.15.13.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">COT <cite class="ltx_cite ltx_citemacro_citep">(Wei et&nbsp;al., <a href="#bib.bib34" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S5.T3.2.p2.1.1.1.1.15.13.3" class="ltx_td ltx_align_center ltx_border_t">0.74</span>
<span id="S5.T3.2.p2.1.1.1.1.15.13.4" class="ltx_td ltx_align_center ltx_border_t">0.84 <span id="S5.T3.2.p2.1.1.1.1.15.13.4.1" class="ltx_text" style="font-size:75%;">(+0.10)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.15.13.5" class="ltx_td ltx_align_center ltx_border_t">0.28</span>
<span id="S5.T3.2.p2.1.1.1.1.15.13.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T3.2.p2.1.1.1.1.15.13.6.1" class="ltx_text ltx_font_bold">0.41</span> <span id="S5.T3.2.p2.1.1.1.1.15.13.6.2" class="ltx_text" style="font-size:75%;">(+0.13)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.15.13.7" class="ltx_td ltx_align_center ltx_border_t">0.50</span>
<span id="S5.T3.2.p2.1.1.1.1.15.13.8" class="ltx_td ltx_align_center ltx_border_t">0.55 <span id="S5.T3.2.p2.1.1.1.1.15.13.8.1" class="ltx_text" style="font-size:75%;">(+0.05)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.15.13.9" class="ltx_td ltx_align_center ltx_border_t">0.61</span>
<span id="S5.T3.2.p2.1.1.1.1.15.13.10" class="ltx_td ltx_align_center ltx_border_t">0.64 <span id="S5.T3.2.p2.1.1.1.1.15.13.10.1" class="ltx_text" style="font-size:75%;">(+0.03)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.15.13.11" class="ltx_td ltx_align_center ltx_border_t">0.70</span>
<span id="S5.T3.2.p2.1.1.1.1.15.13.12" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T3.2.p2.1.1.1.1.15.13.12.1" class="ltx_text ltx_font_bold">0.75</span> <span id="S5.T3.2.p2.1.1.1.1.15.13.12.2" class="ltx_text" style="font-size:75%;">(+0.05)</span></span></span>
<span id="S5.T3.2.p2.1.1.1.1.16.14" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.16.14.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">ZS-COT <cite class="ltx_cite ltx_citemacro_citep">(Kojima et&nbsp;al., <a href="#bib.bib14" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S5.T3.2.p2.1.1.1.1.16.14.2" class="ltx_td ltx_align_center">0.74</span>
<span id="S5.T3.2.p2.1.1.1.1.16.14.3" class="ltx_td ltx_align_center"><span id="S5.T3.2.p2.1.1.1.1.16.14.3.1" class="ltx_text ltx_font_bold">0.88</span> <span id="S5.T3.2.p2.1.1.1.1.16.14.3.2" class="ltx_text" style="font-size:75%;">(+0.14)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.16.14.4" class="ltx_td ltx_align_center">0.25</span>
<span id="S5.T3.2.p2.1.1.1.1.16.14.5" class="ltx_td ltx_align_center">0.40 <span id="S5.T3.2.p2.1.1.1.1.16.14.5.1" class="ltx_text" style="font-size:75%;">(+0.15)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.16.14.6" class="ltx_td ltx_align_center">0.35</span>
<span id="S5.T3.2.p2.1.1.1.1.16.14.7" class="ltx_td ltx_align_center">0.48 <span id="S5.T3.2.p2.1.1.1.1.16.14.7.1" class="ltx_text" style="font-size:75%;">(+0.13)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.16.14.8" class="ltx_td ltx_align_center">0.58</span>
<span id="S5.T3.2.p2.1.1.1.1.16.14.9" class="ltx_td ltx_align_center">0.69 <span id="S5.T3.2.p2.1.1.1.1.16.14.9.1" class="ltx_text" style="font-size:75%;">(+0.11)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.16.14.10" class="ltx_td ltx_align_center">0.67</span>
<span id="S5.T3.2.p2.1.1.1.1.16.14.11" class="ltx_td ltx_align_center">0.74 <span id="S5.T3.2.p2.1.1.1.1.16.14.11.1" class="ltx_text" style="font-size:75%;">(+0.07)</span></span></span>
<span id="S5.T3.2.p2.1.1.1.1.17.15" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.17.15.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">SPP <cite class="ltx_cite ltx_citemacro_citep">(Wang et&nbsp;al., <a href="#bib.bib33" title="" class="ltx_ref">2023c</a>)</cite></span>
<span id="S5.T3.2.p2.1.1.1.1.17.15.2" class="ltx_td ltx_align_center">0.70</span>
<span id="S5.T3.2.p2.1.1.1.1.17.15.3" class="ltx_td ltx_align_center">0.83 <span id="S5.T3.2.p2.1.1.1.1.17.15.3.1" class="ltx_text" style="font-size:75%;">(+0.13)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.17.15.4" class="ltx_td ltx_align_center">0.26</span>
<span id="S5.T3.2.p2.1.1.1.1.17.15.5" class="ltx_td ltx_align_center">0.39 <span id="S5.T3.2.p2.1.1.1.1.17.15.5.1" class="ltx_text" style="font-size:75%;">(+0.13)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.17.15.6" class="ltx_td ltx_align_center">0.37</span>
<span id="S5.T3.2.p2.1.1.1.1.17.15.7" class="ltx_td ltx_align_center">0.54 <span id="S5.T3.2.p2.1.1.1.1.17.15.7.1" class="ltx_text" style="font-size:75%;">(+0.17)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.17.15.8" class="ltx_td ltx_align_center">0.53</span>
<span id="S5.T3.2.p2.1.1.1.1.17.15.9" class="ltx_td ltx_align_center">0.68 <span id="S5.T3.2.p2.1.1.1.1.17.15.9.1" class="ltx_text" style="font-size:75%;">(+0.15)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.17.15.10" class="ltx_td ltx_align_center">0.57</span>
<span id="S5.T3.2.p2.1.1.1.1.17.15.11" class="ltx_td ltx_align_center">0.64 <span id="S5.T3.2.p2.1.1.1.1.17.15.11.1" class="ltx_text" style="font-size:75%;">(+0.07)</span></span></span>
<span id="S5.T3.2.p2.1.1.1.1.18.16" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.18.16.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Debate <cite class="ltx_cite ltx_citemacro_citep">(Du et&nbsp;al., <a href="#bib.bib7" title="" class="ltx_ref">2023</a>)</cite></span>
<span id="S5.T3.2.p2.1.1.1.1.18.16.2" class="ltx_td ltx_align_center">0.83</span>
<span id="S5.T3.2.p2.1.1.1.1.18.16.3" class="ltx_td ltx_align_center">0.85 <span id="S5.T3.2.p2.1.1.1.1.18.16.3.1" class="ltx_text" style="font-size:75%;">(+0.02)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.18.16.4" class="ltx_td ltx_align_center">0.32</span>
<span id="S5.T3.2.p2.1.1.1.1.18.16.5" class="ltx_td ltx_align_center">0.36 <span id="S5.T3.2.p2.1.1.1.1.18.16.5.1" class="ltx_text" style="font-size:75%;">(+0.04)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.18.16.6" class="ltx_td ltx_align_center">0.49</span>
<span id="S5.T3.2.p2.1.1.1.1.18.16.7" class="ltx_td ltx_align_center"><span id="S5.T3.2.p2.1.1.1.1.18.16.7.1" class="ltx_text ltx_font_bold">0.57</span> <span id="S5.T3.2.p2.1.1.1.1.18.16.7.2" class="ltx_text" style="font-size:75%;">(+0.08)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.18.16.8" class="ltx_td ltx_align_center">0.56</span>
<span id="S5.T3.2.p2.1.1.1.1.18.16.9" class="ltx_td ltx_align_center">0.67 <span id="S5.T3.2.p2.1.1.1.1.18.16.9.1" class="ltx_text" style="font-size:75%;">(+0.11)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.18.16.10" class="ltx_td ltx_align_center">0.18</span>
<span id="S5.T3.2.p2.1.1.1.1.18.16.11" class="ltx_td ltx_align_center">0.24 <span id="S5.T3.2.p2.1.1.1.1.18.16.11.1" class="ltx_text" style="font-size:75%;">(+0.06)</span></span></span>
<span id="S5.T3.2.p2.1.1.1.1.19.17" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.19.17.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Reflection <cite class="ltx_cite ltx_citemacro_citep">(Shinn et&nbsp;al., <a href="#bib.bib26" title="" class="ltx_ref">2023</a>)</cite></span>
<span id="S5.T3.2.p2.1.1.1.1.19.17.2" class="ltx_td ltx_align_center">0.76</span>
<span id="S5.T3.2.p2.1.1.1.1.19.17.3" class="ltx_td ltx_align_center">0.84 <span id="S5.T3.2.p2.1.1.1.1.19.17.3.1" class="ltx_text" style="font-size:75%;">(+0.08)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.19.17.4" class="ltx_td ltx_align_center">0.27</span>
<span id="S5.T3.2.p2.1.1.1.1.19.17.5" class="ltx_td ltx_align_center"><span id="S5.T3.2.p2.1.1.1.1.19.17.5.1" class="ltx_text ltx_font_bold">0.41</span> <span id="S5.T3.2.p2.1.1.1.1.19.17.5.2" class="ltx_text" style="font-size:75%;">(+0.14)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.19.17.6" class="ltx_td ltx_align_center">0.44</span>
<span id="S5.T3.2.p2.1.1.1.1.19.17.7" class="ltx_td ltx_align_center"><span id="S5.T3.2.p2.1.1.1.1.19.17.7.1" class="ltx_text ltx_font_bold">0.57</span> <span id="S5.T3.2.p2.1.1.1.1.19.17.7.2" class="ltx_text" style="font-size:75%;">(+0.13)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.19.17.8" class="ltx_td ltx_align_center">0.39</span>
<span id="S5.T3.2.p2.1.1.1.1.19.17.9" class="ltx_td ltx_align_center">0.44 <span id="S5.T3.2.p2.1.1.1.1.19.17.9.1" class="ltx_text" style="font-size:75%;">(+0.05)</span></span>
<span id="S5.T3.2.p2.1.1.1.1.19.17.10" class="ltx_td ltx_align_center">0.58</span>
<span id="S5.T3.2.p2.1.1.1.1.19.17.11" class="ltx_td ltx_align_center">0.73 <span id="S5.T3.2.p2.1.1.1.1.19.17.11.1" class="ltx_text" style="font-size:75%;">(+0.15)</span></span></span>
<span id="S5.T3.2.p2.1.1.1.1.20.18" class="ltx_tr">
<span id="S5.T3.2.p2.1.1.1.1.20.18.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_t">Ours</span>
<span id="S5.T3.2.p2.1.1.1.1.20.18.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S5.T3.2.p2.1.1.1.1.20.18.2.1" class="ltx_text ltx_ulem_uline">0.85</span></span>
<span id="S5.T3.2.p2.1.1.1.1.20.18.3" class="ltx_td ltx_border_bb ltx_border_t"></span>
<span id="S5.T3.2.p2.1.1.1.1.20.18.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S5.T3.2.p2.1.1.1.1.20.18.4.1" class="ltx_text ltx_ulem_uline">0.39</span></span>
<span id="S5.T3.2.p2.1.1.1.1.20.18.5" class="ltx_td ltx_border_bb ltx_border_t"></span>
<span id="S5.T3.2.p2.1.1.1.1.20.18.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S5.T3.2.p2.1.1.1.1.20.18.6.1" class="ltx_text ltx_ulem_uline">0.55</span></span>
<span id="S5.T3.2.p2.1.1.1.1.20.18.7" class="ltx_td ltx_border_bb ltx_border_t"></span>
<span id="S5.T3.2.p2.1.1.1.1.20.18.8" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S5.T3.2.p2.1.1.1.1.20.18.8.1" class="ltx_text ltx_ulem_uline ltx_font_bold">0.70</span></span>
<span id="S5.T3.2.p2.1.1.1.1.20.18.9" class="ltx_td ltx_border_bb ltx_border_t"></span>
<span id="S5.T3.2.p2.1.1.1.1.20.18.10" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S5.T3.2.p2.1.1.1.1.20.18.10.1" class="ltx_text ltx_ulem_uline">0.73</span></span>
<span id="S5.T3.2.p2.1.1.1.1.20.18.11" class="ltx_td ltx_border_bb ltx_border_t"></span></span>
</span>
</span></span></p>
</span></div>
</div>
</div>
</figure>
<figure id="S5.T4" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4: </span>Our method achieved the highest average ranking across different LLMs and tasks. Rankings are derived from Table <a href="#S5.T3" title="Table 3 ‣ 5 Experimental Results ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> and are based on the average rank each method achieves across all five tasks for a given LLM. The bolded instances indicate the top ranking.</figcaption>
<div id="S5.T4.2" class="ltx_logical-block ltx_pruned_first">
<div id="S5.T4.2.p2" class="ltx_para ltx_noindent ltx_align_center">
<div id="S5.T4.2.p2.1" class="ltx_inline-block ltx_transformed_outer" style="width:435.9pt;height:127pt;vertical-align:-1.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<p id="S5.T4.2.p2.1.1" class="ltx_p"><span id="S5.T4.2.p2.1.1.1" class="ltx_text" style="font-size:120%;">
<span id="S5.T4.2.p2.1.1.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<span class="ltx_thead">
<span id="S5.T4.2.p2.1.1.1.1.1.1" class="ltx_tr">
<span id="S5.T4.2.p2.1.1.1.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt"><span id="S5.T4.2.p2.1.1.1.1.1.1.1.1" class="ltx_text ltx_font_bold">Method</span> <span id="S5.T4.2.p2.1.1.1.1.1.1.1.2" class="ltx_text" style="font-size:75%;">+Ours</span></span>
<span id="S5.T4.2.p2.1.1.1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S5.T4.2.p2.1.1.1.1.1.1.2.1" class="ltx_text ltx_font_bold">GPT-3.5</span></span>
<span id="S5.T4.2.p2.1.1.1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S5.T4.2.p2.1.1.1.1.1.1.3.1" class="ltx_text ltx_font_bold">70B</span></span>
<span id="S5.T4.2.p2.1.1.1.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="S5.T4.2.p2.1.1.1.1.1.1.4.1" class="ltx_text ltx_font_bold">13B</span></span>
<span id="S5.T4.2.p2.1.1.1.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S5.T4.2.p2.1.1.1.1.1.1.5.1" class="ltx_text ltx_font_bold">Overall</span></span></span>
</span>
<span class="ltx_tbody">
<span id="S5.T4.2.p2.1.1.1.1.2.1" class="ltx_tr">
<span id="S5.T4.2.p2.1.1.1.1.2.1.1" class="ltx_td ltx_align_left ltx_border_t">COT <cite class="ltx_cite ltx_citemacro_citep">(Wei et&nbsp;al., <a href="#bib.bib34" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S5.T4.2.p2.1.1.1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t">2.8</span>
<span id="S5.T4.2.p2.1.1.1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t">3.6</span>
<span id="S5.T4.2.p2.1.1.1.1.2.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">3.6</span>
<span id="S5.T4.2.p2.1.1.1.1.2.1.5" class="ltx_td ltx_align_center ltx_border_t">3.3</span></span>
<span id="S5.T4.2.p2.1.1.1.1.3.2" class="ltx_tr">
<span id="S5.T4.2.p2.1.1.1.1.3.2.1" class="ltx_td ltx_align_left">ZS-COT <cite class="ltx_cite ltx_citemacro_citep">(Kojima et&nbsp;al., <a href="#bib.bib14" title="" class="ltx_ref">2022</a>)</cite></span>
<span id="S5.T4.2.p2.1.1.1.1.3.2.2" class="ltx_td ltx_align_center">2.8</span>
<span id="S5.T4.2.p2.1.1.1.1.3.2.3" class="ltx_td ltx_align_center"><span id="S5.T4.2.p2.1.1.1.1.3.2.3.1" class="ltx_text ltx_font_bold">2.4</span></span>
<span id="S5.T4.2.p2.1.1.1.1.3.2.4" class="ltx_td ltx_align_center ltx_border_r">3</span>
<span id="S5.T4.2.p2.1.1.1.1.3.2.5" class="ltx_td ltx_align_center">2.7</span></span>
<span id="S5.T4.2.p2.1.1.1.1.4.3" class="ltx_tr">
<span id="S5.T4.2.p2.1.1.1.1.4.3.1" class="ltx_td ltx_align_left">SPP <cite class="ltx_cite ltx_citemacro_citep">(Wang et&nbsp;al., <a href="#bib.bib33" title="" class="ltx_ref">2023c</a>)</cite></span>
<span id="S5.T4.2.p2.1.1.1.1.4.3.2" class="ltx_td ltx_align_center">4.6</span>
<span id="S5.T4.2.p2.1.1.1.1.4.3.3" class="ltx_td ltx_align_center">3.6</span>
<span id="S5.T4.2.p2.1.1.1.1.4.3.4" class="ltx_td ltx_align_center ltx_border_r">3.8</span>
<span id="S5.T4.2.p2.1.1.1.1.4.3.5" class="ltx_td ltx_align_center">4</span></span>
<span id="S5.T4.2.p2.1.1.1.1.5.4" class="ltx_tr">
<span id="S5.T4.2.p2.1.1.1.1.5.4.1" class="ltx_td ltx_align_left">Debate <cite class="ltx_cite ltx_citemacro_citep">(Du et&nbsp;al., <a href="#bib.bib7" title="" class="ltx_ref">2023</a>)</cite></span>
<span id="S5.T4.2.p2.1.1.1.1.5.4.2" class="ltx_td ltx_align_center">3.8</span>
<span id="S5.T4.2.p2.1.1.1.1.5.4.3" class="ltx_td ltx_align_center">4.4</span>
<span id="S5.T4.2.p2.1.1.1.1.5.4.4" class="ltx_td ltx_align_center ltx_border_r">5</span>
<span id="S5.T4.2.p2.1.1.1.1.5.4.5" class="ltx_td ltx_align_center">4.4</span></span>
<span id="S5.T4.2.p2.1.1.1.1.6.5" class="ltx_tr">
<span id="S5.T4.2.p2.1.1.1.1.6.5.1" class="ltx_td ltx_align_left">Reflection <cite class="ltx_cite ltx_citemacro_citep">(Shinn et&nbsp;al., <a href="#bib.bib26" title="" class="ltx_ref">2023</a>)</cite></span>
<span id="S5.T4.2.p2.1.1.1.1.6.5.2" class="ltx_td ltx_align_center">3</span>
<span id="S5.T4.2.p2.1.1.1.1.6.5.3" class="ltx_td ltx_align_center">4.0</span>
<span id="S5.T4.2.p2.1.1.1.1.6.5.4" class="ltx_td ltx_align_center ltx_border_r">3</span>
<span id="S5.T4.2.p2.1.1.1.1.6.5.5" class="ltx_td ltx_align_center">3.3</span></span>
<span id="S5.T4.2.p2.1.1.1.1.7.6" class="ltx_tr">
<span id="S5.T4.2.p2.1.1.1.1.7.6.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_t">Ours</span>
<span id="S5.T4.2.p2.1.1.1.1.7.6.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S5.T4.2.p2.1.1.1.1.7.6.2.1" class="ltx_text ltx_font_bold">2.6</span></span>
<span id="S5.T4.2.p2.1.1.1.1.7.6.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">2.6</span>
<span id="S5.T4.2.p2.1.1.1.1.7.6.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S5.T4.2.p2.1.1.1.1.7.6.4.1" class="ltx_text ltx_font_bold">2.2</span></span>
<span id="S5.T4.2.p2.1.1.1.1.7.6.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S5.T4.2.p2.1.1.1.1.7.6.5.1" class="ltx_text ltx_font_bold">2.5</span></span></span>
</span>
</span></span></p>
</span></div>
</div>
</div>
</figure>
<figure id="S5.F4" class="ltx_figure"><img src="/html/2402.05120/assets/fig/abliation.png" id="S5.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="538" height="114" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Our method improves accuracy over various hyperparameters and tasks.</figcaption>
</figure>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Generalizability</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.12" class="ltx_p">Table <a href="#S5.T2" title="Table 2 ‣ 5 Experimental Results ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> and Figure <a href="#S5.F3" title="Figure 3 ‣ 5 Experimental Results ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> show that our method generally enhances performance across all tasks and LLMs by increasing the ensemble size. Specifically, in arithmetic reasoning tasks, the accuracy gains range from <math id="S5.SS1.p1.1.m1.1" class="ltx_Math" alttext="12\%" display="inline"><semantics id="S5.SS1.p1.1.m1.1a"><mrow id="S5.SS1.p1.1.m1.1.1" xref="S5.SS1.p1.1.m1.1.1.cmml"><mn id="S5.SS1.p1.1.m1.1.1.2" xref="S5.SS1.p1.1.m1.1.1.2.cmml">12</mn><mo id="S5.SS1.p1.1.m1.1.1.1" xref="S5.SS1.p1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.1.m1.1b"><apply id="S5.SS1.p1.1.m1.1.1.cmml" xref="S5.SS1.p1.1.m1.1.1"><csymbol cd="latexml" id="S5.SS1.p1.1.m1.1.1.1.cmml" xref="S5.SS1.p1.1.m1.1.1.1">percent</csymbol><cn type="integer" id="S5.SS1.p1.1.m1.1.1.2.cmml" xref="S5.SS1.p1.1.m1.1.1.2">12</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.1.m1.1c">12\%</annotation></semantics></math> to <math id="S5.SS1.p1.2.m2.1" class="ltx_Math" alttext="24\%" display="inline"><semantics id="S5.SS1.p1.2.m2.1a"><mrow id="S5.SS1.p1.2.m2.1.1" xref="S5.SS1.p1.2.m2.1.1.cmml"><mn id="S5.SS1.p1.2.m2.1.1.2" xref="S5.SS1.p1.2.m2.1.1.2.cmml">24</mn><mo id="S5.SS1.p1.2.m2.1.1.1" xref="S5.SS1.p1.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.2.m2.1b"><apply id="S5.SS1.p1.2.m2.1.1.cmml" xref="S5.SS1.p1.2.m2.1.1"><csymbol cd="latexml" id="S5.SS1.p1.2.m2.1.1.1.cmml" xref="S5.SS1.p1.2.m2.1.1.1">percent</csymbol><cn type="integer" id="S5.SS1.p1.2.m2.1.1.2.cmml" xref="S5.SS1.p1.2.m2.1.1.2">24</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.2.m2.1c">24\%</annotation></semantics></math> on the GSM8K and from <math id="S5.SS1.p1.3.m3.1" class="ltx_Math" alttext="6\%" display="inline"><semantics id="S5.SS1.p1.3.m3.1a"><mrow id="S5.SS1.p1.3.m3.1.1" xref="S5.SS1.p1.3.m3.1.1.cmml"><mn id="S5.SS1.p1.3.m3.1.1.2" xref="S5.SS1.p1.3.m3.1.1.2.cmml">6</mn><mo id="S5.SS1.p1.3.m3.1.1.1" xref="S5.SS1.p1.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.3.m3.1b"><apply id="S5.SS1.p1.3.m3.1.1.cmml" xref="S5.SS1.p1.3.m3.1.1"><csymbol cd="latexml" id="S5.SS1.p1.3.m3.1.1.1.cmml" xref="S5.SS1.p1.3.m3.1.1.1">percent</csymbol><cn type="integer" id="S5.SS1.p1.3.m3.1.1.2.cmml" xref="S5.SS1.p1.3.m3.1.1.2">6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.3.m3.1c">6\%</annotation></semantics></math> to <math id="S5.SS1.p1.4.m4.1" class="ltx_Math" alttext="10\%" display="inline"><semantics id="S5.SS1.p1.4.m4.1a"><mrow id="S5.SS1.p1.4.m4.1.1" xref="S5.SS1.p1.4.m4.1.1.cmml"><mn id="S5.SS1.p1.4.m4.1.1.2" xref="S5.SS1.p1.4.m4.1.1.2.cmml">10</mn><mo id="S5.SS1.p1.4.m4.1.1.1" xref="S5.SS1.p1.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.4.m4.1b"><apply id="S5.SS1.p1.4.m4.1.1.cmml" xref="S5.SS1.p1.4.m4.1.1"><csymbol cd="latexml" id="S5.SS1.p1.4.m4.1.1.1.cmml" xref="S5.SS1.p1.4.m4.1.1.1">percent</csymbol><cn type="integer" id="S5.SS1.p1.4.m4.1.1.2.cmml" xref="S5.SS1.p1.4.m4.1.1.2">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.4.m4.1c">10\%</annotation></semantics></math> on the MATH. In general reasoning tasks, the accuracy gains range from <math id="S5.SS1.p1.5.m5.1" class="ltx_Math" alttext="1\%" display="inline"><semantics id="S5.SS1.p1.5.m5.1a"><mrow id="S5.SS1.p1.5.m5.1.1" xref="S5.SS1.p1.5.m5.1.1.cmml"><mn id="S5.SS1.p1.5.m5.1.1.2" xref="S5.SS1.p1.5.m5.1.1.2.cmml">1</mn><mo id="S5.SS1.p1.5.m5.1.1.1" xref="S5.SS1.p1.5.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.5.m5.1b"><apply id="S5.SS1.p1.5.m5.1.1.cmml" xref="S5.SS1.p1.5.m5.1.1"><csymbol cd="latexml" id="S5.SS1.p1.5.m5.1.1.1.cmml" xref="S5.SS1.p1.5.m5.1.1.1">percent</csymbol><cn type="integer" id="S5.SS1.p1.5.m5.1.1.2.cmml" xref="S5.SS1.p1.5.m5.1.1.2">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.5.m5.1c">1\%</annotation></semantics></math> to <math id="S5.SS1.p1.6.m6.1" class="ltx_Math" alttext="4\%" display="inline"><semantics id="S5.SS1.p1.6.m6.1a"><mrow id="S5.SS1.p1.6.m6.1.1" xref="S5.SS1.p1.6.m6.1.1.cmml"><mn id="S5.SS1.p1.6.m6.1.1.2" xref="S5.SS1.p1.6.m6.1.1.2.cmml">4</mn><mo id="S5.SS1.p1.6.m6.1.1.1" xref="S5.SS1.p1.6.m6.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.6.m6.1b"><apply id="S5.SS1.p1.6.m6.1.1.cmml" xref="S5.SS1.p1.6.m6.1.1"><csymbol cd="latexml" id="S5.SS1.p1.6.m6.1.1.1.cmml" xref="S5.SS1.p1.6.m6.1.1.1">percent</csymbol><cn type="integer" id="S5.SS1.p1.6.m6.1.1.2.cmml" xref="S5.SS1.p1.6.m6.1.1.2">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.6.m6.1c">4\%</annotation></semantics></math> on the Chess and from <math id="S5.SS1.p1.7.m7.1" class="ltx_Math" alttext="5\%" display="inline"><semantics id="S5.SS1.p1.7.m7.1a"><mrow id="S5.SS1.p1.7.m7.1.1" xref="S5.SS1.p1.7.m7.1.1.cmml"><mn id="S5.SS1.p1.7.m7.1.1.2" xref="S5.SS1.p1.7.m7.1.1.2.cmml">5</mn><mo id="S5.SS1.p1.7.m7.1.1.1" xref="S5.SS1.p1.7.m7.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.7.m7.1b"><apply id="S5.SS1.p1.7.m7.1.1.cmml" xref="S5.SS1.p1.7.m7.1.1"><csymbol cd="latexml" id="S5.SS1.p1.7.m7.1.1.1.cmml" xref="S5.SS1.p1.7.m7.1.1.1">percent</csymbol><cn type="integer" id="S5.SS1.p1.7.m7.1.1.2.cmml" xref="S5.SS1.p1.7.m7.1.1.2">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.7.m7.1c">5\%</annotation></semantics></math> to <math id="S5.SS1.p1.8.m8.1" class="ltx_Math" alttext="11\%" display="inline"><semantics id="S5.SS1.p1.8.m8.1a"><mrow id="S5.SS1.p1.8.m8.1.1" xref="S5.SS1.p1.8.m8.1.1.cmml"><mn id="S5.SS1.p1.8.m8.1.1.2" xref="S5.SS1.p1.8.m8.1.1.2.cmml">11</mn><mo id="S5.SS1.p1.8.m8.1.1.1" xref="S5.SS1.p1.8.m8.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.8.m8.1b"><apply id="S5.SS1.p1.8.m8.1.1.cmml" xref="S5.SS1.p1.8.m8.1.1"><csymbol cd="latexml" id="S5.SS1.p1.8.m8.1.1.1.cmml" xref="S5.SS1.p1.8.m8.1.1.1">percent</csymbol><cn type="integer" id="S5.SS1.p1.8.m8.1.1.2.cmml" xref="S5.SS1.p1.8.m8.1.1.2">11</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.8.m8.1c">11\%</annotation></semantics></math> on the MMLU. In code generation task, the accuracy gains range from <math id="S5.SS1.p1.9.m9.1" class="ltx_Math" alttext="4\%" display="inline"><semantics id="S5.SS1.p1.9.m9.1a"><mrow id="S5.SS1.p1.9.m9.1.1" xref="S5.SS1.p1.9.m9.1.1.cmml"><mn id="S5.SS1.p1.9.m9.1.1.2" xref="S5.SS1.p1.9.m9.1.1.2.cmml">4</mn><mo id="S5.SS1.p1.9.m9.1.1.1" xref="S5.SS1.p1.9.m9.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.9.m9.1b"><apply id="S5.SS1.p1.9.m9.1.1.cmml" xref="S5.SS1.p1.9.m9.1.1"><csymbol cd="latexml" id="S5.SS1.p1.9.m9.1.1.1.cmml" xref="S5.SS1.p1.9.m9.1.1.1">percent</csymbol><cn type="integer" id="S5.SS1.p1.9.m9.1.1.2.cmml" xref="S5.SS1.p1.9.m9.1.1.2">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.9.m9.1c">4\%</annotation></semantics></math> to <math id="S5.SS1.p1.10.m10.1" class="ltx_Math" alttext="9\%" display="inline"><semantics id="S5.SS1.p1.10.m10.1a"><mrow id="S5.SS1.p1.10.m10.1.1" xref="S5.SS1.p1.10.m10.1.1.cmml"><mn id="S5.SS1.p1.10.m10.1.1.2" xref="S5.SS1.p1.10.m10.1.1.2.cmml">9</mn><mo id="S5.SS1.p1.10.m10.1.1.1" xref="S5.SS1.p1.10.m10.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.10.m10.1b"><apply id="S5.SS1.p1.10.m10.1.1.cmml" xref="S5.SS1.p1.10.m10.1.1"><csymbol cd="latexml" id="S5.SS1.p1.10.m10.1.1.1.cmml" xref="S5.SS1.p1.10.m10.1.1.1">percent</csymbol><cn type="integer" id="S5.SS1.p1.10.m10.1.1.2.cmml" xref="S5.SS1.p1.10.m10.1.1.2">9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.10.m10.1c">9\%</annotation></semantics></math> on HumanEval. Surprisingly, our method enables a smaller LLM to outperform a larger counterpart by simply scaling up the ensemble size. For instance, the enhanced Llama2-13B model achieves <math id="S5.SS1.p1.11.m11.1" class="ltx_Math" alttext="59\%" display="inline"><semantics id="S5.SS1.p1.11.m11.1a"><mrow id="S5.SS1.p1.11.m11.1.1" xref="S5.SS1.p1.11.m11.1.1.cmml"><mn id="S5.SS1.p1.11.m11.1.1.2" xref="S5.SS1.p1.11.m11.1.1.2.cmml">59</mn><mo id="S5.SS1.p1.11.m11.1.1.1" xref="S5.SS1.p1.11.m11.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.11.m11.1b"><apply id="S5.SS1.p1.11.m11.1.1.cmml" xref="S5.SS1.p1.11.m11.1.1"><csymbol cd="latexml" id="S5.SS1.p1.11.m11.1.1.1.cmml" xref="S5.SS1.p1.11.m11.1.1.1">percent</csymbol><cn type="integer" id="S5.SS1.p1.11.m11.1.1.2.cmml" xref="S5.SS1.p1.11.m11.1.1.2">59</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.11.m11.1c">59\%</annotation></semantics></math> accuracy on the GSM8K dataset, outperforming the Llama2-70B model, which scores <math id="S5.SS1.p1.12.m12.1" class="ltx_Math" alttext="54\%" display="inline"><semantics id="S5.SS1.p1.12.m12.1a"><mrow id="S5.SS1.p1.12.m12.1.1" xref="S5.SS1.p1.12.m12.1.1.cmml"><mn id="S5.SS1.p1.12.m12.1.1.2" xref="S5.SS1.p1.12.m12.1.1.2.cmml">54</mn><mo id="S5.SS1.p1.12.m12.1.1.1" xref="S5.SS1.p1.12.m12.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.12.m12.1b"><apply id="S5.SS1.p1.12.m12.1.1.cmml" xref="S5.SS1.p1.12.m12.1.1"><csymbol cd="latexml" id="S5.SS1.p1.12.m12.1.1.1.cmml" xref="S5.SS1.p1.12.m12.1.1.1">percent</csymbol><cn type="integer" id="S5.SS1.p1.12.m12.1.1.2.cmml" xref="S5.SS1.p1.12.m12.1.1.2">54</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.12.m12.1c">54\%</annotation></semantics></math>.</p>
</div>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Compatibility</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.10" class="ltx_p">Table <a href="#S5.T3" title="Table 3 ‣ 5 Experimental Results ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows that by integrating our method with other methods, the performance can be further improved across different LLMs and tasks, despite these methods have different implementations. To be specific, in arithmetic reasoning tasks, our method enhances these methods to further improvement, yielding increases between <math id="S5.SS2.p1.1.m1.1" class="ltx_Math" alttext="10\%" display="inline"><semantics id="S5.SS2.p1.1.m1.1a"><mrow id="S5.SS2.p1.1.m1.1.1" xref="S5.SS2.p1.1.m1.1.1.cmml"><mn id="S5.SS2.p1.1.m1.1.1.2" xref="S5.SS2.p1.1.m1.1.1.2.cmml">10</mn><mo id="S5.SS2.p1.1.m1.1.1.1" xref="S5.SS2.p1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.1.m1.1b"><apply id="S5.SS2.p1.1.m1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1"><csymbol cd="latexml" id="S5.SS2.p1.1.m1.1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1.1">percent</csymbol><cn type="integer" id="S5.SS2.p1.1.m1.1.1.2.cmml" xref="S5.SS2.p1.1.m1.1.1.2">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.1.m1.1c">10\%</annotation></semantics></math> and <math id="S5.SS2.p1.2.m2.1" class="ltx_Math" alttext="21\%" display="inline"><semantics id="S5.SS2.p1.2.m2.1a"><mrow id="S5.SS2.p1.2.m2.1.1" xref="S5.SS2.p1.2.m2.1.1.cmml"><mn id="S5.SS2.p1.2.m2.1.1.2" xref="S5.SS2.p1.2.m2.1.1.2.cmml">21</mn><mo id="S5.SS2.p1.2.m2.1.1.1" xref="S5.SS2.p1.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.2.m2.1b"><apply id="S5.SS2.p1.2.m2.1.1.cmml" xref="S5.SS2.p1.2.m2.1.1"><csymbol cd="latexml" id="S5.SS2.p1.2.m2.1.1.1.cmml" xref="S5.SS2.p1.2.m2.1.1.1">percent</csymbol><cn type="integer" id="S5.SS2.p1.2.m2.1.1.2.cmml" xref="S5.SS2.p1.2.m2.1.1.2">21</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.2.m2.1c">21\%</annotation></semantics></math> on the GSM8K dataset, and between <math id="S5.SS2.p1.3.m3.1" class="ltx_Math" alttext="1\%" display="inline"><semantics id="S5.SS2.p1.3.m3.1a"><mrow id="S5.SS2.p1.3.m3.1.1" xref="S5.SS2.p1.3.m3.1.1.cmml"><mn id="S5.SS2.p1.3.m3.1.1.2" xref="S5.SS2.p1.3.m3.1.1.2.cmml">1</mn><mo id="S5.SS2.p1.3.m3.1.1.1" xref="S5.SS2.p1.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.3.m3.1b"><apply id="S5.SS2.p1.3.m3.1.1.cmml" xref="S5.SS2.p1.3.m3.1.1"><csymbol cd="latexml" id="S5.SS2.p1.3.m3.1.1.1.cmml" xref="S5.SS2.p1.3.m3.1.1.1">percent</csymbol><cn type="integer" id="S5.SS2.p1.3.m3.1.1.2.cmml" xref="S5.SS2.p1.3.m3.1.1.2">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.3.m3.1c">1\%</annotation></semantics></math> and <math id="S5.SS2.p1.4.m4.1" class="ltx_Math" alttext="15\%" display="inline"><semantics id="S5.SS2.p1.4.m4.1a"><mrow id="S5.SS2.p1.4.m4.1.1" xref="S5.SS2.p1.4.m4.1.1.cmml"><mn id="S5.SS2.p1.4.m4.1.1.2" xref="S5.SS2.p1.4.m4.1.1.2.cmml">15</mn><mo id="S5.SS2.p1.4.m4.1.1.1" xref="S5.SS2.p1.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.4.m4.1b"><apply id="S5.SS2.p1.4.m4.1.1.cmml" xref="S5.SS2.p1.4.m4.1.1"><csymbol cd="latexml" id="S5.SS2.p1.4.m4.1.1.1.cmml" xref="S5.SS2.p1.4.m4.1.1.1">percent</csymbol><cn type="integer" id="S5.SS2.p1.4.m4.1.1.2.cmml" xref="S5.SS2.p1.4.m4.1.1.2">15</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.4.m4.1c">15\%</annotation></semantics></math> on the MATH dataset. In general reasoning tasks, integration with other methods generally achieves performance gains ranging from <math id="S5.SS2.p1.5.m5.1" class="ltx_Math" alttext="1\%" display="inline"><semantics id="S5.SS2.p1.5.m5.1a"><mrow id="S5.SS2.p1.5.m5.1.1" xref="S5.SS2.p1.5.m5.1.1.cmml"><mn id="S5.SS2.p1.5.m5.1.1.2" xref="S5.SS2.p1.5.m5.1.1.2.cmml">1</mn><mo id="S5.SS2.p1.5.m5.1.1.1" xref="S5.SS2.p1.5.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.5.m5.1b"><apply id="S5.SS2.p1.5.m5.1.1.cmml" xref="S5.SS2.p1.5.m5.1.1"><csymbol cd="latexml" id="S5.SS2.p1.5.m5.1.1.1.cmml" xref="S5.SS2.p1.5.m5.1.1.1">percent</csymbol><cn type="integer" id="S5.SS2.p1.5.m5.1.1.2.cmml" xref="S5.SS2.p1.5.m5.1.1.2">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.5.m5.1c">1\%</annotation></semantics></math> to <math id="S5.SS2.p1.6.m6.1" class="ltx_Math" alttext="13\%" display="inline"><semantics id="S5.SS2.p1.6.m6.1a"><mrow id="S5.SS2.p1.6.m6.1.1" xref="S5.SS2.p1.6.m6.1.1.cmml"><mn id="S5.SS2.p1.6.m6.1.1.2" xref="S5.SS2.p1.6.m6.1.1.2.cmml">13</mn><mo id="S5.SS2.p1.6.m6.1.1.1" xref="S5.SS2.p1.6.m6.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.6.m6.1b"><apply id="S5.SS2.p1.6.m6.1.1.cmml" xref="S5.SS2.p1.6.m6.1.1"><csymbol cd="latexml" id="S5.SS2.p1.6.m6.1.1.1.cmml" xref="S5.SS2.p1.6.m6.1.1.1">percent</csymbol><cn type="integer" id="S5.SS2.p1.6.m6.1.1.2.cmml" xref="S5.SS2.p1.6.m6.1.1.2">13</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.6.m6.1c">13\%</annotation></semantics></math> in the Chess task and from <math id="S5.SS2.p1.7.m7.1" class="ltx_Math" alttext="1\%" display="inline"><semantics id="S5.SS2.p1.7.m7.1a"><mrow id="S5.SS2.p1.7.m7.1.1" xref="S5.SS2.p1.7.m7.1.1.cmml"><mn id="S5.SS2.p1.7.m7.1.1.2" xref="S5.SS2.p1.7.m7.1.1.2.cmml">1</mn><mo id="S5.SS2.p1.7.m7.1.1.1" xref="S5.SS2.p1.7.m7.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.7.m7.1b"><apply id="S5.SS2.p1.7.m7.1.1.cmml" xref="S5.SS2.p1.7.m7.1.1"><csymbol cd="latexml" id="S5.SS2.p1.7.m7.1.1.1.cmml" xref="S5.SS2.p1.7.m7.1.1.1">percent</csymbol><cn type="integer" id="S5.SS2.p1.7.m7.1.1.2.cmml" xref="S5.SS2.p1.7.m7.1.1.2">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.7.m7.1c">1\%</annotation></semantics></math> to <math id="S5.SS2.p1.8.m8.1" class="ltx_Math" alttext="11\%" display="inline"><semantics id="S5.SS2.p1.8.m8.1a"><mrow id="S5.SS2.p1.8.m8.1.1" xref="S5.SS2.p1.8.m8.1.1.cmml"><mn id="S5.SS2.p1.8.m8.1.1.2" xref="S5.SS2.p1.8.m8.1.1.2.cmml">11</mn><mo id="S5.SS2.p1.8.m8.1.1.1" xref="S5.SS2.p1.8.m8.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.8.m8.1b"><apply id="S5.SS2.p1.8.m8.1.1.cmml" xref="S5.SS2.p1.8.m8.1.1"><csymbol cd="latexml" id="S5.SS2.p1.8.m8.1.1.1.cmml" xref="S5.SS2.p1.8.m8.1.1.1">percent</csymbol><cn type="integer" id="S5.SS2.p1.8.m8.1.1.2.cmml" xref="S5.SS2.p1.8.m8.1.1.2">11</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.8.m8.1c">11\%</annotation></semantics></math> in the MMLU task. In code generation task, when combined with other methods, gains range from <math id="S5.SS2.p1.9.m9.1" class="ltx_Math" alttext="2\%" display="inline"><semantics id="S5.SS2.p1.9.m9.1a"><mrow id="S5.SS2.p1.9.m9.1.1" xref="S5.SS2.p1.9.m9.1.1.cmml"><mn id="S5.SS2.p1.9.m9.1.1.2" xref="S5.SS2.p1.9.m9.1.1.2.cmml">2</mn><mo id="S5.SS2.p1.9.m9.1.1.1" xref="S5.SS2.p1.9.m9.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.9.m9.1b"><apply id="S5.SS2.p1.9.m9.1.1.cmml" xref="S5.SS2.p1.9.m9.1.1"><csymbol cd="latexml" id="S5.SS2.p1.9.m9.1.1.1.cmml" xref="S5.SS2.p1.9.m9.1.1.1">percent</csymbol><cn type="integer" id="S5.SS2.p1.9.m9.1.1.2.cmml" xref="S5.SS2.p1.9.m9.1.1.2">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.9.m9.1c">2\%</annotation></semantics></math> to <math id="S5.SS2.p1.10.m10.1" class="ltx_Math" alttext="7\%" display="inline"><semantics id="S5.SS2.p1.10.m10.1a"><mrow id="S5.SS2.p1.10.m10.1.1" xref="S5.SS2.p1.10.m10.1.1.cmml"><mn id="S5.SS2.p1.10.m10.1.1.2" xref="S5.SS2.p1.10.m10.1.1.2.cmml">7</mn><mo id="S5.SS2.p1.10.m10.1.1.1" xref="S5.SS2.p1.10.m10.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.10.m10.1b"><apply id="S5.SS2.p1.10.m10.1.1.cmml" xref="S5.SS2.p1.10.m10.1.1"><csymbol cd="latexml" id="S5.SS2.p1.10.m10.1.1.1.cmml" xref="S5.SS2.p1.10.m10.1.1.1">percent</csymbol><cn type="integer" id="S5.SS2.p1.10.m10.1.1.2.cmml" xref="S5.SS2.p1.10.m10.1.1.2">7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.10.m10.1c">7\%</annotation></semantics></math>. However, two notable exceptions are observed when integrated with the debate method with the Llama2-13B and Llama2-70B models, which result in failed cases. This failure in performance is attributed primarily to the noise generated by referencing the answers of other agents during the debate process. The synthesized responses, which incorporate input from multiple agents, disrupt the coherence of the code logic, leading to the observed performance degradation. All accuracy curves are provided in the Appendix <a href="#A2" title="Appendix B Detailed Experiment Results ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a>.</p>
</div>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>Effectiveness</h3>

<div id="S5.SS3.p1" class="ltx_para">
<p id="S5.SS3.p1.1" class="ltx_p">From Table <a href="#S5.T3" title="Table 3 ‣ 5 Experimental Results ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, we find that our method outperforms other methods in standalone cases, except on the Chess task using Llama2-13B and Llama2-70B. Additionally, based on the data from Table <a href="#S5.T3" title="Table 3 ‣ 5 Experimental Results ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, we have calculated the average performance ranking of each enhanced method across various tasks, with the results presented in Table <a href="#S5.T4" title="Table 4 ‣ 5 Experimental Results ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. Notably, without the need for additional prompts or complex LLM collaboration frameworks, our method achieves the highest average ranking across different LLMs and tasks.</p>
</div>
</section>
<section id="S5.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4 </span>Robustness</h3>

<div id="S5.SS4.p1" class="ltx_para">
<p id="S5.SS4.p1.1" class="ltx_p">We conduct ablation studies to evaluate the impact of changes in various hyperparameters on the final performance. The experiment is conducted by altering the temperature <span id="S5.SS4.p1.1.1" class="ltx_text ltx_font_italic">T</span> <cite class="ltx_cite ltx_citemacro_citep">(Ficler &amp; Goldberg, <a href="#bib.bib8" title="" class="ltx_ref">2017</a>)</cite> and the nucleus probability <span id="S5.SS4.p1.1.2" class="ltx_text ltx_font_italic">p</span> <cite class="ltx_cite ltx_citemacro_citep">(Radford et&nbsp;al., <a href="#bib.bib25" title="" class="ltx_ref">2019</a>)</cite>, using the GPT-3.5-Turbo model over an average of 20 runs. As shown in Figure <a href="#S5.F4" title="Figure 4 ‣ 5 Experimental Results ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, scaling up ensemble size improves the LLM performance consistently across different tasks, despite the variation of these hyperparameters.</p>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Understanding the Performance Gains</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">Table <a href="#S5.T2" title="Table 2 ‣ 5 Experimental Results ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows that the efficacy of our method varies with the difficulty of the task. In this section, we aim to understand the underlying properties through controlled experiments.</p>
</div>
<div id="S6.p2" class="ltx_para">
<p id="S6.p2.4" class="ltx_p">To start the analysis, we select two datasets with increasing difficulty, i.e., GSM8K and MATH, to calculate the relative performance gain.
The relative performance gain <math id="S6.p2.1.m1.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S6.p2.1.m1.1a"><mi id="S6.p2.1.m1.1.1" xref="S6.p2.1.m1.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S6.p2.1.m1.1b"><ci id="S6.p2.1.m1.1.1.cmml" xref="S6.p2.1.m1.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p2.1.m1.1c">\eta</annotation></semantics></math> is given by: <math id="S6.p2.2.m2.1" class="ltx_Math" alttext="\eta=\frac{P_{\text{m}}-P_{\text{s}}}{P_{\text{s}}}" display="inline"><semantics id="S6.p2.2.m2.1a"><mrow id="S6.p2.2.m2.1.1" xref="S6.p2.2.m2.1.1.cmml"><mi id="S6.p2.2.m2.1.1.2" xref="S6.p2.2.m2.1.1.2.cmml">η</mi><mo id="S6.p2.2.m2.1.1.1" xref="S6.p2.2.m2.1.1.1.cmml">=</mo><mfrac id="S6.p2.2.m2.1.1.3" xref="S6.p2.2.m2.1.1.3.cmml"><mrow id="S6.p2.2.m2.1.1.3.2" xref="S6.p2.2.m2.1.1.3.2.cmml"><msub id="S6.p2.2.m2.1.1.3.2.2" xref="S6.p2.2.m2.1.1.3.2.2.cmml"><mi id="S6.p2.2.m2.1.1.3.2.2.2" xref="S6.p2.2.m2.1.1.3.2.2.2.cmml">P</mi><mtext id="S6.p2.2.m2.1.1.3.2.2.3" xref="S6.p2.2.m2.1.1.3.2.2.3a.cmml">m</mtext></msub><mo id="S6.p2.2.m2.1.1.3.2.1" xref="S6.p2.2.m2.1.1.3.2.1.cmml">−</mo><msub id="S6.p2.2.m2.1.1.3.2.3" xref="S6.p2.2.m2.1.1.3.2.3.cmml"><mi id="S6.p2.2.m2.1.1.3.2.3.2" xref="S6.p2.2.m2.1.1.3.2.3.2.cmml">P</mi><mtext id="S6.p2.2.m2.1.1.3.2.3.3" xref="S6.p2.2.m2.1.1.3.2.3.3a.cmml">s</mtext></msub></mrow><msub id="S6.p2.2.m2.1.1.3.3" xref="S6.p2.2.m2.1.1.3.3.cmml"><mi id="S6.p2.2.m2.1.1.3.3.2" xref="S6.p2.2.m2.1.1.3.3.2.cmml">P</mi><mtext id="S6.p2.2.m2.1.1.3.3.3" xref="S6.p2.2.m2.1.1.3.3.3a.cmml">s</mtext></msub></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S6.p2.2.m2.1b"><apply id="S6.p2.2.m2.1.1.cmml" xref="S6.p2.2.m2.1.1"><eq id="S6.p2.2.m2.1.1.1.cmml" xref="S6.p2.2.m2.1.1.1"></eq><ci id="S6.p2.2.m2.1.1.2.cmml" xref="S6.p2.2.m2.1.1.2">𝜂</ci><apply id="S6.p2.2.m2.1.1.3.cmml" xref="S6.p2.2.m2.1.1.3"><divide id="S6.p2.2.m2.1.1.3.1.cmml" xref="S6.p2.2.m2.1.1.3"></divide><apply id="S6.p2.2.m2.1.1.3.2.cmml" xref="S6.p2.2.m2.1.1.3.2"><minus id="S6.p2.2.m2.1.1.3.2.1.cmml" xref="S6.p2.2.m2.1.1.3.2.1"></minus><apply id="S6.p2.2.m2.1.1.3.2.2.cmml" xref="S6.p2.2.m2.1.1.3.2.2"><csymbol cd="ambiguous" id="S6.p2.2.m2.1.1.3.2.2.1.cmml" xref="S6.p2.2.m2.1.1.3.2.2">subscript</csymbol><ci id="S6.p2.2.m2.1.1.3.2.2.2.cmml" xref="S6.p2.2.m2.1.1.3.2.2.2">𝑃</ci><ci id="S6.p2.2.m2.1.1.3.2.2.3a.cmml" xref="S6.p2.2.m2.1.1.3.2.2.3"><mtext mathsize="50%" id="S6.p2.2.m2.1.1.3.2.2.3.cmml" xref="S6.p2.2.m2.1.1.3.2.2.3">m</mtext></ci></apply><apply id="S6.p2.2.m2.1.1.3.2.3.cmml" xref="S6.p2.2.m2.1.1.3.2.3"><csymbol cd="ambiguous" id="S6.p2.2.m2.1.1.3.2.3.1.cmml" xref="S6.p2.2.m2.1.1.3.2.3">subscript</csymbol><ci id="S6.p2.2.m2.1.1.3.2.3.2.cmml" xref="S6.p2.2.m2.1.1.3.2.3.2">𝑃</ci><ci id="S6.p2.2.m2.1.1.3.2.3.3a.cmml" xref="S6.p2.2.m2.1.1.3.2.3.3"><mtext mathsize="50%" id="S6.p2.2.m2.1.1.3.2.3.3.cmml" xref="S6.p2.2.m2.1.1.3.2.3.3">s</mtext></ci></apply></apply><apply id="S6.p2.2.m2.1.1.3.3.cmml" xref="S6.p2.2.m2.1.1.3.3"><csymbol cd="ambiguous" id="S6.p2.2.m2.1.1.3.3.1.cmml" xref="S6.p2.2.m2.1.1.3.3">subscript</csymbol><ci id="S6.p2.2.m2.1.1.3.3.2.cmml" xref="S6.p2.2.m2.1.1.3.3.2">𝑃</ci><ci id="S6.p2.2.m2.1.1.3.3.3a.cmml" xref="S6.p2.2.m2.1.1.3.3.3"><mtext mathsize="50%" id="S6.p2.2.m2.1.1.3.3.3.cmml" xref="S6.p2.2.m2.1.1.3.3.3">s</mtext></ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p2.2.m2.1c">\eta=\frac{P_{\text{m}}-P_{\text{s}}}{P_{\text{s}}}</annotation></semantics></math> where <math id="S6.p2.3.m3.1" class="ltx_Math" alttext="P_{\text{m}}" display="inline"><semantics id="S6.p2.3.m3.1a"><msub id="S6.p2.3.m3.1.1" xref="S6.p2.3.m3.1.1.cmml"><mi id="S6.p2.3.m3.1.1.2" xref="S6.p2.3.m3.1.1.2.cmml">P</mi><mtext id="S6.p2.3.m3.1.1.3" xref="S6.p2.3.m3.1.1.3a.cmml">m</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.p2.3.m3.1b"><apply id="S6.p2.3.m3.1.1.cmml" xref="S6.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S6.p2.3.m3.1.1.1.cmml" xref="S6.p2.3.m3.1.1">subscript</csymbol><ci id="S6.p2.3.m3.1.1.2.cmml" xref="S6.p2.3.m3.1.1.2">𝑃</ci><ci id="S6.p2.3.m3.1.1.3a.cmml" xref="S6.p2.3.m3.1.1.3"><mtext mathsize="70%" id="S6.p2.3.m3.1.1.3.cmml" xref="S6.p2.3.m3.1.1.3">m</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p2.3.m3.1c">P_{\text{m}}</annotation></semantics></math> and <math id="S6.p2.4.m4.1" class="ltx_Math" alttext="P_{\text{s}}" display="inline"><semantics id="S6.p2.4.m4.1a"><msub id="S6.p2.4.m4.1.1" xref="S6.p2.4.m4.1.1.cmml"><mi id="S6.p2.4.m4.1.1.2" xref="S6.p2.4.m4.1.1.2.cmml">P</mi><mtext id="S6.p2.4.m4.1.1.3" xref="S6.p2.4.m4.1.1.3a.cmml">s</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.p2.4.m4.1b"><apply id="S6.p2.4.m4.1.1.cmml" xref="S6.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S6.p2.4.m4.1.1.1.cmml" xref="S6.p2.4.m4.1.1">subscript</csymbol><ci id="S6.p2.4.m4.1.1.2.cmml" xref="S6.p2.4.m4.1.1.2">𝑃</ci><ci id="S6.p2.4.m4.1.1.3a.cmml" xref="S6.p2.4.m4.1.1.3"><mtext mathsize="70%" id="S6.p2.4.m4.1.1.3.cmml" xref="S6.p2.4.m4.1.1.3">s</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p2.4.m4.1c">P_{\text{s}}</annotation></semantics></math> are the performances (accuracy) with our method and a single LLM query, respectively.
The results are shown in Table <a href="#S6.T5" title="Table 5 ‣ 6 Understanding the Performance Gains ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
<figure id="S6.T5" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 5: </span>The relative performance gain (<math id="S6.T5.2.m1.1" class="ltx_Math" alttext="\%" display="inline"><semantics id="S6.T5.2.m1.1b"><mo id="S6.T5.2.m1.1.1" xref="S6.T5.2.m1.1.1.cmml">%</mo><annotation-xml encoding="MathML-Content" id="S6.T5.2.m1.1c"><csymbol cd="latexml" id="S6.T5.2.m1.1.1.cmml" xref="S6.T5.2.m1.1.1">percent</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.2.m1.1d">\%</annotation></semantics></math>) becomes more significant when the relative difficulty between the LLM and the task increases. It is calculated based on Table <a href="#S5.T2" title="Table 2 ‣ 5 Experimental Results ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.</figcaption>
<div id="S6.T5.4" class="ltx_logical-block ltx_pruned_first">
<div id="S6.T5.4.p2" class="ltx_para ltx_noindent ltx_align_center">
<div id="S6.T5.4.p2.1" class="ltx_inline-block ltx_transformed_outer" style="width:265.8pt;height:54pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<p id="S6.T5.4.p2.1.1" class="ltx_p"><span id="S6.T5.4.p2.1.1.1" class="ltx_text" style="font-size:90%;">
<span id="S6.T5.4.p2.1.1.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<span class="ltx_thead">
<span id="S6.T5.4.p2.1.1.1.1.1.1" class="ltx_tr">
<span id="S6.T5.4.p2.1.1.1.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt"><span id="S6.T5.4.p2.1.1.1.1.1.1.1.1" class="ltx_text ltx_font_bold">Task</span></span>
<span id="S6.T5.4.p2.1.1.1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S6.T5.4.p2.1.1.1.1.1.1.2.1" class="ltx_text ltx_font_bold">Llama2-13B</span></span>
<span id="S6.T5.4.p2.1.1.1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S6.T5.4.p2.1.1.1.1.1.1.3.1" class="ltx_text ltx_font_bold">Llama2-70B</span></span>
<span id="S6.T5.4.p2.1.1.1.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S6.T5.4.p2.1.1.1.1.1.1.4.1" class="ltx_text ltx_font_bold">GPT-3.5-Turbo</span></span></span>
</span>
<span class="ltx_tbody">
<span id="S6.T5.4.p2.1.1.1.1.2.1" class="ltx_tr">
<span id="S6.T5.4.p2.1.1.1.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">GSM8K (easy)</span>
<span id="S6.T5.4.p2.1.1.1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t">69</span>
<span id="S6.T5.4.p2.1.1.1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t">37</span>
<span id="S6.T5.4.p2.1.1.1.1.2.1.4" class="ltx_td ltx_align_center ltx_border_t">16</span></span>
<span id="S6.T5.4.p2.1.1.1.1.3.2" class="ltx_tr">
<span id="S6.T5.4.p2.1.1.1.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">MATH (hard)</span>
<span id="S6.T5.4.p2.1.1.1.1.3.2.2" class="ltx_td ltx_align_center ltx_border_bb">200</span>
<span id="S6.T5.4.p2.1.1.1.1.3.2.3" class="ltx_td ltx_align_center ltx_border_bb">120</span>
<span id="S6.T5.4.p2.1.1.1.1.3.2.4" class="ltx_td ltx_align_center ltx_border_bb">34</span></span>
</span>
</span></span></p>
</span></div>
</div>
</div>
</figure>
<div id="S6.p3" class="ltx_para">
<p id="S6.p3.8" class="ltx_p">It is noteworthy that the relative performance gain is more substantial with increasing task difficulty. Specifically, we observe that within the same task, the smaller model, Llama2-13B, gains ranging from <math id="S6.p3.1.m1.1" class="ltx_Math" alttext="28\%" display="inline"><semantics id="S6.p3.1.m1.1a"><mrow id="S6.p3.1.m1.1.1" xref="S6.p3.1.m1.1.1.cmml"><mn id="S6.p3.1.m1.1.1.2" xref="S6.p3.1.m1.1.1.2.cmml">28</mn><mo id="S6.p3.1.m1.1.1.1" xref="S6.p3.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.1.m1.1b"><apply id="S6.p3.1.m1.1.1.cmml" xref="S6.p3.1.m1.1.1"><csymbol cd="latexml" id="S6.p3.1.m1.1.1.1.cmml" xref="S6.p3.1.m1.1.1.1">percent</csymbol><cn type="integer" id="S6.p3.1.m1.1.1.2.cmml" xref="S6.p3.1.m1.1.1.2">28</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.1.m1.1c">28\%</annotation></semantics></math>-<math id="S6.p3.2.m2.1" class="ltx_Math" alttext="200\%" display="inline"><semantics id="S6.p3.2.m2.1a"><mrow id="S6.p3.2.m2.1.1" xref="S6.p3.2.m2.1.1.cmml"><mn id="S6.p3.2.m2.1.1.2" xref="S6.p3.2.m2.1.1.2.cmml">200</mn><mo id="S6.p3.2.m2.1.1.1" xref="S6.p3.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.2.m2.1b"><apply id="S6.p3.2.m2.1.1.cmml" xref="S6.p3.2.m2.1.1"><csymbol cd="latexml" id="S6.p3.2.m2.1.1.1.cmml" xref="S6.p3.2.m2.1.1.1">percent</csymbol><cn type="integer" id="S6.p3.2.m2.1.1.2.cmml" xref="S6.p3.2.m2.1.1.2">200</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.2.m2.1c">200\%</annotation></semantics></math>, but only <math id="S6.p3.3.m3.1" class="ltx_Math" alttext="8\%" display="inline"><semantics id="S6.p3.3.m3.1a"><mrow id="S6.p3.3.m3.1.1" xref="S6.p3.3.m3.1.1.cmml"><mn id="S6.p3.3.m3.1.1.2" xref="S6.p3.3.m3.1.1.2.cmml">8</mn><mo id="S6.p3.3.m3.1.1.1" xref="S6.p3.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.3.m3.1b"><apply id="S6.p3.3.m3.1.1.cmml" xref="S6.p3.3.m3.1.1"><csymbol cd="latexml" id="S6.p3.3.m3.1.1.1.cmml" xref="S6.p3.3.m3.1.1.1">percent</csymbol><cn type="integer" id="S6.p3.3.m3.1.1.2.cmml" xref="S6.p3.3.m3.1.1.2">8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.3.m3.1c">8\%</annotation></semantics></math>-<math id="S6.p3.4.m4.1" class="ltx_Math" alttext="16\%" display="inline"><semantics id="S6.p3.4.m4.1a"><mrow id="S6.p3.4.m4.1.1" xref="S6.p3.4.m4.1.1.cmml"><mn id="S6.p3.4.m4.1.1.2" xref="S6.p3.4.m4.1.1.2.cmml">16</mn><mo id="S6.p3.4.m4.1.1.1" xref="S6.p3.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.4.m4.1b"><apply id="S6.p3.4.m4.1.1.cmml" xref="S6.p3.4.m4.1.1"><csymbol cd="latexml" id="S6.p3.4.m4.1.1.1.cmml" xref="S6.p3.4.m4.1.1.1">percent</csymbol><cn type="integer" id="S6.p3.4.m4.1.1.2.cmml" xref="S6.p3.4.m4.1.1.2">16</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.4.m4.1c">16\%</annotation></semantics></math> over GPT-3.5-Turbo. Moreover, the more challenging task MATH yields gains of <math id="S6.p3.5.m5.1" class="ltx_Math" alttext="34\%" display="inline"><semantics id="S6.p3.5.m5.1a"><mrow id="S6.p3.5.m5.1.1" xref="S6.p3.5.m5.1.1.cmml"><mn id="S6.p3.5.m5.1.1.2" xref="S6.p3.5.m5.1.1.2.cmml">34</mn><mo id="S6.p3.5.m5.1.1.1" xref="S6.p3.5.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.5.m5.1b"><apply id="S6.p3.5.m5.1.1.cmml" xref="S6.p3.5.m5.1.1"><csymbol cd="latexml" id="S6.p3.5.m5.1.1.1.cmml" xref="S6.p3.5.m5.1.1.1">percent</csymbol><cn type="integer" id="S6.p3.5.m5.1.1.2.cmml" xref="S6.p3.5.m5.1.1.2">34</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.5.m5.1c">34\%</annotation></semantics></math>-<math id="S6.p3.6.m6.1" class="ltx_Math" alttext="200\%" display="inline"><semantics id="S6.p3.6.m6.1a"><mrow id="S6.p3.6.m6.1.1" xref="S6.p3.6.m6.1.1.cmml"><mn id="S6.p3.6.m6.1.1.2" xref="S6.p3.6.m6.1.1.2.cmml">200</mn><mo id="S6.p3.6.m6.1.1.1" xref="S6.p3.6.m6.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.6.m6.1b"><apply id="S6.p3.6.m6.1.1.cmml" xref="S6.p3.6.m6.1.1"><csymbol cd="latexml" id="S6.p3.6.m6.1.1.1.cmml" xref="S6.p3.6.m6.1.1.1">percent</csymbol><cn type="integer" id="S6.p3.6.m6.1.1.2.cmml" xref="S6.p3.6.m6.1.1.2">200</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.6.m6.1c">200\%</annotation></semantics></math>, in contrast to only <math id="S6.p3.7.m7.1" class="ltx_Math" alttext="16\%" display="inline"><semantics id="S6.p3.7.m7.1a"><mrow id="S6.p3.7.m7.1.1" xref="S6.p3.7.m7.1.1.cmml"><mn id="S6.p3.7.m7.1.1.2" xref="S6.p3.7.m7.1.1.2.cmml">16</mn><mo id="S6.p3.7.m7.1.1.1" xref="S6.p3.7.m7.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.7.m7.1b"><apply id="S6.p3.7.m7.1.1.cmml" xref="S6.p3.7.m7.1.1"><csymbol cd="latexml" id="S6.p3.7.m7.1.1.1.cmml" xref="S6.p3.7.m7.1.1.1">percent</csymbol><cn type="integer" id="S6.p3.7.m7.1.1.2.cmml" xref="S6.p3.7.m7.1.1.2">16</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.7.m7.1c">16\%</annotation></semantics></math>-<math id="S6.p3.8.m8.1" class="ltx_Math" alttext="69\%" display="inline"><semantics id="S6.p3.8.m8.1a"><mrow id="S6.p3.8.m8.1.1" xref="S6.p3.8.m8.1.1.cmml"><mn id="S6.p3.8.m8.1.1.2" xref="S6.p3.8.m8.1.1.2.cmml">69</mn><mo id="S6.p3.8.m8.1.1.1" xref="S6.p3.8.m8.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.8.m8.1b"><apply id="S6.p3.8.m8.1.1.cmml" xref="S6.p3.8.m8.1.1"><csymbol cd="latexml" id="S6.p3.8.m8.1.1.1.cmml" xref="S6.p3.8.m8.1.1.1">percent</csymbol><cn type="integer" id="S6.p3.8.m8.1.1.2.cmml" xref="S6.p3.8.m8.1.1.2">69</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.8.m8.1c">69\%</annotation></semantics></math> on the easier task GSM8K.</p>
</div>
<figure id="S6.F5" class="ltx_figure"><img src="/html/2402.05120/assets/x3.png" id="S6.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="369" height="240" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Illustration of three dimensions for a given task. Nodes represent steps, while dashed lines indicate alternative potential steps. The depth of nodes represents the number of steps, and the color intensity represents the level of inherent difficulty.</figcaption>
</figure>
<div id="S6.p4" class="ltx_para">
<p id="S6.p4.1" class="ltx_p">To further analyze this correlation in detail, we categorize the difficulty of a given task into three orthogonal dimensions: 1) the inherent difficulty of the task; 2) the number of steps required to solve the task; 3) the prior probability of the correct answer.
To investigate these dimensions, we conduct experiments that can isolate each dimension. And then, we delve into each dimension in detail.</p>
</div>
<section id="S6.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1 </span>Isolation</h3>

<div id="S6.SS1.p1" class="ltx_para">
<p id="S6.SS1.p1.1" class="ltx_p">To explicitly explore the impact of these dimensions, we conduct a mathematical task designed to isolate each one. Consider the task detailed below:</p>
<table id="S6.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S6.E1.m1.1" class="ltx_Math" alttext="\text{Find the interval }\Delta_{k}\text{ such that }\sum_{i=1}^{S}a_{i}\cdot b_{i}\in\Delta_{k}," display="block"><semantics id="S6.E1.m1.1a"><mrow id="S6.E1.m1.1.1.1" xref="S6.E1.m1.1.1.1.1.cmml"><mrow id="S6.E1.m1.1.1.1.1" xref="S6.E1.m1.1.1.1.1.cmml"><mrow id="S6.E1.m1.1.1.1.1.2" xref="S6.E1.m1.1.1.1.1.2.cmml"><mtext id="S6.E1.m1.1.1.1.1.2.2" xref="S6.E1.m1.1.1.1.1.2.2a.cmml">Find the interval&nbsp;</mtext><mo lspace="0em" rspace="0em" id="S6.E1.m1.1.1.1.1.2.1" xref="S6.E1.m1.1.1.1.1.2.1.cmml">​</mo><msub id="S6.E1.m1.1.1.1.1.2.3" xref="S6.E1.m1.1.1.1.1.2.3.cmml"><mi mathvariant="normal" id="S6.E1.m1.1.1.1.1.2.3.2" xref="S6.E1.m1.1.1.1.1.2.3.2.cmml">Δ</mi><mi id="S6.E1.m1.1.1.1.1.2.3.3" xref="S6.E1.m1.1.1.1.1.2.3.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S6.E1.m1.1.1.1.1.2.1a" xref="S6.E1.m1.1.1.1.1.2.1.cmml">​</mo><mtext id="S6.E1.m1.1.1.1.1.2.4" xref="S6.E1.m1.1.1.1.1.2.4a.cmml">&nbsp;such that&nbsp;</mtext><mo lspace="0em" rspace="0em" id="S6.E1.m1.1.1.1.1.2.1b" xref="S6.E1.m1.1.1.1.1.2.1.cmml">​</mo><mrow id="S6.E1.m1.1.1.1.1.2.5" xref="S6.E1.m1.1.1.1.1.2.5.cmml"><munderover id="S6.E1.m1.1.1.1.1.2.5.1" xref="S6.E1.m1.1.1.1.1.2.5.1.cmml"><mo movablelimits="false" id="S6.E1.m1.1.1.1.1.2.5.1.2.2" xref="S6.E1.m1.1.1.1.1.2.5.1.2.2.cmml">∑</mo><mrow id="S6.E1.m1.1.1.1.1.2.5.1.2.3" xref="S6.E1.m1.1.1.1.1.2.5.1.2.3.cmml"><mi id="S6.E1.m1.1.1.1.1.2.5.1.2.3.2" xref="S6.E1.m1.1.1.1.1.2.5.1.2.3.2.cmml">i</mi><mo id="S6.E1.m1.1.1.1.1.2.5.1.2.3.1" xref="S6.E1.m1.1.1.1.1.2.5.1.2.3.1.cmml">=</mo><mn id="S6.E1.m1.1.1.1.1.2.5.1.2.3.3" xref="S6.E1.m1.1.1.1.1.2.5.1.2.3.3.cmml">1</mn></mrow><mi id="S6.E1.m1.1.1.1.1.2.5.1.3" xref="S6.E1.m1.1.1.1.1.2.5.1.3.cmml">S</mi></munderover><mrow id="S6.E1.m1.1.1.1.1.2.5.2" xref="S6.E1.m1.1.1.1.1.2.5.2.cmml"><msub id="S6.E1.m1.1.1.1.1.2.5.2.2" xref="S6.E1.m1.1.1.1.1.2.5.2.2.cmml"><mi id="S6.E1.m1.1.1.1.1.2.5.2.2.2" xref="S6.E1.m1.1.1.1.1.2.5.2.2.2.cmml">a</mi><mi id="S6.E1.m1.1.1.1.1.2.5.2.2.3" xref="S6.E1.m1.1.1.1.1.2.5.2.2.3.cmml">i</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S6.E1.m1.1.1.1.1.2.5.2.1" xref="S6.E1.m1.1.1.1.1.2.5.2.1.cmml">⋅</mo><msub id="S6.E1.m1.1.1.1.1.2.5.2.3" xref="S6.E1.m1.1.1.1.1.2.5.2.3.cmml"><mi id="S6.E1.m1.1.1.1.1.2.5.2.3.2" xref="S6.E1.m1.1.1.1.1.2.5.2.3.2.cmml">b</mi><mi id="S6.E1.m1.1.1.1.1.2.5.2.3.3" xref="S6.E1.m1.1.1.1.1.2.5.2.3.3.cmml">i</mi></msub></mrow></mrow></mrow><mo id="S6.E1.m1.1.1.1.1.1" xref="S6.E1.m1.1.1.1.1.1.cmml">∈</mo><msub id="S6.E1.m1.1.1.1.1.3" xref="S6.E1.m1.1.1.1.1.3.cmml"><mi mathvariant="normal" id="S6.E1.m1.1.1.1.1.3.2" xref="S6.E1.m1.1.1.1.1.3.2.cmml">Δ</mi><mi id="S6.E1.m1.1.1.1.1.3.3" xref="S6.E1.m1.1.1.1.1.3.3.cmml">k</mi></msub></mrow><mo id="S6.E1.m1.1.1.1.2" xref="S6.E1.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.E1.m1.1b"><apply id="S6.E1.m1.1.1.1.1.cmml" xref="S6.E1.m1.1.1.1"><in id="S6.E1.m1.1.1.1.1.1.cmml" xref="S6.E1.m1.1.1.1.1.1"></in><apply id="S6.E1.m1.1.1.1.1.2.cmml" xref="S6.E1.m1.1.1.1.1.2"><times id="S6.E1.m1.1.1.1.1.2.1.cmml" xref="S6.E1.m1.1.1.1.1.2.1"></times><ci id="S6.E1.m1.1.1.1.1.2.2a.cmml" xref="S6.E1.m1.1.1.1.1.2.2"><mtext id="S6.E1.m1.1.1.1.1.2.2.cmml" xref="S6.E1.m1.1.1.1.1.2.2">Find the interval&nbsp;</mtext></ci><apply id="S6.E1.m1.1.1.1.1.2.3.cmml" xref="S6.E1.m1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S6.E1.m1.1.1.1.1.2.3.1.cmml" xref="S6.E1.m1.1.1.1.1.2.3">subscript</csymbol><ci id="S6.E1.m1.1.1.1.1.2.3.2.cmml" xref="S6.E1.m1.1.1.1.1.2.3.2">Δ</ci><ci id="S6.E1.m1.1.1.1.1.2.3.3.cmml" xref="S6.E1.m1.1.1.1.1.2.3.3">𝑘</ci></apply><ci id="S6.E1.m1.1.1.1.1.2.4a.cmml" xref="S6.E1.m1.1.1.1.1.2.4"><mtext id="S6.E1.m1.1.1.1.1.2.4.cmml" xref="S6.E1.m1.1.1.1.1.2.4">&nbsp;such that&nbsp;</mtext></ci><apply id="S6.E1.m1.1.1.1.1.2.5.cmml" xref="S6.E1.m1.1.1.1.1.2.5"><apply id="S6.E1.m1.1.1.1.1.2.5.1.cmml" xref="S6.E1.m1.1.1.1.1.2.5.1"><csymbol cd="ambiguous" id="S6.E1.m1.1.1.1.1.2.5.1.1.cmml" xref="S6.E1.m1.1.1.1.1.2.5.1">superscript</csymbol><apply id="S6.E1.m1.1.1.1.1.2.5.1.2.cmml" xref="S6.E1.m1.1.1.1.1.2.5.1"><csymbol cd="ambiguous" id="S6.E1.m1.1.1.1.1.2.5.1.2.1.cmml" xref="S6.E1.m1.1.1.1.1.2.5.1">subscript</csymbol><sum id="S6.E1.m1.1.1.1.1.2.5.1.2.2.cmml" xref="S6.E1.m1.1.1.1.1.2.5.1.2.2"></sum><apply id="S6.E1.m1.1.1.1.1.2.5.1.2.3.cmml" xref="S6.E1.m1.1.1.1.1.2.5.1.2.3"><eq id="S6.E1.m1.1.1.1.1.2.5.1.2.3.1.cmml" xref="S6.E1.m1.1.1.1.1.2.5.1.2.3.1"></eq><ci id="S6.E1.m1.1.1.1.1.2.5.1.2.3.2.cmml" xref="S6.E1.m1.1.1.1.1.2.5.1.2.3.2">𝑖</ci><cn type="integer" id="S6.E1.m1.1.1.1.1.2.5.1.2.3.3.cmml" xref="S6.E1.m1.1.1.1.1.2.5.1.2.3.3">1</cn></apply></apply><ci id="S6.E1.m1.1.1.1.1.2.5.1.3.cmml" xref="S6.E1.m1.1.1.1.1.2.5.1.3">𝑆</ci></apply><apply id="S6.E1.m1.1.1.1.1.2.5.2.cmml" xref="S6.E1.m1.1.1.1.1.2.5.2"><ci id="S6.E1.m1.1.1.1.1.2.5.2.1.cmml" xref="S6.E1.m1.1.1.1.1.2.5.2.1">⋅</ci><apply id="S6.E1.m1.1.1.1.1.2.5.2.2.cmml" xref="S6.E1.m1.1.1.1.1.2.5.2.2"><csymbol cd="ambiguous" id="S6.E1.m1.1.1.1.1.2.5.2.2.1.cmml" xref="S6.E1.m1.1.1.1.1.2.5.2.2">subscript</csymbol><ci id="S6.E1.m1.1.1.1.1.2.5.2.2.2.cmml" xref="S6.E1.m1.1.1.1.1.2.5.2.2.2">𝑎</ci><ci id="S6.E1.m1.1.1.1.1.2.5.2.2.3.cmml" xref="S6.E1.m1.1.1.1.1.2.5.2.2.3">𝑖</ci></apply><apply id="S6.E1.m1.1.1.1.1.2.5.2.3.cmml" xref="S6.E1.m1.1.1.1.1.2.5.2.3"><csymbol cd="ambiguous" id="S6.E1.m1.1.1.1.1.2.5.2.3.1.cmml" xref="S6.E1.m1.1.1.1.1.2.5.2.3">subscript</csymbol><ci id="S6.E1.m1.1.1.1.1.2.5.2.3.2.cmml" xref="S6.E1.m1.1.1.1.1.2.5.2.3.2">𝑏</ci><ci id="S6.E1.m1.1.1.1.1.2.5.2.3.3.cmml" xref="S6.E1.m1.1.1.1.1.2.5.2.3.3">𝑖</ci></apply></apply></apply></apply><apply id="S6.E1.m1.1.1.1.1.3.cmml" xref="S6.E1.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S6.E1.m1.1.1.1.1.3.1.cmml" xref="S6.E1.m1.1.1.1.1.3">subscript</csymbol><ci id="S6.E1.m1.1.1.1.1.3.2.cmml" xref="S6.E1.m1.1.1.1.1.3.2">Δ</ci><ci id="S6.E1.m1.1.1.1.1.3.3.cmml" xref="S6.E1.m1.1.1.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.E1.m1.1c">\text{Find the interval }\Delta_{k}\text{ such that }\sum_{i=1}^{S}a_{i}\cdot b_{i}\in\Delta_{k},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S6.SS1.p1.2" class="ltx_p">where:</p>
<ul id="S6.I1" class="ltx_itemize">
<li id="S6.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I1.i1.p1" class="ltx_para">
<p id="S6.I1.i1.p1.5" class="ltx_p"><math id="S6.I1.i1.p1.1.m1.2" class="ltx_Math" alttext="a_{i},b_{i}" display="inline"><semantics id="S6.I1.i1.p1.1.m1.2a"><mrow id="S6.I1.i1.p1.1.m1.2.2.2" xref="S6.I1.i1.p1.1.m1.2.2.3.cmml"><msub id="S6.I1.i1.p1.1.m1.1.1.1.1" xref="S6.I1.i1.p1.1.m1.1.1.1.1.cmml"><mi id="S6.I1.i1.p1.1.m1.1.1.1.1.2" xref="S6.I1.i1.p1.1.m1.1.1.1.1.2.cmml">a</mi><mi id="S6.I1.i1.p1.1.m1.1.1.1.1.3" xref="S6.I1.i1.p1.1.m1.1.1.1.1.3.cmml">i</mi></msub><mo id="S6.I1.i1.p1.1.m1.2.2.2.3" xref="S6.I1.i1.p1.1.m1.2.2.3.cmml">,</mo><msub id="S6.I1.i1.p1.1.m1.2.2.2.2" xref="S6.I1.i1.p1.1.m1.2.2.2.2.cmml"><mi id="S6.I1.i1.p1.1.m1.2.2.2.2.2" xref="S6.I1.i1.p1.1.m1.2.2.2.2.2.cmml">b</mi><mi id="S6.I1.i1.p1.1.m1.2.2.2.2.3" xref="S6.I1.i1.p1.1.m1.2.2.2.2.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S6.I1.i1.p1.1.m1.2b"><list id="S6.I1.i1.p1.1.m1.2.2.3.cmml" xref="S6.I1.i1.p1.1.m1.2.2.2"><apply id="S6.I1.i1.p1.1.m1.1.1.1.1.cmml" xref="S6.I1.i1.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S6.I1.i1.p1.1.m1.1.1.1.1.1.cmml" xref="S6.I1.i1.p1.1.m1.1.1.1.1">subscript</csymbol><ci id="S6.I1.i1.p1.1.m1.1.1.1.1.2.cmml" xref="S6.I1.i1.p1.1.m1.1.1.1.1.2">𝑎</ci><ci id="S6.I1.i1.p1.1.m1.1.1.1.1.3.cmml" xref="S6.I1.i1.p1.1.m1.1.1.1.1.3">𝑖</ci></apply><apply id="S6.I1.i1.p1.1.m1.2.2.2.2.cmml" xref="S6.I1.i1.p1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S6.I1.i1.p1.1.m1.2.2.2.2.1.cmml" xref="S6.I1.i1.p1.1.m1.2.2.2.2">subscript</csymbol><ci id="S6.I1.i1.p1.1.m1.2.2.2.2.2.cmml" xref="S6.I1.i1.p1.1.m1.2.2.2.2.2">𝑏</ci><ci id="S6.I1.i1.p1.1.m1.2.2.2.2.3.cmml" xref="S6.I1.i1.p1.1.m1.2.2.2.2.3">𝑖</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i1.p1.1.m1.2c">a_{i},b_{i}</annotation></semantics></math> are randomly chosen integers from the closed interval <math id="S6.I1.i1.p1.2.m2.2" class="ltx_Math" alttext="[-I,I]" display="inline"><semantics id="S6.I1.i1.p1.2.m2.2a"><mrow id="S6.I1.i1.p1.2.m2.2.2.1" xref="S6.I1.i1.p1.2.m2.2.2.2.cmml"><mo stretchy="false" id="S6.I1.i1.p1.2.m2.2.2.1.2" xref="S6.I1.i1.p1.2.m2.2.2.2.cmml">[</mo><mrow id="S6.I1.i1.p1.2.m2.2.2.1.1" xref="S6.I1.i1.p1.2.m2.2.2.1.1.cmml"><mo id="S6.I1.i1.p1.2.m2.2.2.1.1a" xref="S6.I1.i1.p1.2.m2.2.2.1.1.cmml">−</mo><mi id="S6.I1.i1.p1.2.m2.2.2.1.1.2" xref="S6.I1.i1.p1.2.m2.2.2.1.1.2.cmml">I</mi></mrow><mo id="S6.I1.i1.p1.2.m2.2.2.1.3" xref="S6.I1.i1.p1.2.m2.2.2.2.cmml">,</mo><mi id="S6.I1.i1.p1.2.m2.1.1" xref="S6.I1.i1.p1.2.m2.1.1.cmml">I</mi><mo stretchy="false" id="S6.I1.i1.p1.2.m2.2.2.1.4" xref="S6.I1.i1.p1.2.m2.2.2.2.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.I1.i1.p1.2.m2.2b"><interval closure="closed" id="S6.I1.i1.p1.2.m2.2.2.2.cmml" xref="S6.I1.i1.p1.2.m2.2.2.1"><apply id="S6.I1.i1.p1.2.m2.2.2.1.1.cmml" xref="S6.I1.i1.p1.2.m2.2.2.1.1"><minus id="S6.I1.i1.p1.2.m2.2.2.1.1.1.cmml" xref="S6.I1.i1.p1.2.m2.2.2.1.1"></minus><ci id="S6.I1.i1.p1.2.m2.2.2.1.1.2.cmml" xref="S6.I1.i1.p1.2.m2.2.2.1.1.2">𝐼</ci></apply><ci id="S6.I1.i1.p1.2.m2.1.1.cmml" xref="S6.I1.i1.p1.2.m2.1.1">𝐼</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i1.p1.2.m2.2c">[-I,I]</annotation></semantics></math>. <math id="S6.I1.i1.p1.3.m3.1" class="ltx_Math" alttext="I\in\mathbb{Z}^{+}" display="inline"><semantics id="S6.I1.i1.p1.3.m3.1a"><mrow id="S6.I1.i1.p1.3.m3.1.1" xref="S6.I1.i1.p1.3.m3.1.1.cmml"><mi id="S6.I1.i1.p1.3.m3.1.1.2" xref="S6.I1.i1.p1.3.m3.1.1.2.cmml">I</mi><mo id="S6.I1.i1.p1.3.m3.1.1.1" xref="S6.I1.i1.p1.3.m3.1.1.1.cmml">∈</mo><msup id="S6.I1.i1.p1.3.m3.1.1.3" xref="S6.I1.i1.p1.3.m3.1.1.3.cmml"><mi id="S6.I1.i1.p1.3.m3.1.1.3.2" xref="S6.I1.i1.p1.3.m3.1.1.3.2.cmml">ℤ</mi><mo id="S6.I1.i1.p1.3.m3.1.1.3.3" xref="S6.I1.i1.p1.3.m3.1.1.3.3.cmml">+</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="S6.I1.i1.p1.3.m3.1b"><apply id="S6.I1.i1.p1.3.m3.1.1.cmml" xref="S6.I1.i1.p1.3.m3.1.1"><in id="S6.I1.i1.p1.3.m3.1.1.1.cmml" xref="S6.I1.i1.p1.3.m3.1.1.1"></in><ci id="S6.I1.i1.p1.3.m3.1.1.2.cmml" xref="S6.I1.i1.p1.3.m3.1.1.2">𝐼</ci><apply id="S6.I1.i1.p1.3.m3.1.1.3.cmml" xref="S6.I1.i1.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="S6.I1.i1.p1.3.m3.1.1.3.1.cmml" xref="S6.I1.i1.p1.3.m3.1.1.3">superscript</csymbol><ci id="S6.I1.i1.p1.3.m3.1.1.3.2.cmml" xref="S6.I1.i1.p1.3.m3.1.1.3.2">ℤ</ci><plus id="S6.I1.i1.p1.3.m3.1.1.3.3.cmml" xref="S6.I1.i1.p1.3.m3.1.1.3.3"></plus></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i1.p1.3.m3.1c">I\in\mathbb{Z}^{+}</annotation></semantics></math> defines the range of integers. <math id="S6.I1.i1.p1.4.m4.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S6.I1.i1.p1.4.m4.1a"><mi id="S6.I1.i1.p1.4.m4.1.1" xref="S6.I1.i1.p1.4.m4.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S6.I1.i1.p1.4.m4.1b"><ci id="S6.I1.i1.p1.4.m4.1.1.cmml" xref="S6.I1.i1.p1.4.m4.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i1.p1.4.m4.1c">I</annotation></semantics></math> represents the <span id="S6.I1.i1.p1.5.1" class="ltx_text ltx_font_bold">inherent difficulty</span> of the question. A larger value of <math id="S6.I1.i1.p1.5.m5.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S6.I1.i1.p1.5.m5.1a"><mi id="S6.I1.i1.p1.5.m5.1.1" xref="S6.I1.i1.p1.5.m5.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S6.I1.i1.p1.5.m5.1b"><ci id="S6.I1.i1.p1.5.m5.1.1.cmml" xref="S6.I1.i1.p1.5.m5.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i1.p1.5.m5.1c">I</annotation></semantics></math> indicates a more challenging task.</p>
</div>
</li>
<li id="S6.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I1.i2.p1" class="ltx_para">
<p id="S6.I1.i2.p1.3" class="ltx_p"><math id="S6.I1.i2.p1.1.m1.1" class="ltx_Math" alttext="S\in\mathbb{Z}^{+}" display="inline"><semantics id="S6.I1.i2.p1.1.m1.1a"><mrow id="S6.I1.i2.p1.1.m1.1.1" xref="S6.I1.i2.p1.1.m1.1.1.cmml"><mi id="S6.I1.i2.p1.1.m1.1.1.2" xref="S6.I1.i2.p1.1.m1.1.1.2.cmml">S</mi><mo id="S6.I1.i2.p1.1.m1.1.1.1" xref="S6.I1.i2.p1.1.m1.1.1.1.cmml">∈</mo><msup id="S6.I1.i2.p1.1.m1.1.1.3" xref="S6.I1.i2.p1.1.m1.1.1.3.cmml"><mi id="S6.I1.i2.p1.1.m1.1.1.3.2" xref="S6.I1.i2.p1.1.m1.1.1.3.2.cmml">ℤ</mi><mo id="S6.I1.i2.p1.1.m1.1.1.3.3" xref="S6.I1.i2.p1.1.m1.1.1.3.3.cmml">+</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="S6.I1.i2.p1.1.m1.1b"><apply id="S6.I1.i2.p1.1.m1.1.1.cmml" xref="S6.I1.i2.p1.1.m1.1.1"><in id="S6.I1.i2.p1.1.m1.1.1.1.cmml" xref="S6.I1.i2.p1.1.m1.1.1.1"></in><ci id="S6.I1.i2.p1.1.m1.1.1.2.cmml" xref="S6.I1.i2.p1.1.m1.1.1.2">𝑆</ci><apply id="S6.I1.i2.p1.1.m1.1.1.3.cmml" xref="S6.I1.i2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S6.I1.i2.p1.1.m1.1.1.3.1.cmml" xref="S6.I1.i2.p1.1.m1.1.1.3">superscript</csymbol><ci id="S6.I1.i2.p1.1.m1.1.1.3.2.cmml" xref="S6.I1.i2.p1.1.m1.1.1.3.2">ℤ</ci><plus id="S6.I1.i2.p1.1.m1.1.1.3.3.cmml" xref="S6.I1.i2.p1.1.m1.1.1.3.3"></plus></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i2.p1.1.m1.1c">S\in\mathbb{Z}^{+}</annotation></semantics></math> is the number of terms in the summation. <math id="S6.I1.i2.p1.2.m2.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S6.I1.i2.p1.2.m2.1a"><mi id="S6.I1.i2.p1.2.m2.1.1" xref="S6.I1.i2.p1.2.m2.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S6.I1.i2.p1.2.m2.1b"><ci id="S6.I1.i2.p1.2.m2.1.1.cmml" xref="S6.I1.i2.p1.2.m2.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i2.p1.2.m2.1c">S</annotation></semantics></math> represents the <span id="S6.I1.i2.p1.3.1" class="ltx_text ltx_font_bold">number of steps</span> required to solve the problem. A larger value of <math id="S6.I1.i2.p1.3.m3.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S6.I1.i2.p1.3.m3.1a"><mi id="S6.I1.i2.p1.3.m3.1.1" xref="S6.I1.i2.p1.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S6.I1.i2.p1.3.m3.1b"><ci id="S6.I1.i2.p1.3.m3.1.1.cmml" xref="S6.I1.i2.p1.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i2.p1.3.m3.1c">S</annotation></semantics></math> indicates a more challenging task.</p>
</div>
</li>
<li id="S6.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I1.i3.p1" class="ltx_para">
<p id="S6.I1.i3.p1.4" class="ltx_p">The result space is partitioned into <math id="S6.I1.i3.p1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S6.I1.i3.p1.1.m1.1a"><mi id="S6.I1.i3.p1.1.m1.1.1" xref="S6.I1.i3.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S6.I1.i3.p1.1.m1.1b"><ci id="S6.I1.i3.p1.1.m1.1.1.cmml" xref="S6.I1.i3.p1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i3.p1.1.m1.1c">K</annotation></semantics></math> intervals <math id="S6.I1.i3.p1.2.m2.4" class="ltx_Math" alttext="\Delta_{1},\Delta_{2},\ldots,\Delta_{K}" display="inline"><semantics id="S6.I1.i3.p1.2.m2.4a"><mrow id="S6.I1.i3.p1.2.m2.4.4.3" xref="S6.I1.i3.p1.2.m2.4.4.4.cmml"><msub id="S6.I1.i3.p1.2.m2.2.2.1.1" xref="S6.I1.i3.p1.2.m2.2.2.1.1.cmml"><mi mathvariant="normal" id="S6.I1.i3.p1.2.m2.2.2.1.1.2" xref="S6.I1.i3.p1.2.m2.2.2.1.1.2.cmml">Δ</mi><mn id="S6.I1.i3.p1.2.m2.2.2.1.1.3" xref="S6.I1.i3.p1.2.m2.2.2.1.1.3.cmml">1</mn></msub><mo id="S6.I1.i3.p1.2.m2.4.4.3.4" xref="S6.I1.i3.p1.2.m2.4.4.4.cmml">,</mo><msub id="S6.I1.i3.p1.2.m2.3.3.2.2" xref="S6.I1.i3.p1.2.m2.3.3.2.2.cmml"><mi mathvariant="normal" id="S6.I1.i3.p1.2.m2.3.3.2.2.2" xref="S6.I1.i3.p1.2.m2.3.3.2.2.2.cmml">Δ</mi><mn id="S6.I1.i3.p1.2.m2.3.3.2.2.3" xref="S6.I1.i3.p1.2.m2.3.3.2.2.3.cmml">2</mn></msub><mo id="S6.I1.i3.p1.2.m2.4.4.3.5" xref="S6.I1.i3.p1.2.m2.4.4.4.cmml">,</mo><mi mathvariant="normal" id="S6.I1.i3.p1.2.m2.1.1" xref="S6.I1.i3.p1.2.m2.1.1.cmml">…</mi><mo id="S6.I1.i3.p1.2.m2.4.4.3.6" xref="S6.I1.i3.p1.2.m2.4.4.4.cmml">,</mo><msub id="S6.I1.i3.p1.2.m2.4.4.3.3" xref="S6.I1.i3.p1.2.m2.4.4.3.3.cmml"><mi mathvariant="normal" id="S6.I1.i3.p1.2.m2.4.4.3.3.2" xref="S6.I1.i3.p1.2.m2.4.4.3.3.2.cmml">Δ</mi><mi id="S6.I1.i3.p1.2.m2.4.4.3.3.3" xref="S6.I1.i3.p1.2.m2.4.4.3.3.3.cmml">K</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S6.I1.i3.p1.2.m2.4b"><list id="S6.I1.i3.p1.2.m2.4.4.4.cmml" xref="S6.I1.i3.p1.2.m2.4.4.3"><apply id="S6.I1.i3.p1.2.m2.2.2.1.1.cmml" xref="S6.I1.i3.p1.2.m2.2.2.1.1"><csymbol cd="ambiguous" id="S6.I1.i3.p1.2.m2.2.2.1.1.1.cmml" xref="S6.I1.i3.p1.2.m2.2.2.1.1">subscript</csymbol><ci id="S6.I1.i3.p1.2.m2.2.2.1.1.2.cmml" xref="S6.I1.i3.p1.2.m2.2.2.1.1.2">Δ</ci><cn type="integer" id="S6.I1.i3.p1.2.m2.2.2.1.1.3.cmml" xref="S6.I1.i3.p1.2.m2.2.2.1.1.3">1</cn></apply><apply id="S6.I1.i3.p1.2.m2.3.3.2.2.cmml" xref="S6.I1.i3.p1.2.m2.3.3.2.2"><csymbol cd="ambiguous" id="S6.I1.i3.p1.2.m2.3.3.2.2.1.cmml" xref="S6.I1.i3.p1.2.m2.3.3.2.2">subscript</csymbol><ci id="S6.I1.i3.p1.2.m2.3.3.2.2.2.cmml" xref="S6.I1.i3.p1.2.m2.3.3.2.2.2">Δ</ci><cn type="integer" id="S6.I1.i3.p1.2.m2.3.3.2.2.3.cmml" xref="S6.I1.i3.p1.2.m2.3.3.2.2.3">2</cn></apply><ci id="S6.I1.i3.p1.2.m2.1.1.cmml" xref="S6.I1.i3.p1.2.m2.1.1">…</ci><apply id="S6.I1.i3.p1.2.m2.4.4.3.3.cmml" xref="S6.I1.i3.p1.2.m2.4.4.3.3"><csymbol cd="ambiguous" id="S6.I1.i3.p1.2.m2.4.4.3.3.1.cmml" xref="S6.I1.i3.p1.2.m2.4.4.3.3">subscript</csymbol><ci id="S6.I1.i3.p1.2.m2.4.4.3.3.2.cmml" xref="S6.I1.i3.p1.2.m2.4.4.3.3.2">Δ</ci><ci id="S6.I1.i3.p1.2.m2.4.4.3.3.3.cmml" xref="S6.I1.i3.p1.2.m2.4.4.3.3.3">𝐾</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i3.p1.2.m2.4c">\Delta_{1},\Delta_{2},\ldots,\Delta_{K}</annotation></semantics></math> of equal probability. <math id="S6.I1.i3.p1.3.m3.1" class="ltx_Math" alttext="K\in\mathbb{Z}^{+}" display="inline"><semantics id="S6.I1.i3.p1.3.m3.1a"><mrow id="S6.I1.i3.p1.3.m3.1.1" xref="S6.I1.i3.p1.3.m3.1.1.cmml"><mi id="S6.I1.i3.p1.3.m3.1.1.2" xref="S6.I1.i3.p1.3.m3.1.1.2.cmml">K</mi><mo id="S6.I1.i3.p1.3.m3.1.1.1" xref="S6.I1.i3.p1.3.m3.1.1.1.cmml">∈</mo><msup id="S6.I1.i3.p1.3.m3.1.1.3" xref="S6.I1.i3.p1.3.m3.1.1.3.cmml"><mi id="S6.I1.i3.p1.3.m3.1.1.3.2" xref="S6.I1.i3.p1.3.m3.1.1.3.2.cmml">ℤ</mi><mo id="S6.I1.i3.p1.3.m3.1.1.3.3" xref="S6.I1.i3.p1.3.m3.1.1.3.3.cmml">+</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="S6.I1.i3.p1.3.m3.1b"><apply id="S6.I1.i3.p1.3.m3.1.1.cmml" xref="S6.I1.i3.p1.3.m3.1.1"><in id="S6.I1.i3.p1.3.m3.1.1.1.cmml" xref="S6.I1.i3.p1.3.m3.1.1.1"></in><ci id="S6.I1.i3.p1.3.m3.1.1.2.cmml" xref="S6.I1.i3.p1.3.m3.1.1.2">𝐾</ci><apply id="S6.I1.i3.p1.3.m3.1.1.3.cmml" xref="S6.I1.i3.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="S6.I1.i3.p1.3.m3.1.1.3.1.cmml" xref="S6.I1.i3.p1.3.m3.1.1.3">superscript</csymbol><ci id="S6.I1.i3.p1.3.m3.1.1.3.2.cmml" xref="S6.I1.i3.p1.3.m3.1.1.3.2">ℤ</ci><plus id="S6.I1.i3.p1.3.m3.1.1.3.3.cmml" xref="S6.I1.i3.p1.3.m3.1.1.3.3"></plus></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i3.p1.3.m3.1c">K\in\mathbb{Z}^{+}</annotation></semantics></math> denotes the number of these intervals. <math id="S6.I1.i3.p1.4.m4.1" class="ltx_Math" alttext="1/K" display="inline"><semantics id="S6.I1.i3.p1.4.m4.1a"><mrow id="S6.I1.i3.p1.4.m4.1.1" xref="S6.I1.i3.p1.4.m4.1.1.cmml"><mn id="S6.I1.i3.p1.4.m4.1.1.2" xref="S6.I1.i3.p1.4.m4.1.1.2.cmml">1</mn><mo id="S6.I1.i3.p1.4.m4.1.1.1" xref="S6.I1.i3.p1.4.m4.1.1.1.cmml">/</mo><mi id="S6.I1.i3.p1.4.m4.1.1.3" xref="S6.I1.i3.p1.4.m4.1.1.3.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="S6.I1.i3.p1.4.m4.1b"><apply id="S6.I1.i3.p1.4.m4.1.1.cmml" xref="S6.I1.i3.p1.4.m4.1.1"><divide id="S6.I1.i3.p1.4.m4.1.1.1.cmml" xref="S6.I1.i3.p1.4.m4.1.1.1"></divide><cn type="integer" id="S6.I1.i3.p1.4.m4.1.1.2.cmml" xref="S6.I1.i3.p1.4.m4.1.1.2">1</cn><ci id="S6.I1.i3.p1.4.m4.1.1.3.cmml" xref="S6.I1.i3.p1.4.m4.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i3.p1.4.m4.1c">1/K</annotation></semantics></math> represents the <span id="S6.I1.i3.p1.4.1" class="ltx_text ltx_font_bold">prior probability</span> of the correct answer. A lower prior probability indicates a more challenging task.</p>
</div>
</li>
</ul>
<p id="S6.SS1.p1.3" class="ltx_p">In the following experiments, we analyze each dimension respectively based on GPT-3.5-Turbo.
Note that we use GPT-3.5-Turbo for a case study, it can also be changed to other backbone models.
The relative performance gains are measured by the difference between the maximum accuracy our method can achieve (sampling 40 times) and the accuracy of a single LLM query (sample once). Results are averaged over 10 runs.
</p>
</div>
</section>
<section id="S6.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2 </span>Inherent Difficulty</h3>

<div id="S6.SS2.p1" class="ltx_para">
<p id="S6.SS2.p1.11" class="ltx_p"><span id="S6.SS2.p1.11.1" class="ltx_text ltx_font_typewriter">Property 1</span>: <span id="S6.SS2.p1.11.2" class="ltx_text ltx_font_italic">Gains increase then decrease by rising the inherent difficulty.</span> We investigate the inherent difficulty by varying <math id="S6.SS2.p1.1.m1.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S6.SS2.p1.1.m1.1a"><mi id="S6.SS2.p1.1.m1.1.1" xref="S6.SS2.p1.1.m1.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.1.m1.1b"><ci id="S6.SS2.p1.1.m1.1.1.cmml" xref="S6.SS2.p1.1.m1.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.1.m1.1c">I</annotation></semantics></math> from <math id="S6.SS2.p1.2.m2.1" class="ltx_Math" alttext="10" display="inline"><semantics id="S6.SS2.p1.2.m2.1a"><mn id="S6.SS2.p1.2.m2.1.1" xref="S6.SS2.p1.2.m2.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.2.m2.1b"><cn type="integer" id="S6.SS2.p1.2.m2.1.1.cmml" xref="S6.SS2.p1.2.m2.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.2.m2.1c">10</annotation></semantics></math> to <math id="S6.SS2.p1.3.m3.1" class="ltx_Math" alttext="400" display="inline"><semantics id="S6.SS2.p1.3.m3.1a"><mn id="S6.SS2.p1.3.m3.1.1" xref="S6.SS2.p1.3.m3.1.1.cmml">400</mn><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.3.m3.1b"><cn type="integer" id="S6.SS2.p1.3.m3.1.1.cmml" xref="S6.SS2.p1.3.m3.1.1">400</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.3.m3.1c">400</annotation></semantics></math>, while keeping the values of <math id="S6.SS2.p1.4.m4.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S6.SS2.p1.4.m4.1a"><mi id="S6.SS2.p1.4.m4.1.1" xref="S6.SS2.p1.4.m4.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.4.m4.1b"><ci id="S6.SS2.p1.4.m4.1.1.cmml" xref="S6.SS2.p1.4.m4.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.4.m4.1c">S</annotation></semantics></math> and <math id="S6.SS2.p1.5.m5.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S6.SS2.p1.5.m5.1a"><mi id="S6.SS2.p1.5.m5.1.1" xref="S6.SS2.p1.5.m5.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.5.m5.1b"><ci id="S6.SS2.p1.5.m5.1.1.cmml" xref="S6.SS2.p1.5.m5.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.5.m5.1c">K</annotation></semantics></math> constant across four groups of different values, from small to large, respectively. Figure <a href="#S6.F6" title="Figure 6 ‣ 6.2 Inherent Difficulty ‣ 6 Understanding the Performance Gains ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> (left) shows an initial uptick in performance gains with increases in <math id="S6.SS2.p1.6.m6.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S6.SS2.p1.6.m6.1a"><mi id="S6.SS2.p1.6.m6.1.1" xref="S6.SS2.p1.6.m6.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.6.m6.1b"><ci id="S6.SS2.p1.6.m6.1.1.cmml" xref="S6.SS2.p1.6.m6.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.6.m6.1c">I</annotation></semantics></math>, indicating that our method can significantly enhance performance in line with rising inherent difficulty. The most notable gains are seen at <math id="S6.SS2.p1.7.m7.1" class="ltx_Math" alttext="I=100" display="inline"><semantics id="S6.SS2.p1.7.m7.1a"><mrow id="S6.SS2.p1.7.m7.1.1" xref="S6.SS2.p1.7.m7.1.1.cmml"><mi id="S6.SS2.p1.7.m7.1.1.2" xref="S6.SS2.p1.7.m7.1.1.2.cmml">I</mi><mo id="S6.SS2.p1.7.m7.1.1.1" xref="S6.SS2.p1.7.m7.1.1.1.cmml">=</mo><mn id="S6.SS2.p1.7.m7.1.1.3" xref="S6.SS2.p1.7.m7.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.7.m7.1b"><apply id="S6.SS2.p1.7.m7.1.1.cmml" xref="S6.SS2.p1.7.m7.1.1"><eq id="S6.SS2.p1.7.m7.1.1.1.cmml" xref="S6.SS2.p1.7.m7.1.1.1"></eq><ci id="S6.SS2.p1.7.m7.1.1.2.cmml" xref="S6.SS2.p1.7.m7.1.1.2">𝐼</ci><cn type="integer" id="S6.SS2.p1.7.m7.1.1.3.cmml" xref="S6.SS2.p1.7.m7.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.7.m7.1c">I=100</annotation></semantics></math> and <math id="S6.SS2.p1.8.m8.1" class="ltx_Math" alttext="I=200" display="inline"><semantics id="S6.SS2.p1.8.m8.1a"><mrow id="S6.SS2.p1.8.m8.1.1" xref="S6.SS2.p1.8.m8.1.1.cmml"><mi id="S6.SS2.p1.8.m8.1.1.2" xref="S6.SS2.p1.8.m8.1.1.2.cmml">I</mi><mo id="S6.SS2.p1.8.m8.1.1.1" xref="S6.SS2.p1.8.m8.1.1.1.cmml">=</mo><mn id="S6.SS2.p1.8.m8.1.1.3" xref="S6.SS2.p1.8.m8.1.1.3.cmml">200</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.8.m8.1b"><apply id="S6.SS2.p1.8.m8.1.1.cmml" xref="S6.SS2.p1.8.m8.1.1"><eq id="S6.SS2.p1.8.m8.1.1.1.cmml" xref="S6.SS2.p1.8.m8.1.1.1"></eq><ci id="S6.SS2.p1.8.m8.1.1.2.cmml" xref="S6.SS2.p1.8.m8.1.1.2">𝐼</ci><cn type="integer" id="S6.SS2.p1.8.m8.1.1.3.cmml" xref="S6.SS2.p1.8.m8.1.1.3">200</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.8.m8.1c">I=200</annotation></semantics></math>, consistent across all <math id="S6.SS2.p1.9.m9.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S6.SS2.p1.9.m9.1a"><mi id="S6.SS2.p1.9.m9.1.1" xref="S6.SS2.p1.9.m9.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.9.m9.1b"><ci id="S6.SS2.p1.9.m9.1.1.cmml" xref="S6.SS2.p1.9.m9.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.9.m9.1c">S</annotation></semantics></math> and <math id="S6.SS2.p1.10.m10.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S6.SS2.p1.10.m10.1a"><mi id="S6.SS2.p1.10.m10.1.1" xref="S6.SS2.p1.10.m10.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.10.m10.1b"><ci id="S6.SS2.p1.10.m10.1.1.cmml" xref="S6.SS2.p1.10.m10.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.10.m10.1c">K</annotation></semantics></math> settings. Yet, at <math id="S6.SS2.p1.11.m11.1" class="ltx_Math" alttext="I=400" display="inline"><semantics id="S6.SS2.p1.11.m11.1a"><mrow id="S6.SS2.p1.11.m11.1.1" xref="S6.SS2.p1.11.m11.1.1.cmml"><mi id="S6.SS2.p1.11.m11.1.1.2" xref="S6.SS2.p1.11.m11.1.1.2.cmml">I</mi><mo id="S6.SS2.p1.11.m11.1.1.1" xref="S6.SS2.p1.11.m11.1.1.1.cmml">=</mo><mn id="S6.SS2.p1.11.m11.1.1.3" xref="S6.SS2.p1.11.m11.1.1.3.cmml">400</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.11.m11.1b"><apply id="S6.SS2.p1.11.m11.1.1.cmml" xref="S6.SS2.p1.11.m11.1.1"><eq id="S6.SS2.p1.11.m11.1.1.1.cmml" xref="S6.SS2.p1.11.m11.1.1.1"></eq><ci id="S6.SS2.p1.11.m11.1.1.2.cmml" xref="S6.SS2.p1.11.m11.1.1.2">𝐼</ci><cn type="integer" id="S6.SS2.p1.11.m11.1.1.3.cmml" xref="S6.SS2.p1.11.m11.1.1.3">400</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.11.m11.1c">I=400</annotation></semantics></math>, gains taper off, implying that excessive complexity may exceed the model’s reasoning capabilities, leading to diminishing returns for our method under extreme task difficulty.</p>
</div>
<figure id="S6.F6" class="ltx_figure"><img src="/html/2402.05120/assets/fig/analysis_main_1.png" id="S6.F6.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="419" height="117" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>(Left) The relative performance gains increase and then decrease with rising inherent difficulty. (Middle) The relative performance gains increase with the number of steps. (Right) The absolute performance increases with the prior probability. We analyze each dimension by fixing the other two dimensions.</figcaption>
</figure>
</section>
<section id="S6.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.3 </span>Number of Steps</h3>

<div id="S6.SS3.p1" class="ltx_para">
<p id="S6.SS3.p1.14" class="ltx_p"><span id="S6.SS3.p1.14.1" class="ltx_text ltx_font_typewriter">Property 2.1</span>: <span id="S6.SS3.p1.14.2" class="ltx_text ltx_font_italic">Gains increase with the number of steps.</span>
We analyze the number of steps by isolating <math id="S6.SS3.p1.1.m1.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S6.SS3.p1.1.m1.1a"><mi id="S6.SS3.p1.1.m1.1.1" xref="S6.SS3.p1.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.1.m1.1b"><ci id="S6.SS3.p1.1.m1.1.1.cmml" xref="S6.SS3.p1.1.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.1.m1.1c">S</annotation></semantics></math>. We tune <math id="S6.SS3.p1.2.m2.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S6.SS3.p1.2.m2.1a"><mi id="S6.SS3.p1.2.m2.1.1" xref="S6.SS3.p1.2.m2.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.2.m2.1b"><ci id="S6.SS3.p1.2.m2.1.1.cmml" xref="S6.SS3.p1.2.m2.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.2.m2.1c">S</annotation></semantics></math> from <math id="S6.SS3.p1.3.m3.1" class="ltx_Math" alttext="1" display="inline"><semantics id="S6.SS3.p1.3.m3.1a"><mn id="S6.SS3.p1.3.m3.1.1" xref="S6.SS3.p1.3.m3.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.3.m3.1b"><cn type="integer" id="S6.SS3.p1.3.m3.1.1.cmml" xref="S6.SS3.p1.3.m3.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.3.m3.1c">1</annotation></semantics></math> to <math id="S6.SS3.p1.4.m4.1" class="ltx_Math" alttext="8" display="inline"><semantics id="S6.SS3.p1.4.m4.1a"><mn id="S6.SS3.p1.4.m4.1.1" xref="S6.SS3.p1.4.m4.1.1.cmml">8</mn><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.4.m4.1b"><cn type="integer" id="S6.SS3.p1.4.m4.1.1.cmml" xref="S6.SS3.p1.4.m4.1.1">8</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.4.m4.1c">8</annotation></semantics></math>, while keeping the values of <math id="S6.SS3.p1.5.m5.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S6.SS3.p1.5.m5.1a"><mi id="S6.SS3.p1.5.m5.1.1" xref="S6.SS3.p1.5.m5.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.5.m5.1b"><ci id="S6.SS3.p1.5.m5.1.1.cmml" xref="S6.SS3.p1.5.m5.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.5.m5.1c">I</annotation></semantics></math> and <math id="S6.SS3.p1.6.m6.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S6.SS3.p1.6.m6.1a"><mi id="S6.SS3.p1.6.m6.1.1" xref="S6.SS3.p1.6.m6.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.6.m6.1b"><ci id="S6.SS3.p1.6.m6.1.1.cmml" xref="S6.SS3.p1.6.m6.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.6.m6.1c">K</annotation></semantics></math> constant across four groups of different values, ranging from small to large, respectively. Figure <a href="#S6.F6" title="Figure 6 ‣ 6.2 Inherent Difficulty ‣ 6 Understanding the Performance Gains ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> (middle) shows that as the number of steps increases, there is a corresponding increase in performance gain. Additionally, we find that when <math id="S6.SS3.p1.7.m7.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S6.SS3.p1.7.m7.1a"><mi id="S6.SS3.p1.7.m7.1.1" xref="S6.SS3.p1.7.m7.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.7.m7.1b"><ci id="S6.SS3.p1.7.m7.1.1.cmml" xref="S6.SS3.p1.7.m7.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.7.m7.1c">I</annotation></semantics></math> and <math id="S6.SS3.p1.8.m8.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S6.SS3.p1.8.m8.1a"><mi id="S6.SS3.p1.8.m8.1.1" xref="S6.SS3.p1.8.m8.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.8.m8.1b"><ci id="S6.SS3.p1.8.m8.1.1.cmml" xref="S6.SS3.p1.8.m8.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.8.m8.1c">K</annotation></semantics></math> are increased (which indicates a higher difficulty), the performance gains are more significant, e.g., <math id="S6.SS3.p1.9.m9.1" class="ltx_Math" alttext="4\%" display="inline"><semantics id="S6.SS3.p1.9.m9.1a"><mrow id="S6.SS3.p1.9.m9.1.1" xref="S6.SS3.p1.9.m9.1.1.cmml"><mn id="S6.SS3.p1.9.m9.1.1.2" xref="S6.SS3.p1.9.m9.1.1.2.cmml">4</mn><mo id="S6.SS3.p1.9.m9.1.1.1" xref="S6.SS3.p1.9.m9.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.9.m9.1b"><apply id="S6.SS3.p1.9.m9.1.1.cmml" xref="S6.SS3.p1.9.m9.1.1"><csymbol cd="latexml" id="S6.SS3.p1.9.m9.1.1.1.cmml" xref="S6.SS3.p1.9.m9.1.1.1">percent</csymbol><cn type="integer" id="S6.SS3.p1.9.m9.1.1.2.cmml" xref="S6.SS3.p1.9.m9.1.1.2">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.9.m9.1c">4\%</annotation></semantics></math>-<math id="S6.SS3.p1.10.m10.1" class="ltx_Math" alttext="18\%" display="inline"><semantics id="S6.SS3.p1.10.m10.1a"><mrow id="S6.SS3.p1.10.m10.1.1" xref="S6.SS3.p1.10.m10.1.1.cmml"><mn id="S6.SS3.p1.10.m10.1.1.2" xref="S6.SS3.p1.10.m10.1.1.2.cmml">18</mn><mo id="S6.SS3.p1.10.m10.1.1.1" xref="S6.SS3.p1.10.m10.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.10.m10.1b"><apply id="S6.SS3.p1.10.m10.1.1.cmml" xref="S6.SS3.p1.10.m10.1.1"><csymbol cd="latexml" id="S6.SS3.p1.10.m10.1.1.1.cmml" xref="S6.SS3.p1.10.m10.1.1.1">percent</csymbol><cn type="integer" id="S6.SS3.p1.10.m10.1.1.2.cmml" xref="S6.SS3.p1.10.m10.1.1.2">18</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.10.m10.1c">18\%</annotation></semantics></math> gains over <math id="S6.SS3.p1.11.m11.1" class="ltx_Math" alttext="\{I=10,K=2\}" display="inline"><semantics id="S6.SS3.p1.11.m11.1a"><mrow id="S6.SS3.p1.11.m11.1.1.1" xref="S6.SS3.p1.11.m11.1.1.2.cmml"><mo stretchy="false" id="S6.SS3.p1.11.m11.1.1.1.2" xref="S6.SS3.p1.11.m11.1.1.2.cmml">{</mo><mrow id="S6.SS3.p1.11.m11.1.1.1.1.2" xref="S6.SS3.p1.11.m11.1.1.1.1.3.cmml"><mrow id="S6.SS3.p1.11.m11.1.1.1.1.1.1" xref="S6.SS3.p1.11.m11.1.1.1.1.1.1.cmml"><mi id="S6.SS3.p1.11.m11.1.1.1.1.1.1.2" xref="S6.SS3.p1.11.m11.1.1.1.1.1.1.2.cmml">I</mi><mo id="S6.SS3.p1.11.m11.1.1.1.1.1.1.1" xref="S6.SS3.p1.11.m11.1.1.1.1.1.1.1.cmml">=</mo><mn id="S6.SS3.p1.11.m11.1.1.1.1.1.1.3" xref="S6.SS3.p1.11.m11.1.1.1.1.1.1.3.cmml">10</mn></mrow><mo id="S6.SS3.p1.11.m11.1.1.1.1.2.3" xref="S6.SS3.p1.11.m11.1.1.1.1.3a.cmml">,</mo><mrow id="S6.SS3.p1.11.m11.1.1.1.1.2.2" xref="S6.SS3.p1.11.m11.1.1.1.1.2.2.cmml"><mi id="S6.SS3.p1.11.m11.1.1.1.1.2.2.2" xref="S6.SS3.p1.11.m11.1.1.1.1.2.2.2.cmml">K</mi><mo id="S6.SS3.p1.11.m11.1.1.1.1.2.2.1" xref="S6.SS3.p1.11.m11.1.1.1.1.2.2.1.cmml">=</mo><mn id="S6.SS3.p1.11.m11.1.1.1.1.2.2.3" xref="S6.SS3.p1.11.m11.1.1.1.1.2.2.3.cmml">2</mn></mrow></mrow><mo stretchy="false" id="S6.SS3.p1.11.m11.1.1.1.3" xref="S6.SS3.p1.11.m11.1.1.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.11.m11.1b"><set id="S6.SS3.p1.11.m11.1.1.2.cmml" xref="S6.SS3.p1.11.m11.1.1.1"><apply id="S6.SS3.p1.11.m11.1.1.1.1.3.cmml" xref="S6.SS3.p1.11.m11.1.1.1.1.2"><csymbol cd="ambiguous" id="S6.SS3.p1.11.m11.1.1.1.1.3a.cmml" xref="S6.SS3.p1.11.m11.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S6.SS3.p1.11.m11.1.1.1.1.1.1.cmml" xref="S6.SS3.p1.11.m11.1.1.1.1.1.1"><eq id="S6.SS3.p1.11.m11.1.1.1.1.1.1.1.cmml" xref="S6.SS3.p1.11.m11.1.1.1.1.1.1.1"></eq><ci id="S6.SS3.p1.11.m11.1.1.1.1.1.1.2.cmml" xref="S6.SS3.p1.11.m11.1.1.1.1.1.1.2">𝐼</ci><cn type="integer" id="S6.SS3.p1.11.m11.1.1.1.1.1.1.3.cmml" xref="S6.SS3.p1.11.m11.1.1.1.1.1.1.3">10</cn></apply><apply id="S6.SS3.p1.11.m11.1.1.1.1.2.2.cmml" xref="S6.SS3.p1.11.m11.1.1.1.1.2.2"><eq id="S6.SS3.p1.11.m11.1.1.1.1.2.2.1.cmml" xref="S6.SS3.p1.11.m11.1.1.1.1.2.2.1"></eq><ci id="S6.SS3.p1.11.m11.1.1.1.1.2.2.2.cmml" xref="S6.SS3.p1.11.m11.1.1.1.1.2.2.2">𝐾</ci><cn type="integer" id="S6.SS3.p1.11.m11.1.1.1.1.2.2.3.cmml" xref="S6.SS3.p1.11.m11.1.1.1.1.2.2.3">2</cn></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.11.m11.1c">\{I=10,K=2\}</annotation></semantics></math> compared to <math id="S6.SS3.p1.12.m12.1" class="ltx_Math" alttext="16\%" display="inline"><semantics id="S6.SS3.p1.12.m12.1a"><mrow id="S6.SS3.p1.12.m12.1.1" xref="S6.SS3.p1.12.m12.1.1.cmml"><mn id="S6.SS3.p1.12.m12.1.1.2" xref="S6.SS3.p1.12.m12.1.1.2.cmml">16</mn><mo id="S6.SS3.p1.12.m12.1.1.1" xref="S6.SS3.p1.12.m12.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.12.m12.1b"><apply id="S6.SS3.p1.12.m12.1.1.cmml" xref="S6.SS3.p1.12.m12.1.1"><csymbol cd="latexml" id="S6.SS3.p1.12.m12.1.1.1.cmml" xref="S6.SS3.p1.12.m12.1.1.1">percent</csymbol><cn type="integer" id="S6.SS3.p1.12.m12.1.1.2.cmml" xref="S6.SS3.p1.12.m12.1.1.2">16</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.12.m12.1c">16\%</annotation></semantics></math>-<math id="S6.SS3.p1.13.m13.1" class="ltx_Math" alttext="48\%" display="inline"><semantics id="S6.SS3.p1.13.m13.1a"><mrow id="S6.SS3.p1.13.m13.1.1" xref="S6.SS3.p1.13.m13.1.1.cmml"><mn id="S6.SS3.p1.13.m13.1.1.2" xref="S6.SS3.p1.13.m13.1.1.2.cmml">48</mn><mo id="S6.SS3.p1.13.m13.1.1.1" xref="S6.SS3.p1.13.m13.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.13.m13.1b"><apply id="S6.SS3.p1.13.m13.1.1.cmml" xref="S6.SS3.p1.13.m13.1.1"><csymbol cd="latexml" id="S6.SS3.p1.13.m13.1.1.1.cmml" xref="S6.SS3.p1.13.m13.1.1.1">percent</csymbol><cn type="integer" id="S6.SS3.p1.13.m13.1.1.2.cmml" xref="S6.SS3.p1.13.m13.1.1.2">48</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.13.m13.1c">48\%</annotation></semantics></math> over <math id="S6.SS3.p1.14.m14.1" class="ltx_Math" alttext="\{I=100,K=4\}" display="inline"><semantics id="S6.SS3.p1.14.m14.1a"><mrow id="S6.SS3.p1.14.m14.1.1.1" xref="S6.SS3.p1.14.m14.1.1.2.cmml"><mo stretchy="false" id="S6.SS3.p1.14.m14.1.1.1.2" xref="S6.SS3.p1.14.m14.1.1.2.cmml">{</mo><mrow id="S6.SS3.p1.14.m14.1.1.1.1.2" xref="S6.SS3.p1.14.m14.1.1.1.1.3.cmml"><mrow id="S6.SS3.p1.14.m14.1.1.1.1.1.1" xref="S6.SS3.p1.14.m14.1.1.1.1.1.1.cmml"><mi id="S6.SS3.p1.14.m14.1.1.1.1.1.1.2" xref="S6.SS3.p1.14.m14.1.1.1.1.1.1.2.cmml">I</mi><mo id="S6.SS3.p1.14.m14.1.1.1.1.1.1.1" xref="S6.SS3.p1.14.m14.1.1.1.1.1.1.1.cmml">=</mo><mn id="S6.SS3.p1.14.m14.1.1.1.1.1.1.3" xref="S6.SS3.p1.14.m14.1.1.1.1.1.1.3.cmml">100</mn></mrow><mo id="S6.SS3.p1.14.m14.1.1.1.1.2.3" xref="S6.SS3.p1.14.m14.1.1.1.1.3a.cmml">,</mo><mrow id="S6.SS3.p1.14.m14.1.1.1.1.2.2" xref="S6.SS3.p1.14.m14.1.1.1.1.2.2.cmml"><mi id="S6.SS3.p1.14.m14.1.1.1.1.2.2.2" xref="S6.SS3.p1.14.m14.1.1.1.1.2.2.2.cmml">K</mi><mo id="S6.SS3.p1.14.m14.1.1.1.1.2.2.1" xref="S6.SS3.p1.14.m14.1.1.1.1.2.2.1.cmml">=</mo><mn id="S6.SS3.p1.14.m14.1.1.1.1.2.2.3" xref="S6.SS3.p1.14.m14.1.1.1.1.2.2.3.cmml">4</mn></mrow></mrow><mo stretchy="false" id="S6.SS3.p1.14.m14.1.1.1.3" xref="S6.SS3.p1.14.m14.1.1.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.14.m14.1b"><set id="S6.SS3.p1.14.m14.1.1.2.cmml" xref="S6.SS3.p1.14.m14.1.1.1"><apply id="S6.SS3.p1.14.m14.1.1.1.1.3.cmml" xref="S6.SS3.p1.14.m14.1.1.1.1.2"><csymbol cd="ambiguous" id="S6.SS3.p1.14.m14.1.1.1.1.3a.cmml" xref="S6.SS3.p1.14.m14.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S6.SS3.p1.14.m14.1.1.1.1.1.1.cmml" xref="S6.SS3.p1.14.m14.1.1.1.1.1.1"><eq id="S6.SS3.p1.14.m14.1.1.1.1.1.1.1.cmml" xref="S6.SS3.p1.14.m14.1.1.1.1.1.1.1"></eq><ci id="S6.SS3.p1.14.m14.1.1.1.1.1.1.2.cmml" xref="S6.SS3.p1.14.m14.1.1.1.1.1.1.2">𝐼</ci><cn type="integer" id="S6.SS3.p1.14.m14.1.1.1.1.1.1.3.cmml" xref="S6.SS3.p1.14.m14.1.1.1.1.1.1.3">100</cn></apply><apply id="S6.SS3.p1.14.m14.1.1.1.1.2.2.cmml" xref="S6.SS3.p1.14.m14.1.1.1.1.2.2"><eq id="S6.SS3.p1.14.m14.1.1.1.1.2.2.1.cmml" xref="S6.SS3.p1.14.m14.1.1.1.1.2.2.1"></eq><ci id="S6.SS3.p1.14.m14.1.1.1.1.2.2.2.cmml" xref="S6.SS3.p1.14.m14.1.1.1.1.2.2.2">𝐾</ci><cn type="integer" id="S6.SS3.p1.14.m14.1.1.1.1.2.2.3.cmml" xref="S6.SS3.p1.14.m14.1.1.1.1.2.2.3">4</cn></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.14.m14.1c">\{I=100,K=4\}</annotation></semantics></math>.</p>
</div>
<div id="S6.SS3.p2" class="ltx_para">
<p id="S6.SS3.p2.1" class="ltx_p"><span id="S6.SS3.p2.1.1" class="ltx_text ltx_font_typewriter">Property 2.2</span>: <span id="S6.SS3.p2.1.2" class="ltx_text ltx_font_italic">Sampling-and-voting increases the performance for each step.</span> We conduct a fine-grained analysis for each step of a given task. We explicitly prompt the language model to output the result of each step. Subsequently, we utilize sampling-and-voting at each step to derive the answer for that step. Figure <a href="#S6.F7" title="Figure 7 ‣ 6.3 Number of Steps ‣ 6 Understanding the Performance Gains ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> (left) shows that although each step has equal inherent difficulty, the accumulation of errors from previous steps lead to a decrease in accuracy as the number of steps increases. However, our method mitigates the performance decrease encountered with increasing steps.</p>
</div>
<figure id="S6.F7" class="ltx_figure"><img src="/html/2402.05120/assets/fig/analysis_extension_1.png" id="S6.F7.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="449" height="120" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>(Left) Our method increases the performance for each step. Blue bars show the accuracy of various steps for a single sample, and orange bars show the gains for 40 samples. (Middle) Step-wise sampling-and-voting can further enhance the performance across different levels of inherent difficulty. (Right) Hierarchical sampling-and-voting can further enhance the performance with homogeneous and heterogeneous model combinations.</figcaption>
</figure>
<div id="S6.SS3.p3" class="ltx_para">
<p id="S6.SS3.p3.1" class="ltx_p"><span id="S6.SS3.p3.1.1" class="ltx_text ltx_font_typewriter">Derivation.</span>
Based on Property 2, We propose step-wise sampling-and-voting can further enhance the performance.</p>
</div>
<div id="S6.SS3.p4" class="ltx_para">
<p id="S6.SS3.p4.7" class="ltx_p">Step-wise sampling-and-voting initially prompts the LLM to decompose the task into multiple steps. It then proceeds with multi-round iterations to produce the final result. In each round, the process begins by selecting a current unprocessed step and using sampling-and-voting to determine the result of that step. Subsequently, it uses the result to update the task. This iterative process is repeated multiple times until the last step is processed. To evaluate the performance of step-wise sampling-and-voting, we fix <math id="S6.SS3.p4.1.m1.1" class="ltx_Math" alttext="S=8" display="inline"><semantics id="S6.SS3.p4.1.m1.1a"><mrow id="S6.SS3.p4.1.m1.1.1" xref="S6.SS3.p4.1.m1.1.1.cmml"><mi id="S6.SS3.p4.1.m1.1.1.2" xref="S6.SS3.p4.1.m1.1.1.2.cmml">S</mi><mo id="S6.SS3.p4.1.m1.1.1.1" xref="S6.SS3.p4.1.m1.1.1.1.cmml">=</mo><mn id="S6.SS3.p4.1.m1.1.1.3" xref="S6.SS3.p4.1.m1.1.1.3.cmml">8</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS3.p4.1.m1.1b"><apply id="S6.SS3.p4.1.m1.1.1.cmml" xref="S6.SS3.p4.1.m1.1.1"><eq id="S6.SS3.p4.1.m1.1.1.1.cmml" xref="S6.SS3.p4.1.m1.1.1.1"></eq><ci id="S6.SS3.p4.1.m1.1.1.2.cmml" xref="S6.SS3.p4.1.m1.1.1.2">𝑆</ci><cn type="integer" id="S6.SS3.p4.1.m1.1.1.3.cmml" xref="S6.SS3.p4.1.m1.1.1.3">8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p4.1.m1.1c">S=8</annotation></semantics></math> and <math id="S6.SS3.p4.2.m2.1" class="ltx_Math" alttext="K=4" display="inline"><semantics id="S6.SS3.p4.2.m2.1a"><mrow id="S6.SS3.p4.2.m2.1.1" xref="S6.SS3.p4.2.m2.1.1.cmml"><mi id="S6.SS3.p4.2.m2.1.1.2" xref="S6.SS3.p4.2.m2.1.1.2.cmml">K</mi><mo id="S6.SS3.p4.2.m2.1.1.1" xref="S6.SS3.p4.2.m2.1.1.1.cmml">=</mo><mn id="S6.SS3.p4.2.m2.1.1.3" xref="S6.SS3.p4.2.m2.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS3.p4.2.m2.1b"><apply id="S6.SS3.p4.2.m2.1.1.cmml" xref="S6.SS3.p4.2.m2.1.1"><eq id="S6.SS3.p4.2.m2.1.1.1.cmml" xref="S6.SS3.p4.2.m2.1.1.1"></eq><ci id="S6.SS3.p4.2.m2.1.1.2.cmml" xref="S6.SS3.p4.2.m2.1.1.2">𝐾</ci><cn type="integer" id="S6.SS3.p4.2.m2.1.1.3.cmml" xref="S6.SS3.p4.2.m2.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p4.2.m2.1c">K=4</annotation></semantics></math>, and tune <math id="S6.SS3.p4.3.m3.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S6.SS3.p4.3.m3.1a"><mi id="S6.SS3.p4.3.m3.1.1" xref="S6.SS3.p4.3.m3.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S6.SS3.p4.3.m3.1b"><ci id="S6.SS3.p4.3.m3.1.1.cmml" xref="S6.SS3.p4.3.m3.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p4.3.m3.1c">I</annotation></semantics></math> from <math id="S6.SS3.p4.4.m4.1" class="ltx_Math" alttext="100" display="inline"><semantics id="S6.SS3.p4.4.m4.1a"><mn id="S6.SS3.p4.4.m4.1.1" xref="S6.SS3.p4.4.m4.1.1.cmml">100</mn><annotation-xml encoding="MathML-Content" id="S6.SS3.p4.4.m4.1b"><cn type="integer" id="S6.SS3.p4.4.m4.1.1.cmml" xref="S6.SS3.p4.4.m4.1.1">100</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p4.4.m4.1c">100</annotation></semantics></math> to <math id="S6.SS3.p4.5.m5.1" class="ltx_Math" alttext="400" display="inline"><semantics id="S6.SS3.p4.5.m5.1a"><mn id="S6.SS3.p4.5.m5.1.1" xref="S6.SS3.p4.5.m5.1.1.cmml">400</mn><annotation-xml encoding="MathML-Content" id="S6.SS3.p4.5.m5.1b"><cn type="integer" id="S6.SS3.p4.5.m5.1.1.cmml" xref="S6.SS3.p4.5.m5.1.1">400</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p4.5.m5.1c">400</annotation></semantics></math>. Figure <a href="#S6.F7" title="Figure 7 ‣ 6.3 Number of Steps ‣ 6 Understanding the Performance Gains ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> (middle) shows that compared to simple sampling-and-voting, step-wise sampling-and-voting yields greater improvements. e.g., we see <math id="S6.SS3.p4.6.m6.1" class="ltx_Math" alttext="15\%" display="inline"><semantics id="S6.SS3.p4.6.m6.1a"><mrow id="S6.SS3.p4.6.m6.1.1" xref="S6.SS3.p4.6.m6.1.1.cmml"><mn id="S6.SS3.p4.6.m6.1.1.2" xref="S6.SS3.p4.6.m6.1.1.2.cmml">15</mn><mo id="S6.SS3.p4.6.m6.1.1.1" xref="S6.SS3.p4.6.m6.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS3.p4.6.m6.1b"><apply id="S6.SS3.p4.6.m6.1.1.cmml" xref="S6.SS3.p4.6.m6.1.1"><csymbol cd="latexml" id="S6.SS3.p4.6.m6.1.1.1.cmml" xref="S6.SS3.p4.6.m6.1.1.1">percent</csymbol><cn type="integer" id="S6.SS3.p4.6.m6.1.1.2.cmml" xref="S6.SS3.p4.6.m6.1.1.2">15</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p4.6.m6.1c">15\%</annotation></semantics></math>-<math id="S6.SS3.p4.7.m7.1" class="ltx_Math" alttext="42\%" display="inline"><semantics id="S6.SS3.p4.7.m7.1a"><mrow id="S6.SS3.p4.7.m7.1.1" xref="S6.SS3.p4.7.m7.1.1.cmml"><mn id="S6.SS3.p4.7.m7.1.1.2" xref="S6.SS3.p4.7.m7.1.1.2.cmml">42</mn><mo id="S6.SS3.p4.7.m7.1.1.1" xref="S6.SS3.p4.7.m7.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS3.p4.7.m7.1b"><apply id="S6.SS3.p4.7.m7.1.1.cmml" xref="S6.SS3.p4.7.m7.1.1"><csymbol cd="latexml" id="S6.SS3.p4.7.m7.1.1.1.cmml" xref="S6.SS3.p4.7.m7.1.1.1">percent</csymbol><cn type="integer" id="S6.SS3.p4.7.m7.1.1.2.cmml" xref="S6.SS3.p4.7.m7.1.1.2">42</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p4.7.m7.1c">42\%</annotation></semantics></math> gains, which increase with inherent difficulty.</p>
</div>
</section>
<section id="S6.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.4 </span>Prior Probability</h3>

<div id="S6.SS4.p1" class="ltx_para">
<p id="S6.SS4.p1.12" class="ltx_p"><span id="S6.SS4.p1.12.1" class="ltx_text ltx_font_typewriter">Property 3</span>: <span id="S6.SS4.p1.12.2" class="ltx_text ltx_font_italic">The performance increases with the prior probability.</span> We investigate the influence of prior probability on performance by tuning the parameter <math id="S6.SS4.p1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S6.SS4.p1.1.m1.1a"><mi id="S6.SS4.p1.1.m1.1.1" xref="S6.SS4.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.1.m1.1b"><ci id="S6.SS4.p1.1.m1.1.1.cmml" xref="S6.SS4.p1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.1.m1.1c">K</annotation></semantics></math>, while maintaining constant values for <math id="S6.SS4.p1.2.m2.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S6.SS4.p1.2.m2.1a"><mi id="S6.SS4.p1.2.m2.1.1" xref="S6.SS4.p1.2.m2.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.2.m2.1b"><ci id="S6.SS4.p1.2.m2.1.1.cmml" xref="S6.SS4.p1.2.m2.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.2.m2.1c">I</annotation></semantics></math> and <math id="S6.SS4.p1.3.m3.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S6.SS4.p1.3.m3.1a"><mi id="S6.SS4.p1.3.m3.1.1" xref="S6.SS4.p1.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.3.m3.1b"><ci id="S6.SS4.p1.3.m3.1.1.cmml" xref="S6.SS4.p1.3.m3.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.3.m3.1c">K</annotation></semantics></math>. As <math id="S6.SS4.p1.4.m4.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S6.SS4.p1.4.m4.1a"><mi id="S6.SS4.p1.4.m4.1.1" xref="S6.SS4.p1.4.m4.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.4.m4.1b"><ci id="S6.SS4.p1.4.m4.1.1.cmml" xref="S6.SS4.p1.4.m4.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.4.m4.1c">K</annotation></semantics></math> represents the number of intervals, the prior probability is defined as <math id="S6.SS4.p1.5.m5.1" class="ltx_Math" alttext="1/K" display="inline"><semantics id="S6.SS4.p1.5.m5.1a"><mrow id="S6.SS4.p1.5.m5.1.1" xref="S6.SS4.p1.5.m5.1.1.cmml"><mn id="S6.SS4.p1.5.m5.1.1.2" xref="S6.SS4.p1.5.m5.1.1.2.cmml">1</mn><mo id="S6.SS4.p1.5.m5.1.1.1" xref="S6.SS4.p1.5.m5.1.1.1.cmml">/</mo><mi id="S6.SS4.p1.5.m5.1.1.3" xref="S6.SS4.p1.5.m5.1.1.3.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.5.m5.1b"><apply id="S6.SS4.p1.5.m5.1.1.cmml" xref="S6.SS4.p1.5.m5.1.1"><divide id="S6.SS4.p1.5.m5.1.1.1.cmml" xref="S6.SS4.p1.5.m5.1.1.1"></divide><cn type="integer" id="S6.SS4.p1.5.m5.1.1.2.cmml" xref="S6.SS4.p1.5.m5.1.1.2">1</cn><ci id="S6.SS4.p1.5.m5.1.1.3.cmml" xref="S6.SS4.p1.5.m5.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.5.m5.1c">1/K</annotation></semantics></math>. We vary <math id="S6.SS4.p1.6.m6.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S6.SS4.p1.6.m6.1a"><mi id="S6.SS4.p1.6.m6.1.1" xref="S6.SS4.p1.6.m6.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.6.m6.1b"><ci id="S6.SS4.p1.6.m6.1.1.cmml" xref="S6.SS4.p1.6.m6.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.6.m6.1c">K</annotation></semantics></math> from <math id="S6.SS4.p1.7.m7.1" class="ltx_Math" alttext="4" display="inline"><semantics id="S6.SS4.p1.7.m7.1a"><mn id="S6.SS4.p1.7.m7.1.1" xref="S6.SS4.p1.7.m7.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.7.m7.1b"><cn type="integer" id="S6.SS4.p1.7.m7.1.1.cmml" xref="S6.SS4.p1.7.m7.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.7.m7.1c">4</annotation></semantics></math> to <math id="S6.SS4.p1.8.m8.1" class="ltx_Math" alttext="32" display="inline"><semantics id="S6.SS4.p1.8.m8.1a"><mn id="S6.SS4.p1.8.m8.1.1" xref="S6.SS4.p1.8.m8.1.1.cmml">32</mn><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.8.m8.1b"><cn type="integer" id="S6.SS4.p1.8.m8.1.1.cmml" xref="S6.SS4.p1.8.m8.1.1">32</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.8.m8.1c">32</annotation></semantics></math>, which equivalently alters the prior probability from <math id="S6.SS4.p1.9.m9.1" class="ltx_Math" alttext="1/4" display="inline"><semantics id="S6.SS4.p1.9.m9.1a"><mrow id="S6.SS4.p1.9.m9.1.1" xref="S6.SS4.p1.9.m9.1.1.cmml"><mn id="S6.SS4.p1.9.m9.1.1.2" xref="S6.SS4.p1.9.m9.1.1.2.cmml">1</mn><mo id="S6.SS4.p1.9.m9.1.1.1" xref="S6.SS4.p1.9.m9.1.1.1.cmml">/</mo><mn id="S6.SS4.p1.9.m9.1.1.3" xref="S6.SS4.p1.9.m9.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.9.m9.1b"><apply id="S6.SS4.p1.9.m9.1.1.cmml" xref="S6.SS4.p1.9.m9.1.1"><divide id="S6.SS4.p1.9.m9.1.1.1.cmml" xref="S6.SS4.p1.9.m9.1.1.1"></divide><cn type="integer" id="S6.SS4.p1.9.m9.1.1.2.cmml" xref="S6.SS4.p1.9.m9.1.1.2">1</cn><cn type="integer" id="S6.SS4.p1.9.m9.1.1.3.cmml" xref="S6.SS4.p1.9.m9.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.9.m9.1c">1/4</annotation></semantics></math> to <math id="S6.SS4.p1.10.m10.1" class="ltx_Math" alttext="1/32" display="inline"><semantics id="S6.SS4.p1.10.m10.1a"><mrow id="S6.SS4.p1.10.m10.1.1" xref="S6.SS4.p1.10.m10.1.1.cmml"><mn id="S6.SS4.p1.10.m10.1.1.2" xref="S6.SS4.p1.10.m10.1.1.2.cmml">1</mn><mo id="S6.SS4.p1.10.m10.1.1.1" xref="S6.SS4.p1.10.m10.1.1.1.cmml">/</mo><mn id="S6.SS4.p1.10.m10.1.1.3" xref="S6.SS4.p1.10.m10.1.1.3.cmml">32</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.10.m10.1b"><apply id="S6.SS4.p1.10.m10.1.1.cmml" xref="S6.SS4.p1.10.m10.1.1"><divide id="S6.SS4.p1.10.m10.1.1.1.cmml" xref="S6.SS4.p1.10.m10.1.1.1"></divide><cn type="integer" id="S6.SS4.p1.10.m10.1.1.2.cmml" xref="S6.SS4.p1.10.m10.1.1.2">1</cn><cn type="integer" id="S6.SS4.p1.10.m10.1.1.3.cmml" xref="S6.SS4.p1.10.m10.1.1.3">32</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.10.m10.1c">1/32</annotation></semantics></math>. Through four experimental groups illustrated in Figure <a href="#S6.F6" title="Figure 6 ‣ 6.2 Inherent Difficulty ‣ 6 Understanding the Performance Gains ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> (right), each characterized by different configurations of <math id="S6.SS4.p1.11.m11.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S6.SS4.p1.11.m11.1a"><mi id="S6.SS4.p1.11.m11.1.1" xref="S6.SS4.p1.11.m11.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.11.m11.1b"><ci id="S6.SS4.p1.11.m11.1.1.cmml" xref="S6.SS4.p1.11.m11.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.11.m11.1c">I</annotation></semantics></math> and <math id="S6.SS4.p1.12.m12.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S6.SS4.p1.12.m12.1a"><mi id="S6.SS4.p1.12.m12.1.1" xref="S6.SS4.p1.12.m12.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.12.m12.1b"><ci id="S6.SS4.p1.12.m12.1.1.cmml" xref="S6.SS4.p1.12.m12.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.12.m12.1c">S</annotation></semantics></math>, we find that as the prior probability increases, so does the performance.</p>
</div>
<div id="S6.SS4.p2" class="ltx_para">
<p id="S6.SS4.p2.1" class="ltx_p"><span id="S6.SS4.p2.1.1" class="ltx_text ltx_font_typewriter">Derivation.</span>
Based on Property 3, we propose hierarchical sampling-and-voting can further enhance the performance.</p>
</div>
<div id="S6.SS4.p3" class="ltx_para">
<p id="S6.SS4.p3.1" class="ltx_p">As the performance is related to the prior probability, decomposing low-probability tasks into multiple high-probability subtasks and addressing them hierarchically can boost performance. Moreover, subtasks with varying prior probabilities can be addressed using different models. Additionally, cost savings can be achieved by using simpler, less expensive models for the easier, higher-probability subtasks.</p>
</div>
<div id="S6.SS4.p4" class="ltx_para">
<p id="S6.SS4.p4.1" class="ltx_p">In our experiments, the task is to solve the problem with <math id="S6.SS4.p4.1.m1.1" class="ltx_Math" alttext="K=32" display="inline"><semantics id="S6.SS4.p4.1.m1.1a"><mrow id="S6.SS4.p4.1.m1.1.1" xref="S6.SS4.p4.1.m1.1.1.cmml"><mi id="S6.SS4.p4.1.m1.1.1.2" xref="S6.SS4.p4.1.m1.1.1.2.cmml">K</mi><mo id="S6.SS4.p4.1.m1.1.1.1" xref="S6.SS4.p4.1.m1.1.1.1.cmml">=</mo><mn id="S6.SS4.p4.1.m1.1.1.3" xref="S6.SS4.p4.1.m1.1.1.3.cmml">32</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS4.p4.1.m1.1b"><apply id="S6.SS4.p4.1.m1.1.1.cmml" xref="S6.SS4.p4.1.m1.1.1"><eq id="S6.SS4.p4.1.m1.1.1.1.cmml" xref="S6.SS4.p4.1.m1.1.1.1"></eq><ci id="S6.SS4.p4.1.m1.1.1.2.cmml" xref="S6.SS4.p4.1.m1.1.1.2">𝐾</ci><cn type="integer" id="S6.SS4.p4.1.m1.1.1.3.cmml" xref="S6.SS4.p4.1.m1.1.1.3">32</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p4.1.m1.1c">K=32</annotation></semantics></math>. GPT-3.5-Turbo is used in homogeneous combination experiment and GPT-3.5-Turbo and GPT-4 are used in heterogeneous combination experiment. The results are presented in Figure <a href="#S6.F7" title="Figure 7 ‣ 6.3 Number of Steps ‣ 6 Understanding the Performance Gains ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> (right).</p>
</div>
<div id="S6.SS4.p5" class="ltx_para">
<p id="S6.SS4.p5.4" class="ltx_p">In homogeneous combination experiment, by employing the hierarchical method, we start with <math id="S6.SS4.p5.1.m1.1" class="ltx_Math" alttext="K=8" display="inline"><semantics id="S6.SS4.p5.1.m1.1a"><mrow id="S6.SS4.p5.1.m1.1.1" xref="S6.SS4.p5.1.m1.1.1.cmml"><mi id="S6.SS4.p5.1.m1.1.1.2" xref="S6.SS4.p5.1.m1.1.1.2.cmml">K</mi><mo id="S6.SS4.p5.1.m1.1.1.1" xref="S6.SS4.p5.1.m1.1.1.1.cmml">=</mo><mn id="S6.SS4.p5.1.m1.1.1.3" xref="S6.SS4.p5.1.m1.1.1.3.cmml">8</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS4.p5.1.m1.1b"><apply id="S6.SS4.p5.1.m1.1.1.cmml" xref="S6.SS4.p5.1.m1.1.1"><eq id="S6.SS4.p5.1.m1.1.1.1.cmml" xref="S6.SS4.p5.1.m1.1.1.1"></eq><ci id="S6.SS4.p5.1.m1.1.1.2.cmml" xref="S6.SS4.p5.1.m1.1.1.2">𝐾</ci><cn type="integer" id="S6.SS4.p5.1.m1.1.1.3.cmml" xref="S6.SS4.p5.1.m1.1.1.3">8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p5.1.m1.1c">K=8</annotation></semantics></math> to obtain an intermediate answer and then find the solution with <math id="S6.SS4.p5.2.m2.1" class="ltx_Math" alttext="K=32" display="inline"><semantics id="S6.SS4.p5.2.m2.1a"><mrow id="S6.SS4.p5.2.m2.1.1" xref="S6.SS4.p5.2.m2.1.1.cmml"><mi id="S6.SS4.p5.2.m2.1.1.2" xref="S6.SS4.p5.2.m2.1.1.2.cmml">K</mi><mo id="S6.SS4.p5.2.m2.1.1.1" xref="S6.SS4.p5.2.m2.1.1.1.cmml">=</mo><mn id="S6.SS4.p5.2.m2.1.1.3" xref="S6.SS4.p5.2.m2.1.1.3.cmml">32</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS4.p5.2.m2.1b"><apply id="S6.SS4.p5.2.m2.1.1.cmml" xref="S6.SS4.p5.2.m2.1.1"><eq id="S6.SS4.p5.2.m2.1.1.1.cmml" xref="S6.SS4.p5.2.m2.1.1.1"></eq><ci id="S6.SS4.p5.2.m2.1.1.2.cmml" xref="S6.SS4.p5.2.m2.1.1.2">𝐾</ci><cn type="integer" id="S6.SS4.p5.2.m2.1.1.3.cmml" xref="S6.SS4.p5.2.m2.1.1.3">32</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p5.2.m2.1c">K=32</annotation></semantics></math>, focusing on intervals identified by the intermediate answer. This method enhances the performance from <math id="S6.SS4.p5.3.m3.1" class="ltx_Math" alttext="21\%" display="inline"><semantics id="S6.SS4.p5.3.m3.1a"><mrow id="S6.SS4.p5.3.m3.1.1" xref="S6.SS4.p5.3.m3.1.1.cmml"><mn id="S6.SS4.p5.3.m3.1.1.2" xref="S6.SS4.p5.3.m3.1.1.2.cmml">21</mn><mo id="S6.SS4.p5.3.m3.1.1.1" xref="S6.SS4.p5.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS4.p5.3.m3.1b"><apply id="S6.SS4.p5.3.m3.1.1.cmml" xref="S6.SS4.p5.3.m3.1.1"><csymbol cd="latexml" id="S6.SS4.p5.3.m3.1.1.1.cmml" xref="S6.SS4.p5.3.m3.1.1.1">percent</csymbol><cn type="integer" id="S6.SS4.p5.3.m3.1.1.2.cmml" xref="S6.SS4.p5.3.m3.1.1.2">21</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p5.3.m3.1c">21\%</annotation></semantics></math> to <math id="S6.SS4.p5.4.m4.1" class="ltx_Math" alttext="31\%" display="inline"><semantics id="S6.SS4.p5.4.m4.1a"><mrow id="S6.SS4.p5.4.m4.1.1" xref="S6.SS4.p5.4.m4.1.1.cmml"><mn id="S6.SS4.p5.4.m4.1.1.2" xref="S6.SS4.p5.4.m4.1.1.2.cmml">31</mn><mo id="S6.SS4.p5.4.m4.1.1.1" xref="S6.SS4.p5.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS4.p5.4.m4.1b"><apply id="S6.SS4.p5.4.m4.1.1.cmml" xref="S6.SS4.p5.4.m4.1.1"><csymbol cd="latexml" id="S6.SS4.p5.4.m4.1.1.1.cmml" xref="S6.SS4.p5.4.m4.1.1.1">percent</csymbol><cn type="integer" id="S6.SS4.p5.4.m4.1.1.2.cmml" xref="S6.SS4.p5.4.m4.1.1.2">31</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p5.4.m4.1c">31\%</annotation></semantics></math>, demonstrating that the hierarchical method can further enhance the performance.</p>
</div>
<div id="S6.SS4.p6" class="ltx_para">
<p id="S6.SS4.p6.5" class="ltx_p">In heterogeneous combination experiment, GPT-3.5-Turbo is used for generating the intermediate answer with <math id="S6.SS4.p6.1.m1.1" class="ltx_Math" alttext="K=8" display="inline"><semantics id="S6.SS4.p6.1.m1.1a"><mrow id="S6.SS4.p6.1.m1.1.1" xref="S6.SS4.p6.1.m1.1.1.cmml"><mi id="S6.SS4.p6.1.m1.1.1.2" xref="S6.SS4.p6.1.m1.1.1.2.cmml">K</mi><mo id="S6.SS4.p6.1.m1.1.1.1" xref="S6.SS4.p6.1.m1.1.1.1.cmml">=</mo><mn id="S6.SS4.p6.1.m1.1.1.3" xref="S6.SS4.p6.1.m1.1.1.3.cmml">8</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS4.p6.1.m1.1b"><apply id="S6.SS4.p6.1.m1.1.1.cmml" xref="S6.SS4.p6.1.m1.1.1"><eq id="S6.SS4.p6.1.m1.1.1.1.cmml" xref="S6.SS4.p6.1.m1.1.1.1"></eq><ci id="S6.SS4.p6.1.m1.1.1.2.cmml" xref="S6.SS4.p6.1.m1.1.1.2">𝐾</ci><cn type="integer" id="S6.SS4.p6.1.m1.1.1.3.cmml" xref="S6.SS4.p6.1.m1.1.1.3">8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p6.1.m1.1c">K=8</annotation></semantics></math>, and GPT-4 is then employed to solve for the final answer with <math id="S6.SS4.p6.2.m2.1" class="ltx_Math" alttext="K=32" display="inline"><semantics id="S6.SS4.p6.2.m2.1a"><mrow id="S6.SS4.p6.2.m2.1.1" xref="S6.SS4.p6.2.m2.1.1.cmml"><mi id="S6.SS4.p6.2.m2.1.1.2" xref="S6.SS4.p6.2.m2.1.1.2.cmml">K</mi><mo id="S6.SS4.p6.2.m2.1.1.1" xref="S6.SS4.p6.2.m2.1.1.1.cmml">=</mo><mn id="S6.SS4.p6.2.m2.1.1.3" xref="S6.SS4.p6.2.m2.1.1.3.cmml">32</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS4.p6.2.m2.1b"><apply id="S6.SS4.p6.2.m2.1.1.cmml" xref="S6.SS4.p6.2.m2.1.1"><eq id="S6.SS4.p6.2.m2.1.1.1.cmml" xref="S6.SS4.p6.2.m2.1.1.1"></eq><ci id="S6.SS4.p6.2.m2.1.1.2.cmml" xref="S6.SS4.p6.2.m2.1.1.2">𝐾</ci><cn type="integer" id="S6.SS4.p6.2.m2.1.1.3.cmml" xref="S6.SS4.p6.2.m2.1.1.3">32</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p6.2.m2.1c">K=32</annotation></semantics></math>. In Figure <a href="#S6.F7" title="Figure 7 ‣ 6.3 Number of Steps ‣ 6 Understanding the Performance Gains ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> (right), compared with the result of GPT-4 with <math id="S6.SS4.p6.3.m3.1" class="ltx_Math" alttext="K=32" display="inline"><semantics id="S6.SS4.p6.3.m3.1a"><mrow id="S6.SS4.p6.3.m3.1.1" xref="S6.SS4.p6.3.m3.1.1.cmml"><mi id="S6.SS4.p6.3.m3.1.1.2" xref="S6.SS4.p6.3.m3.1.1.2.cmml">K</mi><mo id="S6.SS4.p6.3.m3.1.1.1" xref="S6.SS4.p6.3.m3.1.1.1.cmml">=</mo><mn id="S6.SS4.p6.3.m3.1.1.3" xref="S6.SS4.p6.3.m3.1.1.3.cmml">32</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS4.p6.3.m3.1b"><apply id="S6.SS4.p6.3.m3.1.1.cmml" xref="S6.SS4.p6.3.m3.1.1"><eq id="S6.SS4.p6.3.m3.1.1.1.cmml" xref="S6.SS4.p6.3.m3.1.1.1"></eq><ci id="S6.SS4.p6.3.m3.1.1.2.cmml" xref="S6.SS4.p6.3.m3.1.1.2">𝐾</ci><cn type="integer" id="S6.SS4.p6.3.m3.1.1.3.cmml" xref="S6.SS4.p6.3.m3.1.1.3">32</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p6.3.m3.1c">K=32</annotation></semantics></math>, the hierarchical method improves performance from <math id="S6.SS4.p6.4.m4.1" class="ltx_Math" alttext="35\%" display="inline"><semantics id="S6.SS4.p6.4.m4.1a"><mrow id="S6.SS4.p6.4.m4.1.1" xref="S6.SS4.p6.4.m4.1.1.cmml"><mn id="S6.SS4.p6.4.m4.1.1.2" xref="S6.SS4.p6.4.m4.1.1.2.cmml">35</mn><mo id="S6.SS4.p6.4.m4.1.1.1" xref="S6.SS4.p6.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS4.p6.4.m4.1b"><apply id="S6.SS4.p6.4.m4.1.1.cmml" xref="S6.SS4.p6.4.m4.1.1"><csymbol cd="latexml" id="S6.SS4.p6.4.m4.1.1.1.cmml" xref="S6.SS4.p6.4.m4.1.1.1">percent</csymbol><cn type="integer" id="S6.SS4.p6.4.m4.1.1.2.cmml" xref="S6.SS4.p6.4.m4.1.1.2">35</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p6.4.m4.1c">35\%</annotation></semantics></math> to <math id="S6.SS4.p6.5.m5.1" class="ltx_Math" alttext="47\%" display="inline"><semantics id="S6.SS4.p6.5.m5.1a"><mrow id="S6.SS4.p6.5.m5.1.1" xref="S6.SS4.p6.5.m5.1.1.cmml"><mn id="S6.SS4.p6.5.m5.1.1.2" xref="S6.SS4.p6.5.m5.1.1.2.cmml">47</mn><mo id="S6.SS4.p6.5.m5.1.1.1" xref="S6.SS4.p6.5.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS4.p6.5.m5.1b"><apply id="S6.SS4.p6.5.m5.1.1.cmml" xref="S6.SS4.p6.5.m5.1.1"><csymbol cd="latexml" id="S6.SS4.p6.5.m5.1.1.1.cmml" xref="S6.SS4.p6.5.m5.1.1.1">percent</csymbol><cn type="integer" id="S6.SS4.p6.5.m5.1.1.2.cmml" xref="S6.SS4.p6.5.m5.1.1.2">47</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p6.5.m5.1c">47\%</annotation></semantics></math>, suggesting the deployment of different LLMs at the corresponding level of problem-solving can improve the performance in a cost-effective manner.</p>
</div>
</section>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Conclusions and Future Work</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">In this paper, we report that <span id="S7.p1.1.1" class="ltx_text ltx_font_italic">more agents is all you need</span>, i.e., simply adding more instantiated LLM agents is what you need to obtain a better LLM performance in processing complex tasks, without bothering complicated methods, such as CoT pipelines, multi-agent collaboration frameworks, etc.
We have conducted the first comprehensive study in the literature to understand such a “scaling law”, including when it holds and how to facilitate its occurrence.</p>
</div>
<div id="S7.p2" class="ltx_para">
<p id="S7.p2.1" class="ltx_p">The results indicate that our simple sampling-and-voting method for instantiating agents can generally improve the performance of LLMs by increasing the ensemble size.
Importantly, this method is orthogonal to different existing methods, which can lead to further improvements when combined with them.</p>
</div>
<div id="S7.p3" class="ltx_para">
<p id="S7.p3.1" class="ltx_p">Furthermore, we observe that the performance gains are influenced by the difficulty of the task. To explore this correlation,
we isolate and analyze three dimensions of task difficulty: the inherent difficulty, the length of reasoning steps, and the prior probability of a correct answer.
We find that: 1) the performance gains increase then decrease by rising the inherent difficulty; 2) performance gains increase with the number of steps; and 3) performance increases with the prior probability. Based on these properties, we also develop ways to boost the effectiveness of “More Agents”.</p>
</div>
<div id="S7.p4" class="ltx_para">
<p id="S7.p4.1" class="ltx_p">Considering that each input remains the same when we increase the number of agents, the sampling phase can be optimized to reduce the cost. Nonetheless, such a challenge of escalating costs commonly exist in works requiring multiple LLM calls <cite class="ltx_cite ltx_citemacro_citep">(Wang et&nbsp;al., <a href="#bib.bib32" title="" class="ltx_ref">2023b</a>; Du et&nbsp;al., <a href="#bib.bib7" title="" class="ltx_ref">2023</a>)</cite>. We leave it as a future work to optimize.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Impact Statement</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">This paper introduces a simple method designed to enhance the performance of Large Language Models (LLMs). While the proposed method aims to improve the efficacy of LLMs in various tasks, it is necessary to acknowledge the potential risks. LLMs can sometimes produce outputs that, while plausible, may be factually incorrect or nonsensical. Such hallucinations can lead to the misguidance of decision-making processes and the propagation of biases. These concerns are particularly acute in the context of critical decision-making scenarios, where the accuracy and reliability of information are paramount. The broader adoption of LLMs, without adequate safeguards against these risks, could exacerbate these issues. Therefore, it is crucial to continue developing mechanisms to mitigate the potential adverse effects of LLM hallucinations to ensure that the deployment of these powerful models is both responsible and beneficial.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et&nbsp;al. (2023a)</span>
<span class="ltx_bibblock">
Chen, G., Dong, S., Shu, Y., Zhang, G., Sesay, J., Karlsson, B.&nbsp;F., Fu, J., and Shi, Y.

</span>
<span class="ltx_bibblock">Autoagents: A framework for automatic agent generation.

</span>
<span class="ltx_bibblock"><em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2309.17288, 2023a.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et&nbsp;al. (2023b)</span>
<span class="ltx_bibblock">
Chen, L., Zaharia, M., and Zou, J.

</span>
<span class="ltx_bibblock">Frugalgpt: How to use large language models while reducing cost and improving performance.

</span>
<span class="ltx_bibblock"><em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2305.05176, 2023b.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et&nbsp;al. (2021)</span>
<span class="ltx_bibblock">
Chen, M., Tworek, J., Jun, H., Yuan, Q., de&nbsp;Oliveira&nbsp;Pinto, H.&nbsp;P., Kaplan, J., Edwards, H., Burda, Y., Joseph, N., Brockman, G., Ray, A., Puri, R., Krueger, G., Petrov, M., Khlaaf, H., Sastry, G., Mishkin, P., Chan, B., Gray, S., Ryder, N., Pavlov, M., Power, A., Kaiser, L., Bavarian, M., Winter, C., Tillet, P., Such, F.&nbsp;P., Cummings, D., Plappert, M., Chantzis, F., Barnes, E., Herbert-Voss, A., Guss, W.&nbsp;H., Nichol, A., Paino, A., Tezak, N., Tang, J., Babuschkin, I., Balaji, S., Jain, S., Saunders, W., Hesse, C., Carr, A.&nbsp;N., Leike, J., Achiam, J., Misra, V., Morikawa, E., Radford, A., Knight, M., Brundage, M., Murati, M., Mayer, K., Welinder, P., McGrew, B., Amodei, D., McCandlish, S., Sutskever, I., and Zaremba, W.

</span>
<span class="ltx_bibblock">Evaluating large language models trained on code.

</span>
<span class="ltx_bibblock"><em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2107.03374, 2021.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et&nbsp;al. (2023c)</span>
<span class="ltx_bibblock">
Chen, W., Su, Y., Zuo, J., Yang, C., Yuan, C., Qian, C., Chan, C., Qin, Y., Lu, Y., Xie, R., Liu, Z., Sun, M., and Zhou, J.

</span>
<span class="ltx_bibblock">Agentverse: Facilitating multi-agent collaboration and exploring emergent behaviors in agents.

</span>
<span class="ltx_bibblock"><em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2308.10848, 2023c.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cobbe et&nbsp;al. (2021a)</span>
<span class="ltx_bibblock">
Cobbe, K., Kosaraju, V., Bavarian, M., Chen, M., Jun, H., Kaiser, L., Plappert, M., Tworek, J., Hilton, J., Nakano, R., Hesse, C., and Schulman, J.

</span>
<span class="ltx_bibblock">Training verifiers to solve math word problems.

</span>
<span class="ltx_bibblock"><em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2110.14168, 2021a.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cobbe et&nbsp;al. (2021b)</span>
<span class="ltx_bibblock">
Cobbe, K., Kosaraju, V., Bavarian, M., Chen, M., Jun, H., Kaiser, L., Plappert, M., Tworek, J., Hilton, J., Nakano, R., Hesse, C., and Schulman, J.

</span>
<span class="ltx_bibblock">Training verifiers to solve math word problems.

</span>
<span class="ltx_bibblock"><em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2110.14168, 2021b.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Du et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Du, Y., Li, S., Torralba, A., Tenenbaum, J.&nbsp;B., and Mordatch, I.

</span>
<span class="ltx_bibblock">Improving factuality and reasoning in language models through multiagent debate.

</span>
<span class="ltx_bibblock"><em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2305.14325, 2023.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ficler &amp; Goldberg (2017)</span>
<span class="ltx_bibblock">
Ficler, J. and Goldberg, Y.

</span>
<span class="ltx_bibblock">Controlling linguistic style aspects in neural language generation.

</span>
<span class="ltx_bibblock"><em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/1707.02633, 2017.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fu et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Fu, Y., Peng, H., Sabharwal, A., Clark, P., and Khot, T.

</span>
<span class="ltx_bibblock">Complexity-based prompting for multi-step reasoning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">The Eleventh International Conference on Learning Representations, ICLR 2023, Kigali, Rwanda, May 1-5, 2023</em>. OpenReview.net, 2023.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hendrycks et&nbsp;al. (2021a)</span>
<span class="ltx_bibblock">
Hendrycks, D., Burns, C., Basart, S., Zou, A., Mazeika, M., Song, D., and Steinhardt, J.

</span>
<span class="ltx_bibblock">Measuring massive multitask language understanding.

</span>
<span class="ltx_bibblock">In <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">9th International Conference on Learning Representations, ICLR 2021, Virtual Event, Austria, May 3-7, 2021</em>. OpenReview.net, 2021a.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hendrycks et&nbsp;al. (2021b)</span>
<span class="ltx_bibblock">
Hendrycks, D., Burns, C., Kadavath, S., Arora, A., Basart, S., Tang, E., Song, D., and Steinhardt, J.

</span>
<span class="ltx_bibblock">Measuring mathematical problem solving with the MATH dataset.

</span>
<span class="ltx_bibblock">In Vanschoren, J. and Yeung, S. (eds.), <em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Neural Information Processing Systems Track on Datasets and Benchmarks 1, NeurIPS Datasets and Benchmarks 2021, December 2021, virtual</em>, 2021b.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hong et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Hong, S., Zheng, X., Chen, J., Cheng, Y., Wang, J., Zhang, C., Wang, Z., Yau, S. K.&nbsp;S., Lin, Z., Zhou, L., Ran, C., Xiao, L., and Wu, C.

</span>
<span class="ltx_bibblock">Metagpt: Meta programming for multi-agent collaborative framework.

</span>
<span class="ltx_bibblock"><em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2308.00352, 2023.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Jiang, D., Ren, X., and Lin, B.&nbsp;Y.

</span>
<span class="ltx_bibblock">Llm-blender: Ensembling large language models with pairwise ranking and generative fusion.

</span>
<span class="ltx_bibblock">In Rogers, A., Boyd-Graber, J.&nbsp;L., and Okazaki, N. (eds.), <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers), ACL 2023, Toronto, Canada, July 9-14, 2023</em>, pp.&nbsp; 14165–14178. Association for Computational Linguistics, 2023.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kojima et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Kojima, T., Gu, S.&nbsp;S., Reid, M., Matsuo, Y., and Iwasawa, Y.

</span>
<span class="ltx_bibblock">Large language models are zero-shot reasoners.

</span>
<span class="ltx_bibblock">In <em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2022.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et&nbsp;al. (2023a)</span>
<span class="ltx_bibblock">
Li, G., Hammoud, H. A. A.&nbsp;K., Itani, H., Khizbullin, D., and Ghanem, B.

</span>
<span class="ltx_bibblock">CAMEL: communicative agents for ”mind” exploration of large scale language model society.

</span>
<span class="ltx_bibblock"><em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2303.17760, 2023a.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et&nbsp;al. (2023b)</span>
<span class="ltx_bibblock">
Li, Y., Lin, Z., Zhang, S., Fu, Q., Chen, B., Lou, J.-G., and Chen, W.

</span>
<span class="ltx_bibblock">Making language models better reasoners with step-aware verifier.

</span>
<span class="ltx_bibblock">In Rogers, A., Boyd-Graber, J., and Okazaki, N. (eds.), <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pp.&nbsp; 5315–5333, Toronto, Canada, July 2023b. Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liang et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Liang, T., He, Z., Jiao, W., Wang, X., Wang, Y., Wang, R., Yang, Y., Tu, Z., and Shi, S.

</span>
<span class="ltx_bibblock">Encouraging divergent thinking in large language models through multi-agent debate.

</span>
<span class="ltx_bibblock"><em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2305.19118, 2023.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Lin, L., Fu, J., Liu, P., Wan, J., Zhang, F., Wang, Z., Zhang, D., and Gai, K.

</span>
<span class="ltx_bibblock">Ask one more time: Self-agreement improves reasoning of language models in (almost) all scenarios.

</span>
<span class="ltx_bibblock"><em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2311.08154, 2023.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Liu, Z., Zhang, Y., Li, P., Liu, Y., and Yang, D.

</span>
<span class="ltx_bibblock">Dynamic llm-agent network: An llm-agent collaboration framework with agent team optimization.

</span>
<span class="ltx_bibblock"><em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2310.02170, 2023.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lu et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Lu, K., Yuan, H., Lin, R., Lin, J., Yuan, Z., Zhou, C., and Zhou, J.

</span>
<span class="ltx_bibblock">Routing to the expert: Efficient reward-guided ensemble of large language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2311.08692, 2023.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lu et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Lu, X., Liusie, A., Raina, V., Zhang, Y., and Beauchamp, W.

</span>
<span class="ltx_bibblock">Blending is all you need: Cheaper, better alternative to trillion-parameters llm.

</span>
<span class="ltx_bibblock"><em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2401.02994</em>, 2024.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI (2022)</span>
<span class="ltx_bibblock">
OpenAI.

</span>
<span class="ltx_bibblock">Chatgpt: Optimizing language models for dialogue, 2022.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://openai.com/blog/chatgpt" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://openai.com/blog/chatgpt</a>.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Papineni et&nbsp;al. (2002)</span>
<span class="ltx_bibblock">
Papineni, K., Roukos, S., Ward, T., and Zhu, W.-J.

</span>
<span class="ltx_bibblock">Bleu: a method for automatic evaluation of machine translation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 40st Annual Meeting of the Association for Computational Linguistics ACL 2002, Philadelphia, USA, July, 2002</em>, pp.&nbsp; 311–318. Association for Computational Linguistics, 2002.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Post (2018)</span>
<span class="ltx_bibblock">
Post, M.

</span>
<span class="ltx_bibblock">A call for clarity in reporting bleu scores.

</span>
<span class="ltx_bibblock"><em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1804.08771</em>, 2018.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et&nbsp;al. (2019)</span>
<span class="ltx_bibblock">
Radford, A., Wu, J., Child, R., Luan, D., Amodei, D., Sutskever, I., et&nbsp;al.

</span>
<span class="ltx_bibblock">Language models are unsupervised multitask learners.

</span>
<span class="ltx_bibblock"><em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">OpenAI blog</em>, 1(8):9, 2019.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shinn et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Shinn, N., Cassano, F., Gopinath, A., Narasimhan, K.&nbsp;R., and Yao, S.

</span>
<span class="ltx_bibblock">Reflexion: Language agents with verbal reinforcement learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">Thirty-seventh Conference on Neural Information Processing Systems</em>, 2023.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shnitzer et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Shnitzer, T., Ou, A., Silva, M., Soule, K., Sun, Y., Solomon, J., Thompson, N., and Yurochkin, M.

</span>
<span class="ltx_bibblock">Large language model routing with benchmark datasets.

</span>
<span class="ltx_bibblock"><em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2309.15789, 2023.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Thoppilan et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Thoppilan, R., Freitas, D.&nbsp;D., Hall, J., Shazeer, N., Kulshreshtha, A., Cheng, H., Jin, A., Bos, T., Baker, L., Du, Y., Li, Y., Lee, H., Zheng, H.&nbsp;S., Ghafouri, A., Menegali, M., Huang, Y., Krikun, M., Lepikhin, D., Qin, J., Chen, D., Xu, Y., Chen, Z., Roberts, A., Bosma, M., Zhou, Y., Chang, C., Krivokon, I., Rusch, W., Pickett, M., Meier-Hellstern, K.&nbsp;S., Morris, M.&nbsp;R., Doshi, T., Santos, R.&nbsp;D., Duke, T., Soraker, J., Zevenbergen, B., Prabhakaran, V., Diaz, M., Hutchinson, B., Olson, K., Molina, A., Hoffman-John, E., Lee, J., Aroyo, L., Rajakumar, R., Butryna, A., Lamm, M., Kuzmina, V., Fenton, J., Cohen, A., Bernstein, R., Kurzweil, R., y&nbsp;Arcas, B.&nbsp;A., Cui, C., Croak, M., Chi, E.&nbsp;H., and Le, Q.

</span>
<span class="ltx_bibblock">Lamda: Language models for dialog applications.

</span>
<span class="ltx_bibblock"><em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2201.08239, 2022.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Touvron, H., Martin, L., Stone, K., Albert, P., Almahairi, A., Babaei, Y., Bashlykov, N., Batra, S., Bhargava, P., Bhosale, S., Bikel, D., Blecher, L., Canton-Ferrer, C., Chen, M., Cucurull, G., Esiobu, D., Fernandes, J., Fu, J., Fu, W., Fuller, B., Gao, C., Goswami, V., Goyal, N., Hartshorn, A., Hosseini, S., Hou, R., Inan, H., Kardas, M., Kerkez, V., Khabsa, M., Kloumann, I., Korenev, A., Koura, P.&nbsp;S., Lachaux, M., Lavril, T., Lee, J., Liskovich, D., Lu, Y., Mao, Y., Martinet, X., Mihaylov, T., Mishra, P., Molybog, I., Nie, Y., Poulton, A., Reizenstein, J., Rungta, R., Saladi, K., Schelten, A., Silva, R., Smith, E.&nbsp;M., Subramanian, R., Tan, X.&nbsp;E., Tang, B., Taylor, R., Williams, A., Kuan, J.&nbsp;X., Xu, P., Yan, Z., Zarov, I., Zhang, Y., Fan, A., Kambadur, M., Narang, S., Rodriguez, A., Stojnic, R., Edunov, S., and Scialom, T.

</span>
<span class="ltx_bibblock">Llama 2: Open foundation and fine-tuned chat models.

</span>
<span class="ltx_bibblock"><em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2307.09288, 2023.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wan et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Wan, F., Huang, X., Cai, D., Quan, X., Bi, W., and Shi, S.

</span>
<span class="ltx_bibblock">Knowledge fusion of large language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2401.10491</em>, 2024.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et&nbsp;al. (2023a)</span>
<span class="ltx_bibblock">
Wang, H., Polo, F.&nbsp;M., Sun, Y., Kundu, S., Xing, E.&nbsp;P., and Yurochkin, M.

</span>
<span class="ltx_bibblock">Fusing models with complementary expertise.

</span>
<span class="ltx_bibblock"><em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2310.01542, 2023a.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et&nbsp;al. (2023b)</span>
<span class="ltx_bibblock">
Wang, X., Wei, J., Schuurmans, D., Le, Q.&nbsp;V., Chi, E.&nbsp;H., Narang, S., Chowdhery, A., and Zhou, D.

</span>
<span class="ltx_bibblock">Self-consistency improves chain of thought reasoning in language models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">The Eleventh International Conference on Learning Representations, ICLR 2023, Kigali, Rwanda, May 1-5, 2023</em>. OpenReview.net, 2023b.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et&nbsp;al. (2023c)</span>
<span class="ltx_bibblock">
Wang, Z., Mao, S., Wu, W., Ge, T., Wei, F., and Ji, H.

</span>
<span class="ltx_bibblock">Unleashing cognitive synergy in large language models: A task-solving agent through multi-persona self-collaboration.

</span>
<span class="ltx_bibblock"><em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2307.05300, 2023c.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Wei, J., Wang, X., Schuurmans, D., Bosma, M., Ichter, B., Xia, F., Chi, E.&nbsp;H., Le, Q.&nbsp;V., and Zhou, D.

</span>
<span class="ltx_bibblock">Chain-of-thought prompting elicits reasoning in large language models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2022.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Wu, Q., Bansal, G., Zhang, J., Wu, Y., Zhang, S., Zhu, E., Li, B., Jiang, L., Zhang, X., and Wang, C.

</span>
<span class="ltx_bibblock">Autogen: Enabling next-gen LLM applications via multi-agent conversation framework.

</span>
<span class="ltx_bibblock"><em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2308.08155, 2023.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiong et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Xiong, K., Ding, X., Cao, Y., Liu, T., and Qin, B.

</span>
<span class="ltx_bibblock">Examining the inter-consistency of large language models: An in-depth analysis via debate.

</span>
<span class="ltx_bibblock"><em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2305.11595, 2023.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Zhang, J., Xu, X., and Deng, S.

</span>
<span class="ltx_bibblock">Exploring collaboration mechanisms for llm agents: A social psychology view.

</span>
<span class="ltx_bibblock"><em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2310.02124</em>, 2023.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Zhao, W.&nbsp;X., Zhou, K., Li, J., Tang, T., Wang, X., Hou, Y., Min, Y., Zhang, B., Zhang, J., Dong, Z., Du, Y., Yang, C., Chen, Y., Chen, Z., Jiang, J., Ren, R., Li, Y., Tang, X., Liu, Z., Liu, P., Nie, J.-Y., and Wen, J.-R.

</span>
<span class="ltx_bibblock">A survey of large language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib38.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2303.18223</em>, 2023.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Detailed Experiment Settings</h2>

<section id="A1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Common Settings</h3>

<div id="A1.SS1.p1" class="ltx_para">
<p id="A1.SS1.p1.1" class="ltx_p">In all experiments involving GPT-3.5-Turbo presented in Section <a href="#S4" title="4 Experimental Setup ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, we utilize the model version <span id="A1.SS1.p1.1.1" class="ltx_text ltx_font_typewriter">gpt-3.5-turbo-0613</span>. In Table <a href="#S5.T2" title="Table 2 ‣ 5 Experimental Results ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, the notation GPT-4 corresponds to the model version <span id="A1.SS1.p1.1.2" class="ltx_text ltx_font_typewriter">gpt-4-0613</span>. For the experiments conducted with GPT-3.5-Turbo in Section <a href="#S6" title="6 Understanding the Performance Gains ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, we employ the model version <span id="A1.SS1.p1.1.3" class="ltx_text ltx_font_typewriter">gpt-3.5-turbo-1106</span> with the JSON mode enabled. Similarly, GPT-4 in this context refers to <span id="A1.SS1.p1.1.4" class="ltx_text ltx_font_typewriter">gpt4-1106-Preview</span> operating in JSON mode.</p>
</div>
</section>
<section id="A1.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Experiments on Arithmetic Reasoning Tasks</h3>

<div id="A1.SS2.p1" class="ltx_para">
<p id="A1.SS2.p1.1" class="ltx_p">For the implementation of the sampling-and-voting method to arithmetic reasoning tasks within the GSM8K and MATH datasets, we execute the initial sampling phase by Algorithm <a href="#alg1.l15" title="In Algorithm 1 ‣ 3 Method ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">15</span></a>. Samples are extracted from the responses by matching “boxed{{X}}”, where “X” denotes a numerical value or a mathematical expression.</p>
</div>
<div id="A1.SS2.p2" class="ltx_para">
<p id="A1.SS2.p2.1" class="ltx_p">In the subsequent voting phase, to evaluate the similarity between samples, as outlined in Algorithm <a href="#alg1.l15" title="In Algorithm 1 ‣ 3 Method ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">15</span></a>, we employ mathematical equivalence comparisons for each sample. The most probable sample is chosen as the final answer. This answer is subjected to a comparison of mathematical equivalence with the ground truth to ascertain the correctness of the result.</p>
</div>
</section>
<section id="A1.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.3 </span>Experiments on General Reasoning Tasks</h3>

<div id="A1.SS3.p1" class="ltx_para">
<p id="A1.SS3.p1.1" class="ltx_p">For general reasoning tasks, as encountered in the MMLU and Chess datasets, the sampling-and-voting method is applied following Algorithm <a href="#alg1.l15" title="In Algorithm 1 ‣ 3 Method ‣ More Agents Is All You Need" class="ltx_ref"><span class="ltx_text ltx_ref_tag">15</span></a> during the sampling phase. Samples are extracted by matching the pattern “(X” or “(X)”, where “X” corresponds to the options A, B, C, or D in MMLU task and the chessboard position in Chess task.</p>
</div>
<div id="A1.SS3.p2" class="ltx_para">
<p id="A1.SS3.p2.1" class="ltx_p">During the voting phase, we calculate similarity by counting the frequency of each option’s occurrence within the samples. The most frequently occurring option is then chosen as the final answer. This selected answer is compared with the ground truth to determine the accuracy of the result.</p>
</div>
</section>
<section id="A1.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.4 </span>Experiments on Code Generation Task</h3>

<div id="A1.SS4.p1" class="ltx_para">
<p id="A1.SS4.p1.1" class="ltx_p">In the code generation task, we apply the sampling-and-voting method to produce Python code using the HumanEval dataset. During the sampling phase, we extract Python code snippets from the model’s responses.</p>
</div>
<div id="A1.SS4.p2" class="ltx_para">
<p id="A1.SS4.p2.1" class="ltx_p">In the voting phase, we compute the <span id="A1.SS4.p2.1.1" class="ltx_text ltx_font_typewriter">BLEU</span> score using <span id="A1.SS4.p2.1.2" class="ltx_text ltx_font_italic">sacreBLEU</span> <cite class="ltx_cite ltx_citemacro_citep">(Post, <a href="#bib.bib24" title="" class="ltx_ref">2018</a>)</cite> to evaluate the similarity between each of the generated samples. The sample with the highest cumulative <span id="A1.SS4.p2.1.3" class="ltx_text ltx_font_typewriter">BLEU</span> score is selected as the final answer. This method ensures that the final output is the most representative and accurate piece of code as determined by consensus through similarity scoring among the samples.</p>
</div>
</section>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Detailed Experiment Results</h2>

<div id="A2.p1" class="ltx_para">
<p id="A2.p1.1" class="ltx_p">In this section, we provide the accuracy curves of our experiments across various datasets when utilizing different LLMs. From these curves, we demonstrate that our method has the following properties:</p>
<ul id="A2.I1" class="ltx_itemize">
<li id="A2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i1.p1" class="ltx_para">
<p id="A2.I1.i1.p1.1" class="ltx_p"><span id="A2.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">Generalizability.</span> By using our method standalone, the performance can be generally enhanced by increasing the ensemble size.</p>
</div>
</li>
<li id="A2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i2.p1" class="ltx_para">
<p id="A2.I1.i2.p1.1" class="ltx_p"><span id="A2.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">Compatibility.</span> Our method can generally enhance other methods by increasing the ensemble size.</p>
</div>
</li>
</ul>
</div>
<figure id="A2.F8" class="ltx_figure"><img src="/html/2402.05120/assets/x4.png" id="A2.F8.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="92" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Accuracy curves across various datasets using the Llama2-13B model.</figcaption>
</figure>
<figure id="A2.F9" class="ltx_figure"><img src="/html/2402.05120/assets/x5.png" id="A2.F9.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="92" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>Accuracy curves across various datasets using the Llama2-70B model.</figcaption>
</figure>
<figure id="A2.F10" class="ltx_figure"><img src="/html/2402.05120/assets/x6.png" id="A2.F10.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="92" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 10: </span>Accuracy curves across various datasets using the GPT-3.5-Turbo model.</figcaption>
</figure>
<figure id="A2.F11" class="ltx_figure"><img src="/html/2402.05120/assets/x7.png" id="A2.F11.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="92" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 11: </span>Debate accuracy curves across various datasets using the Llama2-13B model.</figcaption>
</figure>
<figure id="A2.F12" class="ltx_figure"><img src="/html/2402.05120/assets/x8.png" id="A2.F12.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="92" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 12: </span>Debate accuracy curves across various datasets using the Llama2-70B model.</figcaption>
</figure>
<figure id="A2.F13" class="ltx_figure"><img src="/html/2402.05120/assets/x9.png" id="A2.F13.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="92" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 13: </span>Debate accuracy curves across various datasets using the GPT-3.5-Turbo model.</figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2402.05119" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2402.05120" class="ar5iv-text-button ar5iv-severity-ok">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&amp;title=Improve+article+2402.05120">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2402.05120" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2402.05121" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Tue Mar  5 16:29:31 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    

</body></html>